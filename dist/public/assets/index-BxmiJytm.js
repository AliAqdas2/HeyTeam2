var kA=Object.defineProperty;var Uv=e=>{throw TypeError(e)};var _A=(e,t,n)=>t in e?kA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $=(e,t,n)=>_A(e,typeof t!="symbol"?t+"":t,n),im=(e,t,n)=>t.has(e)||Uv("Cannot "+n);var A=(e,t,n)=>(im(e,t,"read from private field"),n?n.call(e):t.get(e)),Pe=(e,t,n)=>t.has(e)?Uv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ue=(e,t,n,r)=>(im(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Qe=(e,t,n)=>(im(e,t,"access private method"),n);var td=(e,t,n,r)=>({set _(a){ue(e,t,a,n)},get _(){return A(e,t,r)}});function PA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function R1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A1={exports:{}},of={},I1={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=Symbol.for("react.element"),EA=Symbol.for("react.portal"),TA=Symbol.for("react.fragment"),MA=Symbol.for("react.strict_mode"),RA=Symbol.for("react.profiler"),AA=Symbol.for("react.provider"),IA=Symbol.for("react.context"),DA=Symbol.for("react.forward_ref"),OA=Symbol.for("react.suspense"),LA=Symbol.for("react.memo"),FA=Symbol.for("react.lazy"),Bv=Symbol.iterator;function $A(e){return e===null||typeof e!="object"?null:(e=Bv&&e[Bv]||e["@@iterator"],typeof e=="function"?e:null)}var D1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O1=Object.assign,L1={};function qo(e,t,n){this.props=e,this.context=t,this.refs=L1,this.updater=n||D1}qo.prototype.isReactComponent={};qo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F1(){}F1.prototype=qo.prototype;function ug(e,t,n){this.props=e,this.context=t,this.refs=L1,this.updater=n||D1}var fg=ug.prototype=new F1;fg.constructor=ug;O1(fg,qo.prototype);fg.isPureReactComponent=!0;var Hv=Array.isArray,$1=Object.prototype.hasOwnProperty,mg={current:null},z1={key:!0,ref:!0,__self:!0,__source:!0};function V1(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)$1.call(t,r)&&!z1.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:Mc,type:e,key:i,ref:o,props:a,_owner:mg.current}}function zA(e,t){return{$$typeof:Mc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mc}function VA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var qv=/\/+/g;function om(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VA(""+e.key):t.toString(36)}function Ad(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Mc:case EA:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+om(o,0):r,Hv(a)?(n="",e!=null&&(n=e.replace(qv,"$&/")+"/"),Ad(a,t,n,"",function(d){return d})):a!=null&&(hg(a)&&(a=zA(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(qv,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",Hv(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+om(i,l);o+=Ad(i,t,n,c,a)}else if(c=$A(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+om(i,l++),o+=Ad(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function nd(e,t,n){if(e==null)return e;var r=[],a=0;return Ad(e,r,"","",function(i){return t.call(n,i,a++)}),r}function UA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tn={current:null},Id={transition:null},BA={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:Id,ReactCurrentOwner:mg};function U1(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:nd,forEach:function(e,t,n){nd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nd(e,function(){t++}),t},toArray:function(e){return nd(e,function(t){return t})||[]},only:function(e){if(!hg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xe.Component=qo;Xe.Fragment=TA;Xe.Profiler=RA;Xe.PureComponent=ug;Xe.StrictMode=MA;Xe.Suspense=OA;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BA;Xe.act=U1;Xe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=O1({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=mg.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$1.call(t,c)&&!z1.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Mc,type:e.type,key:a,ref:i,props:r,_owner:o}};Xe.createContext=function(e){return e={$$typeof:IA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:AA,_context:e},e.Consumer=e};Xe.createElement=V1;Xe.createFactory=function(e){var t=V1.bind(null,e);return t.type=e,t};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(e){return{$$typeof:DA,render:e}};Xe.isValidElement=hg;Xe.lazy=function(e){return{$$typeof:FA,_payload:{_status:-1,_result:e},_init:UA}};Xe.memo=function(e,t){return{$$typeof:LA,type:e,compare:t===void 0?null:t}};Xe.startTransition=function(e){var t=Id.transition;Id.transition={};try{e()}finally{Id.transition=t}};Xe.unstable_act=U1;Xe.useCallback=function(e,t){return Tn.current.useCallback(e,t)};Xe.useContext=function(e){return Tn.current.useContext(e)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(e){return Tn.current.useDeferredValue(e)};Xe.useEffect=function(e,t){return Tn.current.useEffect(e,t)};Xe.useId=function(){return Tn.current.useId()};Xe.useImperativeHandle=function(e,t,n){return Tn.current.useImperativeHandle(e,t,n)};Xe.useInsertionEffect=function(e,t){return Tn.current.useInsertionEffect(e,t)};Xe.useLayoutEffect=function(e,t){return Tn.current.useLayoutEffect(e,t)};Xe.useMemo=function(e,t){return Tn.current.useMemo(e,t)};Xe.useReducer=function(e,t,n){return Tn.current.useReducer(e,t,n)};Xe.useRef=function(e){return Tn.current.useRef(e)};Xe.useState=function(e){return Tn.current.useState(e)};Xe.useSyncExternalStore=function(e,t,n){return Tn.current.useSyncExternalStore(e,t,n)};Xe.useTransition=function(){return Tn.current.useTransition()};Xe.version="18.3.1";I1.exports=Xe;var h=I1.exports;const G=R1(h),B1=PA({__proto__:null,default:G},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA=h,qA=Symbol.for("react.element"),WA=Symbol.for("react.fragment"),KA=Object.prototype.hasOwnProperty,QA=HA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GA={key:!0,ref:!0,__self:!0,__source:!0};function H1(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)KA.call(t,r)&&!GA.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:qA,type:e,key:i,ref:o,props:a,_owner:QA.current}}of.Fragment=WA;of.jsx=H1;of.jsxs=H1;A1.exports=of;var s=A1.exports,q1={exports:{}},er={},W1={exports:{}},K1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,_){var z=L.length;L.push(_);e:for(;0<z;){var Y=z-1>>>1,ae=L[Y];if(0<a(ae,_))L[Y]=_,L[z]=ae,z=Y;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var _=L[0],z=L.pop();if(z!==_){L[0]=z;e:for(var Y=0,ae=L.length,Me=ae>>>1;Y<Me;){var Ce=2*(Y+1)-1,Ke=L[Ce],De=Ce+1,de=L[De];if(0>a(Ke,z))De<ae&&0>a(de,Ke)?(L[Y]=de,L[De]=z,Y=De):(L[Y]=Ke,L[Ce]=z,Y=Ce);else if(De<ae&&0>a(de,z))L[Y]=de,L[De]=z,Y=De;else break e}}return _}function a(L,_){var z=L.sortIndex-_.sortIndex;return z!==0?z:L.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,m=3,p=!1,y=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var _=n(d);_!==null;){if(_.callback===null)r(d);else if(_.startTime<=L)r(d),_.sortIndex=_.expirationTime,t(c,_);else break;_=n(d)}}function N(L){if(g=!1,b(L),!y)if(n(c)!==null)y=!0,T(C);else{var _=n(d);_!==null&&B(N,_.startTime-L)}}function C(L,_){y=!1,g&&(g=!1,v(E),E=-1),p=!0;var z=m;try{for(b(_),f=n(c);f!==null&&(!(f.expirationTime>_)||L&&!D());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,m=f.priorityLevel;var ae=Y(f.expirationTime<=_);_=e.unstable_now(),typeof ae=="function"?f.callback=ae:f===n(c)&&r(c),b(_)}else r(c);f=n(c)}if(f!==null)var Me=!0;else{var Ce=n(d);Ce!==null&&B(N,Ce.startTime-_),Me=!1}return Me}finally{f=null,m=z,p=!1}}var P=!1,S=null,E=-1,O=5,j=-1;function D(){return!(e.unstable_now()-j<O)}function I(){if(S!==null){var L=e.unstable_now();j=L;var _=!0;try{_=S(!0,L)}finally{_?R():(P=!1,S=null)}}else P=!1}var R;if(typeof x=="function")R=function(){x(I)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,k=F.port2;F.port1.onmessage=I,R=function(){k.postMessage(null)}}else R=function(){w(I,0)};function T(L){S=L,P||(P=!0,R())}function B(L,_){E=w(function(){L(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,T(C))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(L){switch(m){case 1:case 2:case 3:var _=3;break;default:_=m}var z=m;m=_;try{return L()}finally{m=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,_){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=m;m=L;try{return _()}finally{m=z}},e.unstable_scheduleCallback=function(L,_,z){var Y=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Y+z:Y):z=Y,L){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=z+ae,L={id:u++,callback:_,priorityLevel:L,startTime:z,expirationTime:ae,sortIndex:-1},z>Y?(L.sortIndex=z,t(d,L),n(c)===null&&L===n(d)&&(g?(v(E),E=-1):g=!0,B(N,z-Y))):(L.sortIndex=ae,t(c,L),y||p||(y=!0,T(C))),L},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(L){var _=m;return function(){var z=m;m=_;try{return L.apply(this,arguments)}finally{m=z}}}})(K1);W1.exports=K1;var YA=W1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA=h,Xn=YA;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q1=new Set,Ul={};function wi(e,t){_o(e,t),_o(e+"Capture",t)}function _o(e,t){for(Ul[e]=t,e=0;e<t.length;e++)Q1.add(t[e])}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gh=Object.prototype.hasOwnProperty,JA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wv={},Kv={};function XA(e){return gh.call(Kv,e)?!0:gh.call(Wv,e)?!1:JA.test(e)?Kv[e]=!0:(Wv[e]=!0,!1)}function eI(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tI(e,t,n,r){if(t===null||typeof t>"u"||eI(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mn(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dn[e]=new Mn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];dn[t]=new Mn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){dn[e]=new Mn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){dn[e]=new Mn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dn[e]=new Mn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){dn[e]=new Mn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){dn[e]=new Mn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){dn[e]=new Mn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){dn[e]=new Mn(e,5,!1,e.toLowerCase(),null,!1,!1)});var pg=/[\-:]([a-z])/g;function gg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pg,gg);dn[t]=new Mn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pg,gg);dn[t]=new Mn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pg,gg);dn[t]=new Mn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){dn[e]=new Mn(e,1,!1,e.toLowerCase(),null,!1,!1)});dn.xlinkHref=new Mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){dn[e]=new Mn(e,1,!1,e.toLowerCase(),null,!0,!0)});function xg(e,t,n,r){var a=dn.hasOwnProperty(t)?dn[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tI(t,n,a,r)&&(n=null),r||a===null?XA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ms=ZA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rd=Symbol.for("react.element"),Li=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),vg=Symbol.for("react.strict_mode"),xh=Symbol.for("react.profiler"),G1=Symbol.for("react.provider"),Y1=Symbol.for("react.context"),yg=Symbol.for("react.forward_ref"),vh=Symbol.for("react.suspense"),yh=Symbol.for("react.suspense_list"),wg=Symbol.for("react.memo"),zs=Symbol.for("react.lazy"),Z1=Symbol.for("react.offscreen"),Qv=Symbol.iterator;function sl(e){return e===null||typeof e!="object"?null:(e=Qv&&e[Qv]||e["@@iterator"],typeof e=="function"?e:null)}var At=Object.assign,lm;function wl(e){if(lm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);lm=t&&t[1]||""}return`
`+lm+e}var cm=!1;function dm(e,t){if(!e||cm)return"";cm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{cm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wl(e):""}function nI(e){switch(e.tag){case 5:return wl(e.type);case 16:return wl("Lazy");case 13:return wl("Suspense");case 19:return wl("SuspenseList");case 0:case 2:case 15:return e=dm(e.type,!1),e;case 11:return e=dm(e.type.render,!1),e;case 1:return e=dm(e.type,!0),e;default:return""}}function wh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fi:return"Fragment";case Li:return"Portal";case xh:return"Profiler";case vg:return"StrictMode";case vh:return"Suspense";case yh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y1:return(e.displayName||"Context")+".Consumer";case G1:return(e._context.displayName||"Context")+".Provider";case yg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wg:return t=e.displayName||null,t!==null?t:wh(e.type)||"Memo";case zs:t=e._payload,e=e._init;try{return wh(e(t))}catch{}}return null}function rI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wh(t);case 8:return t===vg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function J1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sI(e){var t=J1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sd(e){e._valueTracker||(e._valueTracker=sI(e))}function X1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=J1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Jd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bh(e,t){var n=t.checked;return At({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pa(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function eS(e,t){t=t.checked,t!=null&&xg(e,"checked",t,!1)}function jh(e,t){eS(e,t);var n=pa(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Nh(e,t.type,pa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Nh(e,t,n){(t!=="number"||Jd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var bl=Array.isArray;function Ji(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pa(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Sh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return At({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(X(92));if(bl(n)){if(1<n.length)throw Error(X(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pa(n)}}function tS(e,t){var n=pa(t.value),r=pa(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Jv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ch(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ad,rS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ad=ad||document.createElement("div"),ad.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ad.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aI=["Webkit","ms","Moz","O"];Object.keys(Ml).forEach(function(e){aI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ml[t]=Ml[e]})});function sS(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ml.hasOwnProperty(e)&&Ml[e]?(""+t).trim():t+"px"}function aS(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=sS(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var iI=At({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kh(e,t){if(t){if(iI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function _h(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ph=null;function bg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Eh=null,Xi=null,eo=null;function Xv(e){if(e=Ic(e)){if(typeof Eh!="function")throw Error(X(280));var t=e.stateNode;t&&(t=ff(t),Eh(e.stateNode,e.type,t))}}function iS(e){Xi?eo?eo.push(e):eo=[e]:Xi=e}function oS(){if(Xi){var e=Xi,t=eo;if(eo=Xi=null,Xv(e),t)for(e=0;e<t.length;e++)Xv(t[e])}}function lS(e,t){return e(t)}function cS(){}var um=!1;function dS(e,t,n){if(um)return e(t,n);um=!0;try{return lS(e,t,n)}finally{um=!1,(Xi!==null||eo!==null)&&(cS(),oS())}}function Hl(e,t){var n=e.stateNode;if(n===null)return null;var r=ff(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var Th=!1;if(ws)try{var al={};Object.defineProperty(al,"passive",{get:function(){Th=!0}}),window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{Th=!1}function oI(e,t,n,r,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var Rl=!1,Xd=null,eu=!1,Mh=null,lI={onError:function(e){Rl=!0,Xd=e}};function cI(e,t,n,r,a,i,o,l,c){Rl=!1,Xd=null,oI.apply(lI,arguments)}function dI(e,t,n,r,a,i,o,l,c){if(cI.apply(this,arguments),Rl){if(Rl){var d=Xd;Rl=!1,Xd=null}else throw Error(X(198));eu||(eu=!0,Mh=d)}}function bi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function uS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ey(e){if(bi(e)!==e)throw Error(X(188))}function uI(e){var t=e.alternate;if(!t){if(t=bi(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return ey(a),e;if(i===r)return ey(a),t;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function fS(e){return e=uI(e),e!==null?mS(e):null}function mS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mS(e);if(t!==null)return t;e=e.sibling}return null}var hS=Xn.unstable_scheduleCallback,ty=Xn.unstable_cancelCallback,fI=Xn.unstable_shouldYield,mI=Xn.unstable_requestPaint,Ft=Xn.unstable_now,hI=Xn.unstable_getCurrentPriorityLevel,jg=Xn.unstable_ImmediatePriority,pS=Xn.unstable_UserBlockingPriority,tu=Xn.unstable_NormalPriority,pI=Xn.unstable_LowPriority,gS=Xn.unstable_IdlePriority,lf=null,Zr=null;function gI(e){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(lf,e,void 0,(e.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:yI,xI=Math.log,vI=Math.LN2;function yI(e){return e>>>=0,e===0?32:31-(xI(e)/vI|0)|0}var id=64,od=4194304;function jl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=jl(l):(i&=o,i!==0&&(r=jl(i)))}else o=n&~a,o!==0?r=jl(o):i!==0&&(r=jl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_r(t),a=1<<n,r|=e[n],t&=~a;return r}function wI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bI(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-_r(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=wI(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Rh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xS(){var e=id;return id<<=1,!(id&4194240)&&(id=64),e}function fm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_r(t),e[t]=n}function jI(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-_r(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function Ng(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_r(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var pt=0;function vS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yS,Sg,wS,bS,jS,Ah=!1,ld=[],ra=null,sa=null,aa=null,ql=new Map,Wl=new Map,Bs=[],NI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ny(e,t){switch(e){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":ql.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(t.pointerId)}}function il(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ic(t),t!==null&&Sg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function SI(e,t,n,r,a){switch(t){case"focusin":return ra=il(ra,e,t,n,r,a),!0;case"dragenter":return sa=il(sa,e,t,n,r,a),!0;case"mouseover":return aa=il(aa,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return ql.set(i,il(ql.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Wl.set(i,il(Wl.get(i)||null,e,t,n,r,a)),!0}return!1}function NS(e){var t=$a(e.target);if(t!==null){var n=bi(t);if(n!==null){if(t=n.tag,t===13){if(t=uS(n),t!==null){e.blockedOn=t,jS(e.priority,function(){wS(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ih(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ph=r,n.target.dispatchEvent(r),Ph=null}else return t=Ic(n),t!==null&&Sg(t),e.blockedOn=n,!1;t.shift()}return!0}function ry(e,t,n){Dd(e)&&n.delete(t)}function CI(){Ah=!1,ra!==null&&Dd(ra)&&(ra=null),sa!==null&&Dd(sa)&&(sa=null),aa!==null&&Dd(aa)&&(aa=null),ql.forEach(ry),Wl.forEach(ry)}function ol(e,t){e.blockedOn===t&&(e.blockedOn=null,Ah||(Ah=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,CI)))}function Kl(e){function t(a){return ol(a,e)}if(0<ld.length){ol(ld[0],e);for(var n=1;n<ld.length;n++){var r=ld[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ra!==null&&ol(ra,e),sa!==null&&ol(sa,e),aa!==null&&ol(aa,e),ql.forEach(t),Wl.forEach(t),n=0;n<Bs.length;n++)r=Bs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bs.length&&(n=Bs[0],n.blockedOn===null);)NS(n),n.blockedOn===null&&Bs.shift()}var to=Ms.ReactCurrentBatchConfig,ru=!0;function kI(e,t,n,r){var a=pt,i=to.transition;to.transition=null;try{pt=1,Cg(e,t,n,r)}finally{pt=a,to.transition=i}}function _I(e,t,n,r){var a=pt,i=to.transition;to.transition=null;try{pt=4,Cg(e,t,n,r)}finally{pt=a,to.transition=i}}function Cg(e,t,n,r){if(ru){var a=Ih(e,t,n,r);if(a===null)jm(e,t,r,su,n),ny(e,r);else if(SI(a,e,t,n,r))r.stopPropagation();else if(ny(e,r),t&4&&-1<NI.indexOf(e)){for(;a!==null;){var i=Ic(a);if(i!==null&&yS(i),i=Ih(e,t,n,r),i===null&&jm(e,t,r,su,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else jm(e,t,r,null,n)}}var su=null;function Ih(e,t,n,r){if(su=null,e=bg(r),e=$a(e),e!==null)if(t=bi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=uS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return su=e,null}function SS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hI()){case jg:return 1;case pS:return 4;case tu:case pI:return 16;case gS:return 536870912;default:return 16}default:return 16}}var ta=null,kg=null,Od=null;function CS(){if(Od)return Od;var e,t=kg,n=t.length,r,a="value"in ta?ta.value:ta.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Od=a.slice(e,1<r?1-r:void 0)}function Ld(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cd(){return!0}function sy(){return!1}function tr(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cd:sy,this.isPropagationStopped=sy,this}return At(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cd)},persist:function(){},isPersistent:cd}),t}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_g=tr(Wo),Ac=At({},Wo,{view:0,detail:0}),PI=tr(Ac),mm,hm,ll,cf=At({},Ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ll&&(ll&&e.type==="mousemove"?(mm=e.screenX-ll.screenX,hm=e.screenY-ll.screenY):hm=mm=0,ll=e),mm)},movementY:function(e){return"movementY"in e?e.movementY:hm}}),ay=tr(cf),EI=At({},cf,{dataTransfer:0}),TI=tr(EI),MI=At({},Ac,{relatedTarget:0}),pm=tr(MI),RI=At({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),AI=tr(RI),II=At({},Wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),DI=tr(II),OI=At({},Wo,{data:0}),iy=tr(OI),LI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$I={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$I[e])?!!t[e]:!1}function Pg(){return zI}var VI=At({},Ac,{key:function(e){if(e.key){var t=LI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ld(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?FI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pg,charCode:function(e){return e.type==="keypress"?Ld(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ld(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UI=tr(VI),BI=At({},cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oy=tr(BI),HI=At({},Ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pg}),qI=tr(HI),WI=At({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),KI=tr(WI),QI=At({},cf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),GI=tr(QI),YI=[9,13,27,32],Eg=ws&&"CompositionEvent"in window,Al=null;ws&&"documentMode"in document&&(Al=document.documentMode);var ZI=ws&&"TextEvent"in window&&!Al,kS=ws&&(!Eg||Al&&8<Al&&11>=Al),ly=" ",cy=!1;function _S(e,t){switch(e){case"keyup":return YI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $i=!1;function JI(e,t){switch(e){case"compositionend":return PS(t);case"keypress":return t.which!==32?null:(cy=!0,ly);case"textInput":return e=t.data,e===ly&&cy?null:e;default:return null}}function XI(e,t){if($i)return e==="compositionend"||!Eg&&_S(e,t)?(e=CS(),Od=kg=ta=null,$i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kS&&t.locale!=="ko"?null:t.data;default:return null}}var eD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eD[e.type]:t==="textarea"}function ES(e,t,n,r){iS(r),t=au(t,"onChange"),0<t.length&&(n=new _g("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Il=null,Ql=null;function tD(e){zS(e,0)}function df(e){var t=Ui(e);if(X1(t))return e}function nD(e,t){if(e==="change")return t}var TS=!1;if(ws){var gm;if(ws){var xm="oninput"in document;if(!xm){var uy=document.createElement("div");uy.setAttribute("oninput","return;"),xm=typeof uy.oninput=="function"}gm=xm}else gm=!1;TS=gm&&(!document.documentMode||9<document.documentMode)}function fy(){Il&&(Il.detachEvent("onpropertychange",MS),Ql=Il=null)}function MS(e){if(e.propertyName==="value"&&df(Ql)){var t=[];ES(t,Ql,e,bg(e)),dS(tD,t)}}function rD(e,t,n){e==="focusin"?(fy(),Il=t,Ql=n,Il.attachEvent("onpropertychange",MS)):e==="focusout"&&fy()}function sD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return df(Ql)}function aD(e,t){if(e==="click")return df(t)}function iD(e,t){if(e==="input"||e==="change")return df(t)}function oD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ir=typeof Object.is=="function"?Object.is:oD;function Gl(e,t){if(Ir(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!gh.call(t,a)||!Ir(e[a],t[a]))return!1}return!0}function my(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hy(e,t){var n=my(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=my(n)}}function RS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?RS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function AS(){for(var e=window,t=Jd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jd(e.document)}return t}function Tg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lD(e){var t=AS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&RS(n.ownerDocument.documentElement,n)){if(r!==null&&Tg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=hy(n,i);var o=hy(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cD=ws&&"documentMode"in document&&11>=document.documentMode,zi=null,Dh=null,Dl=null,Oh=!1;function py(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oh||zi==null||zi!==Jd(r)||(r=zi,"selectionStart"in r&&Tg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dl&&Gl(Dl,r)||(Dl=r,r=au(Dh,"onSelect"),0<r.length&&(t=new _g("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zi)))}function dd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vi={animationend:dd("Animation","AnimationEnd"),animationiteration:dd("Animation","AnimationIteration"),animationstart:dd("Animation","AnimationStart"),transitionend:dd("Transition","TransitionEnd")},vm={},IS={};ws&&(IS=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function uf(e){if(vm[e])return vm[e];if(!Vi[e])return e;var t=Vi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in IS)return vm[e]=t[n];return e}var DS=uf("animationend"),OS=uf("animationiteration"),LS=uf("animationstart"),FS=uf("transitionend"),$S=new Map,gy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _a(e,t){$S.set(e,t),wi(t,[e])}for(var ym=0;ym<gy.length;ym++){var wm=gy[ym],dD=wm.toLowerCase(),uD=wm[0].toUpperCase()+wm.slice(1);_a(dD,"on"+uD)}_a(DS,"onAnimationEnd");_a(OS,"onAnimationIteration");_a(LS,"onAnimationStart");_a("dblclick","onDoubleClick");_a("focusin","onFocus");_a("focusout","onBlur");_a(FS,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nl));function xy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dI(r,t,void 0,e),e.currentTarget=null}function zS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;xy(a,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;xy(a,l,d),i=c}}}if(eu)throw e=Mh,eu=!1,Mh=null,e}function wt(e,t){var n=t[Vh];n===void 0&&(n=t[Vh]=new Set);var r=e+"__bubble";n.has(r)||(VS(t,e,2,!1),n.add(r))}function bm(e,t,n){var r=0;t&&(r|=4),VS(n,e,r,t)}var ud="_reactListening"+Math.random().toString(36).slice(2);function Yl(e){if(!e[ud]){e[ud]=!0,Q1.forEach(function(n){n!=="selectionchange"&&(fD.has(n)||bm(n,!1,e),bm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ud]||(t[ud]=!0,bm("selectionchange",!1,t))}}function VS(e,t,n,r){switch(SS(t)){case 1:var a=kI;break;case 4:a=_I;break;default:a=Cg}n=a.bind(null,t,n,e),a=void 0,!Th||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function jm(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=$a(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}dS(function(){var d=i,u=bg(n),f=[];e:{var m=$S.get(e);if(m!==void 0){var p=_g,y=e;switch(e){case"keypress":if(Ld(n)===0)break e;case"keydown":case"keyup":p=UI;break;case"focusin":y="focus",p=pm;break;case"focusout":y="blur",p=pm;break;case"beforeblur":case"afterblur":p=pm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ay;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=TI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=qI;break;case DS:case OS:case LS:p=AI;break;case FS:p=KI;break;case"scroll":p=PI;break;case"wheel":p=GI;break;case"copy":case"cut":case"paste":p=DI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=oy}var g=(t&4)!==0,w=!g&&e==="scroll",v=g?m!==null?m+"Capture":null:m;g=[];for(var x=d,b;x!==null;){b=x;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,v!==null&&(N=Hl(x,v),N!=null&&g.push(Zl(x,N,b)))),w)break;x=x.return}0<g.length&&(m=new p(m,y,null,n,u),f.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==Ph&&(y=n.relatedTarget||n.fromElement)&&($a(y)||y[bs]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=d,y=y?$a(y):null,y!==null&&(w=bi(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=d),p!==y)){if(g=ay,N="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=oy,N="onPointerLeave",v="onPointerEnter",x="pointer"),w=p==null?m:Ui(p),b=y==null?m:Ui(y),m=new g(N,x+"leave",p,n,u),m.target=w,m.relatedTarget=b,N=null,$a(u)===d&&(g=new g(v,x+"enter",y,n,u),g.target=b,g.relatedTarget=w,N=g),w=N,p&&y)t:{for(g=p,v=y,x=0,b=g;b;b=_i(b))x++;for(b=0,N=v;N;N=_i(N))b++;for(;0<x-b;)g=_i(g),x--;for(;0<b-x;)v=_i(v),b--;for(;x--;){if(g===v||v!==null&&g===v.alternate)break t;g=_i(g),v=_i(v)}g=null}else g=null;p!==null&&vy(f,m,p,g,!1),y!==null&&w!==null&&vy(f,w,y,g,!0)}}e:{if(m=d?Ui(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var C=nD;else if(dy(m))if(TS)C=iD;else{C=sD;var P=rD}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=aD);if(C&&(C=C(e,d))){ES(f,C,n,u);break e}P&&P(e,m,d),e==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&Nh(m,"number",m.value)}switch(P=d?Ui(d):window,e){case"focusin":(dy(P)||P.contentEditable==="true")&&(zi=P,Dh=d,Dl=null);break;case"focusout":Dl=Dh=zi=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,py(f,n,u);break;case"selectionchange":if(cD)break;case"keydown":case"keyup":py(f,n,u)}var S;if(Eg)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else $i?_S(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(kS&&n.locale!=="ko"&&($i||E!=="onCompositionStart"?E==="onCompositionEnd"&&$i&&(S=CS()):(ta=u,kg="value"in ta?ta.value:ta.textContent,$i=!0)),P=au(d,E),0<P.length&&(E=new iy(E,e,null,n,u),f.push({event:E,listeners:P}),S?E.data=S:(S=PS(n),S!==null&&(E.data=S)))),(S=ZI?JI(e,n):XI(e,n))&&(d=au(d,"onBeforeInput"),0<d.length&&(u=new iy("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=S))}zS(f,t)})}function Zl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function au(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Hl(e,n),i!=null&&r.unshift(Zl(e,i,a)),i=Hl(e,t),i!=null&&r.push(Zl(e,i,a))),e=e.return}return r}function _i(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vy(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,a?(c=Hl(n,i),c!=null&&o.unshift(Zl(n,c,l))):a||(c=Hl(n,i),c!=null&&o.push(Zl(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var mD=/\r\n?/g,hD=/\u0000|\uFFFD/g;function yy(e){return(typeof e=="string"?e:""+e).replace(mD,`
`).replace(hD,"")}function fd(e,t,n){if(t=yy(t),yy(e)!==t&&n)throw Error(X(425))}function iu(){}var Lh=null,Fh=null;function $h(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zh=typeof setTimeout=="function"?setTimeout:void 0,pD=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,gD=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(e){return wy.resolve(null).then(e).catch(xD)}:zh;function xD(e){setTimeout(function(){throw e})}function Nm(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Kl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Kl(t)}function ia(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function by(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ko=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Ko,Jl="__reactProps$"+Ko,bs="__reactContainer$"+Ko,Vh="__reactEvents$"+Ko,vD="__reactListeners$"+Ko,yD="__reactHandles$"+Ko;function $a(e){var t=e[Kr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bs]||n[Kr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=by(e);e!==null;){if(n=e[Kr])return n;e=by(e)}return t}e=n,n=e.parentNode}return null}function Ic(e){return e=e[Kr]||e[bs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ui(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function ff(e){return e[Jl]||null}var Uh=[],Bi=-1;function Pa(e){return{current:e}}function Nt(e){0>Bi||(e.current=Uh[Bi],Uh[Bi]=null,Bi--)}function vt(e,t){Bi++,Uh[Bi]=e.current,e.current=t}var ga={},bn=Pa(ga),$n=Pa(!1),ri=ga;function Po(e,t){var n=e.type.contextTypes;if(!n)return ga;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function zn(e){return e=e.childContextTypes,e!=null}function ou(){Nt($n),Nt(bn)}function jy(e,t,n){if(bn.current!==ga)throw Error(X(168));vt(bn,t),vt($n,n)}function US(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(X(108,rI(e)||"Unknown",a));return At({},n,r)}function lu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ga,ri=bn.current,vt(bn,e),vt($n,$n.current),!0}function Ny(e,t,n){var r=e.stateNode;if(!r)throw Error(X(169));n?(e=US(e,t,ri),r.__reactInternalMemoizedMergedChildContext=e,Nt($n),Nt(bn),vt(bn,e)):Nt($n),vt($n,n)}var fs=null,mf=!1,Sm=!1;function BS(e){fs===null?fs=[e]:fs.push(e)}function wD(e){mf=!0,BS(e)}function Ea(){if(!Sm&&fs!==null){Sm=!0;var e=0,t=pt;try{var n=fs;for(pt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fs=null,mf=!1}catch(a){throw fs!==null&&(fs=fs.slice(e+1)),hS(jg,Ea),a}finally{pt=t,Sm=!1}}return null}var Hi=[],qi=0,cu=null,du=0,cr=[],dr=0,si=null,ps=1,gs="";function Ia(e,t){Hi[qi++]=du,Hi[qi++]=cu,cu=e,du=t}function HS(e,t,n){cr[dr++]=ps,cr[dr++]=gs,cr[dr++]=si,si=e;var r=ps;e=gs;var a=32-_r(r)-1;r&=~(1<<a),n+=1;var i=32-_r(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,ps=1<<32-_r(t)+a|n<<a|r,gs=i+e}else ps=1<<i|n<<a|r,gs=e}function Mg(e){e.return!==null&&(Ia(e,1),HS(e,1,0))}function Rg(e){for(;e===cu;)cu=Hi[--qi],Hi[qi]=null,du=Hi[--qi],Hi[qi]=null;for(;e===si;)si=cr[--dr],cr[dr]=null,gs=cr[--dr],cr[dr]=null,ps=cr[--dr],cr[dr]=null}var Yn=null,Gn=null,kt=!1,Nr=null;function qS(e,t){var n=fr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yn=e,Gn=ia(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yn=e,Gn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=si!==null?{id:ps,overflow:gs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Yn=e,Gn=null,!0):!1;default:return!1}}function Bh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hh(e){if(kt){var t=Gn;if(t){var n=t;if(!Sy(e,t)){if(Bh(e))throw Error(X(418));t=ia(n.nextSibling);var r=Yn;t&&Sy(e,t)?qS(r,n):(e.flags=e.flags&-4097|2,kt=!1,Yn=e)}}else{if(Bh(e))throw Error(X(418));e.flags=e.flags&-4097|2,kt=!1,Yn=e}}}function Cy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yn=e}function md(e){if(e!==Yn)return!1;if(!kt)return Cy(e),kt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$h(e.type,e.memoizedProps)),t&&(t=Gn)){if(Bh(e))throw WS(),Error(X(418));for(;t;)qS(e,t),t=ia(t.nextSibling)}if(Cy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Gn=ia(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Gn=null}}else Gn=Yn?ia(e.stateNode.nextSibling):null;return!0}function WS(){for(var e=Gn;e;)e=ia(e.nextSibling)}function Eo(){Gn=Yn=null,kt=!1}function Ag(e){Nr===null?Nr=[e]:Nr.push(e)}var bD=Ms.ReactCurrentBatchConfig;function cl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,e))}return e}function hd(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ky(e){var t=e._init;return t(e._payload)}function KS(e){function t(v,x){if(e){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function n(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function a(v,x){return v=da(v,x),v.index=0,v.sibling=null,v}function i(v,x,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,x,b,N){return x===null||x.tag!==6?(x=Mm(b,v.mode,N),x.return=v,x):(x=a(x,b),x.return=v,x)}function c(v,x,b,N){var C=b.type;return C===Fi?u(v,x,b.props.children,N,b.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===zs&&ky(C)===x.type)?(N=a(x,b.props),N.ref=cl(v,x,b),N.return=v,N):(N=Hd(b.type,b.key,b.props,null,v.mode,N),N.ref=cl(v,x,b),N.return=v,N)}function d(v,x,b,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Rm(b,v.mode,N),x.return=v,x):(x=a(x,b.children||[]),x.return=v,x)}function u(v,x,b,N,C){return x===null||x.tag!==7?(x=Ja(b,v.mode,N,C),x.return=v,x):(x=a(x,b),x.return=v,x)}function f(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Mm(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rd:return b=Hd(x.type,x.key,x.props,null,v.mode,b),b.ref=cl(v,null,x),b.return=v,b;case Li:return x=Rm(x,v.mode,b),x.return=v,x;case zs:var N=x._init;return f(v,N(x._payload),b)}if(bl(x)||sl(x))return x=Ja(x,v.mode,b,null),x.return=v,x;hd(v,x)}return null}function m(v,x,b,N){var C=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:l(v,x,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case rd:return b.key===C?c(v,x,b,N):null;case Li:return b.key===C?d(v,x,b,N):null;case zs:return C=b._init,m(v,x,C(b._payload),N)}if(bl(b)||sl(b))return C!==null?null:u(v,x,b,N,null);hd(v,b)}return null}function p(v,x,b,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(b)||null,l(x,v,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case rd:return v=v.get(N.key===null?b:N.key)||null,c(x,v,N,C);case Li:return v=v.get(N.key===null?b:N.key)||null,d(x,v,N,C);case zs:var P=N._init;return p(v,x,b,P(N._payload),C)}if(bl(N)||sl(N))return v=v.get(b)||null,u(x,v,N,C,null);hd(x,N)}return null}function y(v,x,b,N){for(var C=null,P=null,S=x,E=x=0,O=null;S!==null&&E<b.length;E++){S.index>E?(O=S,S=null):O=S.sibling;var j=m(v,S,b[E],N);if(j===null){S===null&&(S=O);break}e&&S&&j.alternate===null&&t(v,S),x=i(j,x,E),P===null?C=j:P.sibling=j,P=j,S=O}if(E===b.length)return n(v,S),kt&&Ia(v,E),C;if(S===null){for(;E<b.length;E++)S=f(v,b[E],N),S!==null&&(x=i(S,x,E),P===null?C=S:P.sibling=S,P=S);return kt&&Ia(v,E),C}for(S=r(v,S);E<b.length;E++)O=p(S,v,E,b[E],N),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?E:O.key),x=i(O,x,E),P===null?C=O:P.sibling=O,P=O);return e&&S.forEach(function(D){return t(v,D)}),kt&&Ia(v,E),C}function g(v,x,b,N){var C=sl(b);if(typeof C!="function")throw Error(X(150));if(b=C.call(b),b==null)throw Error(X(151));for(var P=C=null,S=x,E=x=0,O=null,j=b.next();S!==null&&!j.done;E++,j=b.next()){S.index>E?(O=S,S=null):O=S.sibling;var D=m(v,S,j.value,N);if(D===null){S===null&&(S=O);break}e&&S&&D.alternate===null&&t(v,S),x=i(D,x,E),P===null?C=D:P.sibling=D,P=D,S=O}if(j.done)return n(v,S),kt&&Ia(v,E),C;if(S===null){for(;!j.done;E++,j=b.next())j=f(v,j.value,N),j!==null&&(x=i(j,x,E),P===null?C=j:P.sibling=j,P=j);return kt&&Ia(v,E),C}for(S=r(v,S);!j.done;E++,j=b.next())j=p(S,v,E,j.value,N),j!==null&&(e&&j.alternate!==null&&S.delete(j.key===null?E:j.key),x=i(j,x,E),P===null?C=j:P.sibling=j,P=j);return e&&S.forEach(function(I){return t(v,I)}),kt&&Ia(v,E),C}function w(v,x,b,N){if(typeof b=="object"&&b!==null&&b.type===Fi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case rd:e:{for(var C=b.key,P=x;P!==null;){if(P.key===C){if(C=b.type,C===Fi){if(P.tag===7){n(v,P.sibling),x=a(P,b.props.children),x.return=v,v=x;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===zs&&ky(C)===P.type){n(v,P.sibling),x=a(P,b.props),x.ref=cl(v,P,b),x.return=v,v=x;break e}n(v,P);break}else t(v,P);P=P.sibling}b.type===Fi?(x=Ja(b.props.children,v.mode,N,b.key),x.return=v,v=x):(N=Hd(b.type,b.key,b.props,null,v.mode,N),N.ref=cl(v,x,b),N.return=v,v=N)}return o(v);case Li:e:{for(P=b.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(v,x.sibling),x=a(x,b.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else t(v,x);x=x.sibling}x=Rm(b,v.mode,N),x.return=v,v=x}return o(v);case zs:return P=b._init,w(v,x,P(b._payload),N)}if(bl(b))return y(v,x,b,N);if(sl(b))return g(v,x,b,N);hd(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(v,x.sibling),x=a(x,b),x.return=v,v=x):(n(v,x),x=Mm(b,v.mode,N),x.return=v,v=x),o(v)):n(v,x)}return w}var To=KS(!0),QS=KS(!1),uu=Pa(null),fu=null,Wi=null,Ig=null;function Dg(){Ig=Wi=fu=null}function Og(e){var t=uu.current;Nt(uu),e._currentValue=t}function qh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function no(e,t){fu=e,Ig=Wi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ln=!0),e.firstContext=null)}function pr(e){var t=e._currentValue;if(Ig!==e)if(e={context:e,memoizedValue:t,next:null},Wi===null){if(fu===null)throw Error(X(308));Wi=e,fu.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var za=null;function Lg(e){za===null?za=[e]:za.push(e)}function GS(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Lg(t)):(n.next=a.next,a.next=n),t.interleaved=n,js(e,r)}function js(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vs=!1;function Fg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,at&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,js(e,n)}return a=r.interleaved,a===null?(t.next=t,Lg(r)):(t.next=a.next,a.next=t),r.interleaved=t,js(e,n)}function Fd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ng(e,n)}}function _y(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function mu(e,t,n,r){var a=e.updateQueue;Vs=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,g=l;switch(m=t,p=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(p,f,m);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,m=typeof y=="function"?y.call(p,f,m):y,m==null)break e;f=At({},f,m);break e;case 2:Vs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ii|=o,e.lanes=o,e.memoizedState=f}}function Py(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(X(191,a));a.call(r)}}}var Dc={},Jr=Pa(Dc),Xl=Pa(Dc),ec=Pa(Dc);function Va(e){if(e===Dc)throw Error(X(174));return e}function $g(e,t){switch(vt(ec,t),vt(Xl,e),vt(Jr,Dc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ch(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ch(t,e)}Nt(Jr),vt(Jr,t)}function Mo(){Nt(Jr),Nt(Xl),Nt(ec)}function ZS(e){Va(ec.current);var t=Va(Jr.current),n=Ch(t,e.type);t!==n&&(vt(Xl,e),vt(Jr,n))}function zg(e){Xl.current===e&&(Nt(Jr),Nt(Xl))}var Tt=Pa(0);function hu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cm=[];function Vg(){for(var e=0;e<Cm.length;e++)Cm[e]._workInProgressVersionPrimary=null;Cm.length=0}var $d=Ms.ReactCurrentDispatcher,km=Ms.ReactCurrentBatchConfig,ai=0,Rt=null,Kt=null,Xt=null,pu=!1,Ol=!1,tc=0,jD=0;function hn(){throw Error(X(321))}function Ug(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ir(e[n],t[n]))return!1;return!0}function Bg(e,t,n,r,a,i){if(ai=i,Rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$d.current=e===null||e.memoizedState===null?kD:_D,e=n(r,a),Ol){i=0;do{if(Ol=!1,tc=0,25<=i)throw Error(X(301));i+=1,Xt=Kt=null,t.updateQueue=null,$d.current=PD,e=n(r,a)}while(Ol)}if($d.current=gu,t=Kt!==null&&Kt.next!==null,ai=0,Xt=Kt=Rt=null,pu=!1,t)throw Error(X(300));return e}function Hg(){var e=tc!==0;return tc=0,e}function Ur(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Rt.memoizedState=Xt=e:Xt=Xt.next=e,Xt}function gr(){if(Kt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var t=Xt===null?Rt.memoizedState:Xt.next;if(t!==null)Xt=t,Kt=e;else{if(e===null)throw Error(X(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Xt===null?Rt.memoizedState=Xt=e:Xt=Xt.next=e}return Xt}function nc(e,t){return typeof t=="function"?t(e):t}function _m(e){var t=gr(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=Kt,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ai&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Rt.lanes|=u,ii|=u}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,Ir(r,t.memoizedState)||(Ln=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Rt.lanes|=i,ii|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pm(e){var t=gr(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ir(i,t.memoizedState)||(Ln=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function JS(){}function XS(e,t){var n=Rt,r=gr(),a=t(),i=!Ir(r.memoizedState,a);if(i&&(r.memoizedState=a,Ln=!0),r=r.queue,qg(nC.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,rc(9,tC.bind(null,n,r,a,t),void 0,null),tn===null)throw Error(X(349));ai&30||eC(n,t,a)}return a}function eC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tC(e,t,n,r){t.value=n,t.getSnapshot=r,rC(t)&&sC(e)}function nC(e,t,n){return n(function(){rC(t)&&sC(e)})}function rC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ir(e,n)}catch{return!0}}function sC(e){var t=js(e,1);t!==null&&Pr(t,e,1,-1)}function Ey(e){var t=Ur();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nc,lastRenderedState:e},t.queue=e,e=e.dispatch=CD.bind(null,Rt,e),[t.memoizedState,e]}function rc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function aC(){return gr().memoizedState}function zd(e,t,n,r){var a=Ur();Rt.flags|=e,a.memoizedState=rc(1|t,n,void 0,r===void 0?null:r)}function hf(e,t,n,r){var a=gr();r=r===void 0?null:r;var i=void 0;if(Kt!==null){var o=Kt.memoizedState;if(i=o.destroy,r!==null&&Ug(r,o.deps)){a.memoizedState=rc(t,n,i,r);return}}Rt.flags|=e,a.memoizedState=rc(1|t,n,i,r)}function Ty(e,t){return zd(8390656,8,e,t)}function qg(e,t){return hf(2048,8,e,t)}function iC(e,t){return hf(4,2,e,t)}function oC(e,t){return hf(4,4,e,t)}function lC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cC(e,t,n){return n=n!=null?n.concat([e]):null,hf(4,4,lC.bind(null,t,e),n)}function Wg(){}function dC(e,t){var n=gr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ug(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function uC(e,t){var n=gr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ug(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fC(e,t,n){return ai&21?(Ir(n,t)||(n=xS(),Rt.lanes|=n,ii|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ln=!0),e.memoizedState=n)}function ND(e,t){var n=pt;pt=n!==0&&4>n?n:4,e(!0);var r=km.transition;km.transition={};try{e(!1),t()}finally{pt=n,km.transition=r}}function mC(){return gr().memoizedState}function SD(e,t,n){var r=ca(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hC(e))pC(t,n);else if(n=GS(e,t,n,r),n!==null){var a=_n();Pr(n,e,r,a),gC(n,t,r)}}function CD(e,t,n){var r=ca(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hC(e))pC(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Ir(l,o)){var c=t.interleaved;c===null?(a.next=a,Lg(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=GS(e,t,a,r),n!==null&&(a=_n(),Pr(n,e,r,a),gC(n,t,r))}}function hC(e){var t=e.alternate;return e===Rt||t!==null&&t===Rt}function pC(e,t){Ol=pu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ng(e,n)}}var gu={readContext:pr,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},kD={readContext:pr,useCallback:function(e,t){return Ur().memoizedState=[e,t===void 0?null:t],e},useContext:pr,useEffect:Ty,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zd(4194308,4,lC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zd(4194308,4,e,t)},useInsertionEffect:function(e,t){return zd(4,2,e,t)},useMemo:function(e,t){var n=Ur();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ur();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=SD.bind(null,Rt,e),[r.memoizedState,e]},useRef:function(e){var t=Ur();return e={current:e},t.memoizedState=e},useState:Ey,useDebugValue:Wg,useDeferredValue:function(e){return Ur().memoizedState=e},useTransition:function(){var e=Ey(!1),t=e[0];return e=ND.bind(null,e[1]),Ur().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Rt,a=Ur();if(kt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),tn===null)throw Error(X(349));ai&30||eC(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Ty(nC.bind(null,r,i,e),[e]),r.flags|=2048,rc(9,tC.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ur(),t=tn.identifierPrefix;if(kt){var n=gs,r=ps;n=(r&~(1<<32-_r(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=tc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=jD++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_D={readContext:pr,useCallback:dC,useContext:pr,useEffect:qg,useImperativeHandle:cC,useInsertionEffect:iC,useLayoutEffect:oC,useMemo:uC,useReducer:_m,useRef:aC,useState:function(){return _m(nc)},useDebugValue:Wg,useDeferredValue:function(e){var t=gr();return fC(t,Kt.memoizedState,e)},useTransition:function(){var e=_m(nc)[0],t=gr().memoizedState;return[e,t]},useMutableSource:JS,useSyncExternalStore:XS,useId:mC,unstable_isNewReconciler:!1},PD={readContext:pr,useCallback:dC,useContext:pr,useEffect:qg,useImperativeHandle:cC,useInsertionEffect:iC,useLayoutEffect:oC,useMemo:uC,useReducer:Pm,useRef:aC,useState:function(){return Pm(nc)},useDebugValue:Wg,useDeferredValue:function(e){var t=gr();return Kt===null?t.memoizedState=e:fC(t,Kt.memoizedState,e)},useTransition:function(){var e=Pm(nc)[0],t=gr().memoizedState;return[e,t]},useMutableSource:JS,useSyncExternalStore:XS,useId:mC,unstable_isNewReconciler:!1};function wr(e,t){if(e&&e.defaultProps){t=At({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Wh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:At({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pf={isMounted:function(e){return(e=e._reactInternals)?bi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_n(),a=ca(e),i=xs(r,a);i.payload=t,n!=null&&(i.callback=n),t=oa(e,i,a),t!==null&&(Pr(t,e,a,r),Fd(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_n(),a=ca(e),i=xs(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=oa(e,i,a),t!==null&&(Pr(t,e,a,r),Fd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_n(),r=ca(e),a=xs(n,r);a.tag=2,t!=null&&(a.callback=t),t=oa(e,a,r),t!==null&&(Pr(t,e,r,n),Fd(t,e,r))}};function My(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Gl(n,r)||!Gl(a,i):!0}function xC(e,t,n){var r=!1,a=ga,i=t.contextType;return typeof i=="object"&&i!==null?i=pr(i):(a=zn(t)?ri:bn.current,r=t.contextTypes,i=(r=r!=null)?Po(e,a):ga),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ry(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pf.enqueueReplaceState(t,t.state,null)}function Kh(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Fg(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=pr(i):(i=zn(t)?ri:bn.current,a.context=Po(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Wh(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&pf.enqueueReplaceState(a,a.state,null),mu(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ro(e,t){try{var n="",r=t;do n+=nI(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Em(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Qh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ED=typeof WeakMap=="function"?WeakMap:Map;function vC(e,t,n){n=xs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vu||(vu=!0,sp=r),Qh(e,t)},n}function yC(e,t,n){n=xs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Qh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Qh(e,t),typeof r!="function"&&(la===null?la=new Set([this]):la.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ay(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ED;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=BD.bind(null,e,t,n),t.then(e,e))}function Iy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dy(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xs(-1,1),t.tag=2,oa(n,t,1))),n.lanes|=1),e)}var TD=Ms.ReactCurrentOwner,Ln=!1;function Cn(e,t,n,r){t.child=e===null?QS(t,null,n,r):To(t,e.child,n,r)}function Oy(e,t,n,r,a){n=n.render;var i=t.ref;return no(t,a),r=Bg(e,t,n,r,i,a),n=Hg(),e!==null&&!Ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ns(e,t,a)):(kt&&n&&Mg(t),t.flags|=1,Cn(e,t,r,a),t.child)}function Ly(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!ex(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,wC(e,t,i,r,a)):(e=Hd(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gl,n(o,r)&&e.ref===t.ref)return Ns(e,t,a)}return t.flags|=1,e=da(i,r),e.ref=t.ref,e.return=t,t.child=e}function wC(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Gl(i,r)&&e.ref===t.ref)if(Ln=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Ln=!0);else return t.lanes=e.lanes,Ns(e,t,a)}return Gh(e,t,n,r,a)}function bC(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(Qi,Hn),Hn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,vt(Qi,Hn),Hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,vt(Qi,Hn),Hn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,vt(Qi,Hn),Hn|=r;return Cn(e,t,a,n),t.child}function jC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gh(e,t,n,r,a){var i=zn(n)?ri:bn.current;return i=Po(t,i),no(t,a),n=Bg(e,t,n,r,i,a),r=Hg(),e!==null&&!Ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ns(e,t,a)):(kt&&r&&Mg(t),t.flags|=1,Cn(e,t,n,a),t.child)}function Fy(e,t,n,r,a){if(zn(n)){var i=!0;lu(t)}else i=!1;if(no(t,a),t.stateNode===null)Vd(e,t),xC(t,n,r),Kh(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=pr(d):(d=zn(n)?ri:bn.current,d=Po(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Ry(t,o,r,d),Vs=!1;var m=t.memoizedState;o.state=m,mu(t,r,o,a),c=t.memoizedState,l!==r||m!==c||$n.current||Vs?(typeof u=="function"&&(Wh(t,n,u,r),c=t.memoizedState),(l=Vs||My(t,n,l,r,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,YS(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:wr(t.type,l),o.props=d,f=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=pr(c):(c=zn(n)?ri:bn.current,c=Po(t,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&Ry(t,o,r,c),Vs=!1,m=t.memoizedState,o.state=m,mu(t,r,o,a);var y=t.memoizedState;l!==f||m!==y||$n.current||Vs?(typeof p=="function"&&(Wh(t,n,p,r),y=t.memoizedState),(d=Vs||My(t,n,d,r,m,y,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Yh(e,t,n,r,i,a)}function Yh(e,t,n,r,a,i){jC(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&Ny(t,n,!1),Ns(e,t,i);r=t.stateNode,TD.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=To(t,e.child,null,i),t.child=To(t,null,l,i)):Cn(e,t,l,i),t.memoizedState=r.state,a&&Ny(t,n,!0),t.child}function NC(e){var t=e.stateNode;t.pendingContext?jy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jy(e,t.context,!1),$g(e,t.containerInfo)}function $y(e,t,n,r,a){return Eo(),Ag(a),t.flags|=256,Cn(e,t,n,r),t.child}var Zh={dehydrated:null,treeContext:null,retryLane:0};function Jh(e){return{baseLanes:e,cachePool:null,transitions:null}}function SC(e,t,n){var r=t.pendingProps,a=Tt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),vt(Tt,a&1),e===null)return Hh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vf(o,r,0,null),e=Ja(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Jh(n),t.memoizedState=Zh,e):Kg(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return MD(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=da(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=da(l,i):(i=Ja(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Jh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Zh,r}return i=e.child,e=i.sibling,r=da(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Kg(e,t){return t=vf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pd(e,t,n,r){return r!==null&&Ag(r),To(t,e.child,null,n),e=Kg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function MD(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Em(Error(X(422))),pd(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=vf({mode:"visible",children:r.children},a,0,null),i=Ja(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&To(t,e.child,null,o),t.child.memoizedState=Jh(o),t.memoizedState=Zh,i);if(!(t.mode&1))return pd(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(X(419)),r=Em(i,r,void 0),pd(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ln||l){if(r=tn,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,js(e,a),Pr(r,e,a,-1))}return Xg(),r=Em(Error(X(421))),pd(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=HD.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Gn=ia(a.nextSibling),Yn=t,kt=!0,Nr=null,e!==null&&(cr[dr++]=ps,cr[dr++]=gs,cr[dr++]=si,ps=e.id,gs=e.overflow,si=t),t=Kg(t,r.children),t.flags|=4096,t)}function zy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qh(e.return,t,n)}function Tm(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function CC(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Cn(e,t,r.children,n),r=Tt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zy(e,n,t);else if(e.tag===19)zy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(vt(Tt,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&hu(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Tm(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&hu(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Tm(t,!0,n,null,i);break;case"together":Tm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ns(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ii|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=da(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=da(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function RD(e,t,n){switch(t.tag){case 3:NC(t),Eo();break;case 5:ZS(t);break;case 1:zn(t.type)&&lu(t);break;case 4:$g(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;vt(uu,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(vt(Tt,Tt.current&1),t.flags|=128,null):n&t.child.childLanes?SC(e,t,n):(vt(Tt,Tt.current&1),e=Ns(e,t,n),e!==null?e.sibling:null);vt(Tt,Tt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return CC(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),vt(Tt,Tt.current),r)break;return null;case 22:case 23:return t.lanes=0,bC(e,t,n)}return Ns(e,t,n)}var kC,Xh,_C,PC;kC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xh=function(){};_C=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Va(Jr.current);var i=null;switch(n){case"input":a=bh(e,a),r=bh(e,r),i=[];break;case"select":a=At({},a,{value:void 0}),r=At({},r,{value:void 0}),i=[];break;case"textarea":a=Sh(e,a),r=Sh(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=iu)}kh(n,r);var o;n=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ul.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ul.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&wt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};PC=function(e,t,n,r){n!==r&&(t.flags|=4)};function dl(e,t){if(!kt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function AD(e,t,n){var r=t.pendingProps;switch(Rg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(t),null;case 1:return zn(t.type)&&ou(),pn(t),null;case 3:return r=t.stateNode,Mo(),Nt($n),Nt(bn),Vg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(md(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nr!==null&&(op(Nr),Nr=null))),Xh(e,t),pn(t),null;case 5:zg(t);var a=Va(ec.current);if(n=t.type,e!==null&&t.stateNode!=null)_C(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(X(166));return pn(t),null}if(e=Va(Jr.current),md(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Kr]=t,r[Jl]=i,e=(t.mode&1)!==0,n){case"dialog":wt("cancel",r),wt("close",r);break;case"iframe":case"object":case"embed":wt("load",r);break;case"video":case"audio":for(a=0;a<Nl.length;a++)wt(Nl[a],r);break;case"source":wt("error",r);break;case"img":case"image":case"link":wt("error",r),wt("load",r);break;case"details":wt("toggle",r);break;case"input":Gv(r,i),wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},wt("invalid",r);break;case"textarea":Zv(r,i),wt("invalid",r)}kh(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&fd(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&fd(r.textContent,l,e),a=["children",""+l]):Ul.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&wt("scroll",r)}switch(n){case"input":sd(r),Yv(r,i,!0);break;case"textarea":sd(r),Jv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=iu)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nS(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Kr]=t,e[Jl]=r,kC(e,t,!1,!1),t.stateNode=e;e:{switch(o=_h(n,r),n){case"dialog":wt("cancel",e),wt("close",e),a=r;break;case"iframe":case"object":case"embed":wt("load",e),a=r;break;case"video":case"audio":for(a=0;a<Nl.length;a++)wt(Nl[a],e);a=r;break;case"source":wt("error",e),a=r;break;case"img":case"image":case"link":wt("error",e),wt("load",e),a=r;break;case"details":wt("toggle",e),a=r;break;case"input":Gv(e,r),a=bh(e,r),wt("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=At({},r,{value:void 0}),wt("invalid",e);break;case"textarea":Zv(e,r),a=Sh(e,r),wt("invalid",e);break;default:a=r}kh(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?aS(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rS(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Bl(e,c):typeof c=="number"&&Bl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ul.hasOwnProperty(i)?c!=null&&i==="onScroll"&&wt("scroll",e):c!=null&&xg(e,i,c,o))}switch(n){case"input":sd(e),Yv(e,r,!1);break;case"textarea":sd(e),Jv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pa(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ji(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ji(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=iu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pn(t),null;case 6:if(e&&t.stateNode!=null)PC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(n=Va(ec.current),Va(Jr.current),md(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kr]=t,(i=r.nodeValue!==n)&&(e=Yn,e!==null))switch(e.tag){case 3:fd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fd(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kr]=t,t.stateNode=r}return pn(t),null;case 13:if(Nt(Tt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kt&&Gn!==null&&t.mode&1&&!(t.flags&128))WS(),Eo(),t.flags|=98560,i=!1;else if(i=md(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(X(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[Kr]=t}else Eo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pn(t),i=!1}else Nr!==null&&(op(Nr),Nr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Tt.current&1?Gt===0&&(Gt=3):Xg())),t.updateQueue!==null&&(t.flags|=4),pn(t),null);case 4:return Mo(),Xh(e,t),e===null&&Yl(t.stateNode.containerInfo),pn(t),null;case 10:return Og(t.type._context),pn(t),null;case 17:return zn(t.type)&&ou(),pn(t),null;case 19:if(Nt(Tt),i=t.memoizedState,i===null)return pn(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)dl(i,!1);else{if(Gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hu(e),o!==null){for(t.flags|=128,dl(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return vt(Tt,Tt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ft()>Ao&&(t.flags|=128,r=!0,dl(i,!1),t.lanes=4194304)}else{if(!r)if(e=hu(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),dl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!kt)return pn(t),null}else 2*Ft()-i.renderingStartTime>Ao&&n!==1073741824&&(t.flags|=128,r=!0,dl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ft(),t.sibling=null,n=Tt.current,vt(Tt,r?n&1|2:n&1),t):(pn(t),null);case 22:case 23:return Jg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Hn&1073741824&&(pn(t),t.subtreeFlags&6&&(t.flags|=8192)):pn(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function ID(e,t){switch(Rg(t),t.tag){case 1:return zn(t.type)&&ou(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mo(),Nt($n),Nt(bn),Vg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zg(t),null;case 13:if(Nt(Tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));Eo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Nt(Tt),null;case 4:return Mo(),null;case 10:return Og(t.type._context),null;case 22:case 23:return Jg(),null;case 24:return null;default:return null}}var gd=!1,vn=!1,DD=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ki(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Dt(e,t,r)}else n.current=null}function ep(e,t,n){try{n()}catch(r){Dt(e,t,r)}}var Vy=!1;function OD(e,t){if(Lh=ru,e=AS(),Tg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var p;f!==n||a!==0&&f.nodeType!==3||(l=o+a),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++d===a&&(l=o),m===i&&++u===r&&(c=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fh={focusedElem:e,selectionRange:n},ru=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,w=y.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:wr(t.type,g),w);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(N){Dt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return y=Vy,Vy=!1,y}function Ll(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&ep(t,n,i)}a=a.next}while(a!==r)}}function gf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function EC(e){var t=e.alternate;t!==null&&(e.alternate=null,EC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kr],delete t[Jl],delete t[Vh],delete t[vD],delete t[yD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function TC(e){return e.tag===5||e.tag===3||e.tag===4}function Uy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||TC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function np(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=iu));else if(r!==4&&(e=e.child,e!==null))for(np(e,t,n),e=e.sibling;e!==null;)np(e,t,n),e=e.sibling}function rp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(rp(e,t,n),e=e.sibling;e!==null;)rp(e,t,n),e=e.sibling}var sn=null,jr=!1;function As(e,t,n){for(n=n.child;n!==null;)MC(e,t,n),n=n.sibling}function MC(e,t,n){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(lf,n)}catch{}switch(n.tag){case 5:vn||Ki(n,t);case 6:var r=sn,a=jr;sn=null,As(e,t,n),sn=r,jr=a,sn!==null&&(jr?(e=sn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):sn.removeChild(n.stateNode));break;case 18:sn!==null&&(jr?(e=sn,n=n.stateNode,e.nodeType===8?Nm(e.parentNode,n):e.nodeType===1&&Nm(e,n),Kl(e)):Nm(sn,n.stateNode));break;case 4:r=sn,a=jr,sn=n.stateNode.containerInfo,jr=!0,As(e,t,n),sn=r,jr=a;break;case 0:case 11:case 14:case 15:if(!vn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ep(n,t,o),a=a.next}while(a!==r)}As(e,t,n);break;case 1:if(!vn&&(Ki(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Dt(n,t,l)}As(e,t,n);break;case 21:As(e,t,n);break;case 22:n.mode&1?(vn=(r=vn)||n.memoizedState!==null,As(e,t,n),vn=r):As(e,t,n);break;default:As(e,t,n)}}function By(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new DD),t.forEach(function(r){var a=qD.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function vr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:sn=l.stateNode,jr=!1;break e;case 3:sn=l.stateNode.containerInfo,jr=!0;break e;case 4:sn=l.stateNode.containerInfo,jr=!0;break e}l=l.return}if(sn===null)throw Error(X(160));MC(i,o,a),sn=null,jr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Dt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)RC(t,e),t=t.sibling}function RC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vr(t,e),Vr(e),r&4){try{Ll(3,e,e.return),gf(3,e)}catch(g){Dt(e,e.return,g)}try{Ll(5,e,e.return)}catch(g){Dt(e,e.return,g)}}break;case 1:vr(t,e),Vr(e),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(vr(t,e),Vr(e),r&512&&n!==null&&Ki(n,n.return),e.flags&32){var a=e.stateNode;try{Bl(a,"")}catch(g){Dt(e,e.return,g)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&eS(a,i),_h(l,o);var d=_h(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?aS(a,f):u==="dangerouslySetInnerHTML"?rS(a,f):u==="children"?Bl(a,f):xg(a,u,f,d)}switch(l){case"input":jh(a,i);break;case"textarea":tS(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ji(a,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ji(a,!!i.multiple,i.defaultValue,!0):Ji(a,!!i.multiple,i.multiple?[]:"",!1))}a[Jl]=i}catch(g){Dt(e,e.return,g)}}break;case 6:if(vr(t,e),Vr(e),r&4){if(e.stateNode===null)throw Error(X(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Dt(e,e.return,g)}}break;case 3:if(vr(t,e),Vr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kl(t.containerInfo)}catch(g){Dt(e,e.return,g)}break;case 4:vr(t,e),Vr(e);break;case 13:vr(t,e),Vr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Yg=Ft())),r&4&&By(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(vn=(d=vn)||u,vr(t,e),vn=d):vr(t,e),Vr(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(me=e,u=e.child;u!==null;){for(f=me=u;me!==null;){switch(m=me,p=m.child,m.tag){case 0:case 11:case 14:case 15:Ll(4,m,m.return);break;case 1:Ki(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){Dt(r,n,g)}}break;case 5:Ki(m,m.return);break;case 22:if(m.memoizedState!==null){qy(f);continue}}p!==null?(p.return=m,me=p):qy(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=sS("display",o))}catch(g){Dt(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){Dt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vr(t,e),Vr(e),r&4&&By(e);break;case 21:break;default:vr(t,e),Vr(e)}}function Vr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(TC(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Bl(a,""),r.flags&=-33);var i=Uy(e);rp(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Uy(e);np(e,l,o);break;default:throw Error(X(161))}}catch(c){Dt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function LD(e,t,n){me=e,AC(e)}function AC(e,t,n){for(var r=(e.mode&1)!==0;me!==null;){var a=me,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||gd;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||vn;l=gd;var d=vn;if(gd=o,(vn=c)&&!d)for(me=a;me!==null;)o=me,c=o.child,o.tag===22&&o.memoizedState!==null?Wy(a):c!==null?(c.return=o,me=c):Wy(a);for(;i!==null;)me=i,AC(i),i=i.sibling;me=a,gd=l,vn=d}Hy(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,me=i):Hy(e)}}function Hy(e){for(;me!==null;){var t=me;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vn||gf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!vn)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:wr(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Py(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Py(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Kl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}vn||t.flags&512&&tp(t)}catch(m){Dt(t,t.return,m)}}if(t===e){me=null;break}if(n=t.sibling,n!==null){n.return=t.return,me=n;break}me=t.return}}function qy(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var n=t.sibling;if(n!==null){n.return=t.return,me=n;break}me=t.return}}function Wy(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gf(4,t)}catch(c){Dt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){Dt(t,a,c)}}var i=t.return;try{tp(t)}catch(c){Dt(t,i,c)}break;case 5:var o=t.return;try{tp(t)}catch(c){Dt(t,o,c)}}}catch(c){Dt(t,t.return,c)}if(t===e){me=null;break}var l=t.sibling;if(l!==null){l.return=t.return,me=l;break}me=t.return}}var FD=Math.ceil,xu=Ms.ReactCurrentDispatcher,Qg=Ms.ReactCurrentOwner,mr=Ms.ReactCurrentBatchConfig,at=0,tn=null,Ht=null,cn=0,Hn=0,Qi=Pa(0),Gt=0,sc=null,ii=0,xf=0,Gg=0,Fl=null,Dn=null,Yg=0,Ao=1/0,us=null,vu=!1,sp=null,la=null,xd=!1,na=null,yu=0,$l=0,ap=null,Ud=-1,Bd=0;function _n(){return at&6?Ft():Ud!==-1?Ud:Ud=Ft()}function ca(e){return e.mode&1?at&2&&cn!==0?cn&-cn:bD.transition!==null?(Bd===0&&(Bd=xS()),Bd):(e=pt,e!==0||(e=window.event,e=e===void 0?16:SS(e.type)),e):1}function Pr(e,t,n,r){if(50<$l)throw $l=0,ap=null,Error(X(185));Rc(e,n,r),(!(at&2)||e!==tn)&&(e===tn&&(!(at&2)&&(xf|=n),Gt===4&&Hs(e,cn)),Vn(e,r),n===1&&at===0&&!(t.mode&1)&&(Ao=Ft()+500,mf&&Ea()))}function Vn(e,t){var n=e.callbackNode;bI(e,t);var r=nu(e,e===tn?cn:0);if(r===0)n!==null&&ty(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ty(n),t===1)e.tag===0?wD(Ky.bind(null,e)):BS(Ky.bind(null,e)),gD(function(){!(at&6)&&Ea()}),n=null;else{switch(vS(r)){case 1:n=jg;break;case 4:n=pS;break;case 16:n=tu;break;case 536870912:n=gS;break;default:n=tu}n=VC(n,IC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function IC(e,t){if(Ud=-1,Bd=0,at&6)throw Error(X(327));var n=e.callbackNode;if(ro()&&e.callbackNode!==n)return null;var r=nu(e,e===tn?cn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=wu(e,r);else{t=r;var a=at;at|=2;var i=OC();(tn!==e||cn!==t)&&(us=null,Ao=Ft()+500,Za(e,t));do try{VD();break}catch(l){DC(e,l)}while(!0);Dg(),xu.current=i,at=a,Ht!==null?t=0:(tn=null,cn=0,t=Gt)}if(t!==0){if(t===2&&(a=Rh(e),a!==0&&(r=a,t=ip(e,a))),t===1)throw n=sc,Za(e,0),Hs(e,r),Vn(e,Ft()),n;if(t===6)Hs(e,r);else{if(a=e.current.alternate,!(r&30)&&!$D(a)&&(t=wu(e,r),t===2&&(i=Rh(e),i!==0&&(r=i,t=ip(e,i))),t===1))throw n=sc,Za(e,0),Hs(e,r),Vn(e,Ft()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(X(345));case 2:Da(e,Dn,us);break;case 3:if(Hs(e,r),(r&130023424)===r&&(t=Yg+500-Ft(),10<t)){if(nu(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){_n(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=zh(Da.bind(null,e,Dn,us),t);break}Da(e,Dn,us);break;case 4:if(Hs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-_r(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FD(r/1960))-r,10<r){e.timeoutHandle=zh(Da.bind(null,e,Dn,us),r);break}Da(e,Dn,us);break;case 5:Da(e,Dn,us);break;default:throw Error(X(329))}}}return Vn(e,Ft()),e.callbackNode===n?IC.bind(null,e):null}function ip(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(Za(e,t).flags|=256),e=wu(e,t),e!==2&&(t=Dn,Dn=n,t!==null&&op(t)),e}function op(e){Dn===null?Dn=e:Dn.push.apply(Dn,e)}function $D(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Ir(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hs(e,t){for(t&=~Gg,t&=~xf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_r(t),r=1<<n;e[n]=-1,t&=~r}}function Ky(e){if(at&6)throw Error(X(327));ro();var t=nu(e,0);if(!(t&1))return Vn(e,Ft()),null;var n=wu(e,t);if(e.tag!==0&&n===2){var r=Rh(e);r!==0&&(t=r,n=ip(e,r))}if(n===1)throw n=sc,Za(e,0),Hs(e,t),Vn(e,Ft()),n;if(n===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Da(e,Dn,us),Vn(e,Ft()),null}function Zg(e,t){var n=at;at|=1;try{return e(t)}finally{at=n,at===0&&(Ao=Ft()+500,mf&&Ea())}}function oi(e){na!==null&&na.tag===0&&!(at&6)&&ro();var t=at;at|=1;var n=mr.transition,r=pt;try{if(mr.transition=null,pt=1,e)return e()}finally{pt=r,mr.transition=n,at=t,!(at&6)&&Ea()}}function Jg(){Hn=Qi.current,Nt(Qi)}function Za(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,pD(n)),Ht!==null)for(n=Ht.return;n!==null;){var r=n;switch(Rg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ou();break;case 3:Mo(),Nt($n),Nt(bn),Vg();break;case 5:zg(r);break;case 4:Mo();break;case 13:Nt(Tt);break;case 19:Nt(Tt);break;case 10:Og(r.type._context);break;case 22:case 23:Jg()}n=n.return}if(tn=e,Ht=e=da(e.current,null),cn=Hn=t,Gt=0,sc=null,Gg=xf=ii=0,Dn=Fl=null,za!==null){for(t=0;t<za.length;t++)if(n=za[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}za=null}return e}function DC(e,t){do{var n=Ht;try{if(Dg(),$d.current=gu,pu){for(var r=Rt.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}pu=!1}if(ai=0,Xt=Kt=Rt=null,Ol=!1,tc=0,Qg.current=null,n===null||n.return===null){Gt=1,sc=t,Ht=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=cn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Iy(o);if(p!==null){p.flags&=-257,Dy(p,o,l,i,t),p.mode&1&&Ay(i,d,t),t=p,c=d;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){Ay(i,d,t),Xg();break e}c=Error(X(426))}}else if(kt&&l.mode&1){var w=Iy(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Dy(w,o,l,i,t),Ag(Ro(c,l));break e}}i=c=Ro(c,l),Gt!==4&&(Gt=2),Fl===null?Fl=[i]:Fl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=vC(i,c,t);_y(i,v);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(la===null||!la.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=yC(i,l,t);_y(i,N);break e}}i=i.return}while(i!==null)}FC(n)}catch(C){t=C,Ht===n&&n!==null&&(Ht=n=n.return);continue}break}while(!0)}function OC(){var e=xu.current;return xu.current=gu,e===null?gu:e}function Xg(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),tn===null||!(ii&268435455)&&!(xf&268435455)||Hs(tn,cn)}function wu(e,t){var n=at;at|=2;var r=OC();(tn!==e||cn!==t)&&(us=null,Za(e,t));do try{zD();break}catch(a){DC(e,a)}while(!0);if(Dg(),at=n,xu.current=r,Ht!==null)throw Error(X(261));return tn=null,cn=0,Gt}function zD(){for(;Ht!==null;)LC(Ht)}function VD(){for(;Ht!==null&&!fI();)LC(Ht)}function LC(e){var t=zC(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?FC(e):Ht=t,Qg.current=null}function FC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ID(n,t),n!==null){n.flags&=32767,Ht=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gt=6,Ht=null;return}}else if(n=AD(n,t,Hn),n!==null){Ht=n;return}if(t=t.sibling,t!==null){Ht=t;return}Ht=t=e}while(t!==null);Gt===0&&(Gt=5)}function Da(e,t,n){var r=pt,a=mr.transition;try{mr.transition=null,pt=1,UD(e,t,n,r)}finally{mr.transition=a,pt=r}return null}function UD(e,t,n,r){do ro();while(na!==null);if(at&6)throw Error(X(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(jI(e,i),e===tn&&(Ht=tn=null,cn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xd||(xd=!0,VC(tu,function(){return ro(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=mr.transition,mr.transition=null;var o=pt;pt=1;var l=at;at|=4,Qg.current=null,OD(e,n),RC(n,e),lD(Fh),ru=!!Lh,Fh=Lh=null,e.current=n,LD(n),mI(),at=l,pt=o,mr.transition=i}else e.current=n;if(xd&&(xd=!1,na=e,yu=a),i=e.pendingLanes,i===0&&(la=null),gI(n.stateNode),Vn(e,Ft()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(vu)throw vu=!1,e=sp,sp=null,e;return yu&1&&e.tag!==0&&ro(),i=e.pendingLanes,i&1?e===ap?$l++:($l=0,ap=e):$l=0,Ea(),null}function ro(){if(na!==null){var e=vS(yu),t=mr.transition,n=pt;try{if(mr.transition=null,pt=16>e?16:e,na===null)var r=!1;else{if(e=na,na=null,yu=0,at&6)throw Error(X(331));var a=at;for(at|=4,me=e.current;me!==null;){var i=me,o=i.child;if(me.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(me=d;me!==null;){var u=me;switch(u.tag){case 0:case 11:case 15:Ll(8,u,i)}var f=u.child;if(f!==null)f.return=u,me=f;else for(;me!==null;){u=me;var m=u.sibling,p=u.return;if(EC(u),u===d){me=null;break}if(m!==null){m.return=p,me=m;break}me=p}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}me=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,me=o;else e:for(;me!==null;){if(i=me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ll(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,me=v;break e}me=i.return}}var x=e.current;for(me=x;me!==null;){o=me;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,me=b;else e:for(o=x;me!==null;){if(l=me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gf(9,l)}}catch(C){Dt(l,l.return,C)}if(l===o){me=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,me=N;break e}me=l.return}}if(at=a,Ea(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(lf,e)}catch{}r=!0}return r}finally{pt=n,mr.transition=t}}return!1}function Qy(e,t,n){t=Ro(n,t),t=vC(e,t,1),e=oa(e,t,1),t=_n(),e!==null&&(Rc(e,1,t),Vn(e,t))}function Dt(e,t,n){if(e.tag===3)Qy(e,e,n);else for(;t!==null;){if(t.tag===3){Qy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(la===null||!la.has(r))){e=Ro(n,e),e=yC(t,e,1),t=oa(t,e,1),e=_n(),t!==null&&(Rc(t,1,e),Vn(t,e));break}}t=t.return}}function BD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_n(),e.pingedLanes|=e.suspendedLanes&n,tn===e&&(cn&n)===n&&(Gt===4||Gt===3&&(cn&130023424)===cn&&500>Ft()-Yg?Za(e,0):Gg|=n),Vn(e,t)}function $C(e,t){t===0&&(e.mode&1?(t=od,od<<=1,!(od&130023424)&&(od=4194304)):t=1);var n=_n();e=js(e,t),e!==null&&(Rc(e,t,n),Vn(e,n))}function HD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$C(e,n)}function qD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(t),$C(e,n)}var zC;zC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$n.current)Ln=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ln=!1,RD(e,t,n);Ln=!!(e.flags&131072)}else Ln=!1,kt&&t.flags&1048576&&HS(t,du,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vd(e,t),e=t.pendingProps;var a=Po(t,bn.current);no(t,n),a=Bg(null,t,r,e,a,n);var i=Hg();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zn(r)?(i=!0,lu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Fg(t),a.updater=pf,t.stateNode=a,a._reactInternals=t,Kh(t,r,e,n),t=Yh(null,t,r,!0,i,n)):(t.tag=0,kt&&i&&Mg(t),Cn(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vd(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=KD(r),e=wr(r,e),a){case 0:t=Gh(null,t,r,e,n);break e;case 1:t=Fy(null,t,r,e,n);break e;case 11:t=Oy(null,t,r,e,n);break e;case 14:t=Ly(null,t,r,wr(r.type,e),n);break e}throw Error(X(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:wr(r,a),Gh(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:wr(r,a),Fy(e,t,r,a,n);case 3:e:{if(NC(t),e===null)throw Error(X(387));r=t.pendingProps,i=t.memoizedState,a=i.element,YS(e,t),mu(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Ro(Error(X(423)),t),t=$y(e,t,r,n,a);break e}else if(r!==a){a=Ro(Error(X(424)),t),t=$y(e,t,r,n,a);break e}else for(Gn=ia(t.stateNode.containerInfo.firstChild),Yn=t,kt=!0,Nr=null,n=QS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eo(),r===a){t=Ns(e,t,n);break e}Cn(e,t,r,n)}t=t.child}return t;case 5:return ZS(t),e===null&&Hh(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,$h(r,a)?o=null:i!==null&&$h(r,i)&&(t.flags|=32),jC(e,t),Cn(e,t,o,n),t.child;case 6:return e===null&&Hh(t),null;case 13:return SC(e,t,n);case 4:return $g(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=To(t,null,r,n):Cn(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:wr(r,a),Oy(e,t,r,a,n);case 7:return Cn(e,t,t.pendingProps,n),t.child;case 8:return Cn(e,t,t.pendingProps.children,n),t.child;case 12:return Cn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,vt(uu,r._currentValue),r._currentValue=o,i!==null)if(Ir(i.value,o)){if(i.children===a.children&&!$n.current){t=Ns(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=xs(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),qh(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),qh(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Cn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,no(t,n),a=pr(a),r=r(a),t.flags|=1,Cn(e,t,r,n),t.child;case 14:return r=t.type,a=wr(r,t.pendingProps),a=wr(r.type,a),Ly(e,t,r,a,n);case 15:return wC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:wr(r,a),Vd(e,t),t.tag=1,zn(r)?(e=!0,lu(t)):e=!1,no(t,n),xC(t,r,a),Kh(t,r,a,n),Yh(null,t,r,!0,e,n);case 19:return CC(e,t,n);case 22:return bC(e,t,n)}throw Error(X(156,t.tag))};function VC(e,t){return hS(e,t)}function WD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(e,t,n,r){return new WD(e,t,n,r)}function ex(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KD(e){if(typeof e=="function")return ex(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yg)return 11;if(e===wg)return 14}return 2}function da(e,t){var n=e.alternate;return n===null?(n=fr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hd(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")ex(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fi:return Ja(n.children,a,i,t);case vg:o=8,a|=8;break;case xh:return e=fr(12,n,t,a|2),e.elementType=xh,e.lanes=i,e;case vh:return e=fr(13,n,t,a),e.elementType=vh,e.lanes=i,e;case yh:return e=fr(19,n,t,a),e.elementType=yh,e.lanes=i,e;case Z1:return vf(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G1:o=10;break e;case Y1:o=9;break e;case yg:o=11;break e;case wg:o=14;break e;case zs:o=16,r=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=fr(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Ja(e,t,n,r){return e=fr(7,e,r,t),e.lanes=n,e}function vf(e,t,n,r){return e=fr(22,e,r,t),e.elementType=Z1,e.lanes=n,e.stateNode={isHidden:!1},e}function Mm(e,t,n){return e=fr(6,e,null,t),e.lanes=n,e}function Rm(e,t,n){return t=fr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function QD(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fm(0),this.expirationTimes=fm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fm(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function tx(e,t,n,r,a,i,o,l,c){return e=new QD(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=fr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fg(i),e}function GD(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Li,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function UC(e){if(!e)return ga;e=e._reactInternals;e:{if(bi(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var n=e.type;if(zn(n))return US(e,n,t)}return t}function BC(e,t,n,r,a,i,o,l,c){return e=tx(n,r,!0,e,a,i,o,l,c),e.context=UC(null),n=e.current,r=_n(),a=ca(n),i=xs(r,a),i.callback=t??null,oa(n,i,a),e.current.lanes=a,Rc(e,a,r),Vn(e,r),e}function yf(e,t,n,r){var a=t.current,i=_n(),o=ca(a);return n=UC(n),t.context===null?t.context=n:t.pendingContext=n,t=xs(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=oa(a,t,o),e!==null&&(Pr(e,a,o,i),Fd(e,a,o)),o}function bu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nx(e,t){Gy(e,t),(e=e.alternate)&&Gy(e,t)}function YD(){return null}var HC=typeof reportError=="function"?reportError:function(e){console.error(e)};function rx(e){this._internalRoot=e}wf.prototype.render=rx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));yf(e,t,null,null)};wf.prototype.unmount=rx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;oi(function(){yf(null,e,null,null)}),t[bs]=null}};function wf(e){this._internalRoot=e}wf.prototype.unstable_scheduleHydration=function(e){if(e){var t=bS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bs.length&&t!==0&&t<Bs[n].priority;n++);Bs.splice(n,0,e),n===0&&NS(e)}};function sx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yy(){}function ZD(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var d=bu(o);i.call(d)}}var o=BC(t,r,e,0,null,!1,!1,"",Yy);return e._reactRootContainer=o,e[bs]=o.current,Yl(e.nodeType===8?e.parentNode:e),oi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var d=bu(c);l.call(d)}}var c=tx(e,0,!1,null,null,!1,!1,"",Yy);return e._reactRootContainer=c,e[bs]=c.current,Yl(e.nodeType===8?e.parentNode:e),oi(function(){yf(t,c,n,r)}),c}function jf(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=bu(o);l.call(c)}}yf(t,o,e,a)}else o=ZD(n,t,e,a,r);return bu(o)}yS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jl(t.pendingLanes);n!==0&&(Ng(t,n|1),Vn(t,Ft()),!(at&6)&&(Ao=Ft()+500,Ea()))}break;case 13:oi(function(){var r=js(e,1);if(r!==null){var a=_n();Pr(r,e,1,a)}}),nx(e,1)}};Sg=function(e){if(e.tag===13){var t=js(e,134217728);if(t!==null){var n=_n();Pr(t,e,134217728,n)}nx(e,134217728)}};wS=function(e){if(e.tag===13){var t=ca(e),n=js(e,t);if(n!==null){var r=_n();Pr(n,e,t,r)}nx(e,t)}};bS=function(){return pt};jS=function(e,t){var n=pt;try{return pt=e,t()}finally{pt=n}};Eh=function(e,t,n){switch(t){case"input":if(jh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ff(r);if(!a)throw Error(X(90));X1(r),jh(r,a)}}}break;case"textarea":tS(e,n);break;case"select":t=n.value,t!=null&&Ji(e,!!n.multiple,t,!1)}};lS=Zg;cS=oi;var JD={usingClientEntryPoint:!1,Events:[Ic,Ui,ff,iS,oS,Zg]},ul={findFiberByHostInstance:$a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XD={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fS(e),e===null?null:e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||YD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{lf=vd.inject(XD),Zr=vd}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JD;er.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sx(t))throw Error(X(200));return GD(e,t,null,n)};er.createRoot=function(e,t){if(!sx(e))throw Error(X(299));var n=!1,r="",a=HC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=tx(e,1,!1,null,null,n,!1,r,a),e[bs]=t.current,Yl(e.nodeType===8?e.parentNode:e),new rx(t)};er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=fS(t),e=e===null?null:e.stateNode,e};er.flushSync=function(e){return oi(e)};er.hydrate=function(e,t,n){if(!bf(t))throw Error(X(200));return jf(null,e,t,!0,n)};er.hydrateRoot=function(e,t,n){if(!sx(e))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=HC;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=BC(t,null,e,1,n??null,a,!1,i,o),e[bs]=t.current,Yl(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new wf(t)};er.render=function(e,t,n){if(!bf(t))throw Error(X(200));return jf(null,e,t,!1,n)};er.unmountComponentAtNode=function(e){if(!bf(e))throw Error(X(40));return e._reactRootContainer?(oi(function(){jf(null,null,e,!1,function(){e._reactRootContainer=null,e[bs]=null})}),!0):!1};er.unstable_batchedUpdates=Zg;er.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bf(n))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return jf(e,t,n,!1,r)};er.version="18.3.1-next-f1338f8080-20240426";function qC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qC)}catch(e){console.error(e)}}qC(),q1.exports=er;var Ta=q1.exports;const eO=R1(Ta);var WC,Zy=Ta;WC=Zy.createRoot,Zy.hydrateRoot;function tO(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)n=a[0],n==="*"?(o.push(n),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~r?r:~i?i:a.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var KC={exports:{}},QC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Io=h;function nO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rO=typeof Object.is=="function"?Object.is:nO,sO=Io.useState,aO=Io.useEffect,iO=Io.useLayoutEffect,oO=Io.useDebugValue;function lO(e,t){var n=t(),r=sO({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return iO(function(){a.value=n,a.getSnapshot=t,Am(a)&&i({inst:a})},[e,n,t]),aO(function(){return Am(a)&&i({inst:a}),e(function(){Am(a)&&i({inst:a})})},[e]),oO(n),n}function Am(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rO(e,n)}catch{return!0}}function cO(e,t){return t()}var dO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cO:lO;QC.useSyncExternalStore=Io.useSyncExternalStore!==void 0?Io.useSyncExternalStore:dO;KC.exports=QC;var uO=KC.exports;const fO=B1.useInsertionEffect,mO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GC=mO?h.useLayoutEffect:h.useEffect,hO=fO||GC,ax=e=>{const t=h.useRef([e,(...n)=>t[0](...n)]).current;return hO(()=>{t[0]=e}),t[1]},pO="popstate",ix="pushState",ox="replaceState",gO="hashchange",Jy=[pO,ix,ox,gO],xO=e=>{for(const t of Jy)addEventListener(t,e);return()=>{for(const t of Jy)removeEventListener(t,e)}},YC=(e,t)=>uO.useSyncExternalStore(xO,e,t),vO=()=>location.search,yO=({ssrSearch:e=""}={})=>YC(vO,()=>e),Xy=()=>location.pathname,wO=({ssrPath:e}={})=>YC(Xy,e?()=>e:Xy),bO=(e,{replace:t=!1,state:n=null}={})=>history[t?ox:ix](n,"",e),jO=(e={})=>[wO(e),bO],ew=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ew]>"u"){for(const e of[ix,ox]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,ew,{value:!0})}const NO=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",ZC=(e="")=>e==="/"?"":e,SO=(e,t)=>e[0]==="~"?e.slice(1):ZC(t)+e,CO=(e="",t)=>NO(lp(ZC(e)),lp(t)),kO=e=>e[0]==="?"?e.slice(1):e,lp=e=>{try{return decodeURI(e)}catch{return e}},_O=e=>lp(kO(e)),JC={hook:jO,searchHook:yO,parser:tO,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},XC=h.createContext(JC),ji=()=>h.useContext(XC),ek={},tk=h.createContext(ek),PO=()=>h.useContext(tk),Nf=e=>{const[t,n]=e.hook(e);return[CO(e.base,t),ax((r,a)=>n(SO(r,e.base),a))]},Wt=()=>Nf(ji()),EO=()=>{const e=ji();return _O(e.searchHook(e))},lx=(e,t,n,r)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=a.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((f,m)=>[f,c[m]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...r?[l]:[]]:[!1,null]},Sf=e=>lx(ji().parser,e,Wt()[0]),TO=({children:e,...t})=>{var u,f;const n=ji(),r=t.hook?JC:n;let a=r;const[i,o]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=h.useRef({}),c=l.current,d=c;for(let m in r){const p=m==="base"?r[m]+(t[m]||""):t[m]||r[m];c===d&&p!==d[m]&&(l.current=d={...d}),d[m]=p,p!==r[m]&&(a=d)}return h.createElement(XC.Provider,{value:a,children:e})},tw=({children:e,component:t},n)=>t?h.createElement(t,{params:n}):typeof e=="function"?e(n):e,MO=e=>{let t=h.useRef(ek),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},gt=({path:e,nest:t,match:n,...r})=>{const a=ji(),[i]=Nf(a),[o,l,c]=n??lx(a.parser,e,i,t),d=MO({...PO(),...l});if(!o)return null;const u=c?h.createElement(TO,{base:c},tw(r,d)):tw(r,d);return h.createElement(tk.Provider,{value:d,children:u})},Ye=h.forwardRef((e,t)=>{const n=ji(),[r,a]=Nf(n),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:u,replace:f,state:m,...p}=e,y=ax(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(l==null||l(w),w.defaultPrevented||(w.preventDefault(),a(o,e)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&h.isValidElement(d)?h.cloneElement(d,{onClick:y,href:g}):h.createElement("a",{...p,onClick:y,href:g,className:u!=null&&u.call?u(r===o):u,children:d,ref:t})}),nk=e=>Array.isArray(e)?e.flatMap(t=>nk(t&&t.type===h.Fragment?t.props.children:t)):[e],rk=({children:e,location:t})=>{const n=ji(),[r]=Nf(n);for(const a of nk(e)){let i=0;if(h.isValidElement(a)&&(i=lx(n.parser,a.props.path,t||r,a.props.nest))[0])return h.cloneElement(a,{match:i})}return null},Xa=e=>{const{to:t,href:n=t}=e,[,r]=Wt(),a=ax(()=>r(t||n,e));return GC(()=>{a()},[]),null};var Qo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},li=typeof window>"u"||"Deno"in globalThis;function or(){}function RO(e,t){return typeof e=="function"?e(t):e}function cp(e){return typeof e=="number"&&e>=0&&e!==1/0}function sk(e,t){return Math.max(e+(t||0)-Date.now(),0)}function so(e,t){return typeof e=="function"?e(t):e}function Sr(e,t){return typeof e=="function"?e(t):e}function nw(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==cx(o,t.options))return!1}else if(!ac(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function rw(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(ci(t.options.mutationKey)!==ci(i))return!1}else if(!ac(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function cx(e,t){return((t==null?void 0:t.queryKeyHashFn)||ci)(e)}function ci(e){return JSON.stringify(e,(t,n)=>dp(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function ac(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!ac(e[n],t[n])):!1}function ak(e,t){if(e===t)return e;const n=sw(e)&&sw(t);if(n||dp(e)&&dp(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const u=n?d:i[d];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=ak(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function ju(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function sw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function dp(e){if(!aw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!aw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function aw(e){return Object.prototype.toString.call(e)==="[object Object]"}function AO(e){return new Promise(t=>{setTimeout(t,e)})}function up(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?ak(e,t):t}function IO(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function DO(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var dx=Symbol();function ik(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===dx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ha,Ws,ho,zb,OO=(zb=class extends Qo{constructor(){super();Pe(this,Ha);Pe(this,Ws);Pe(this,ho);ue(this,ho,t=>{if(!li&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){A(this,Ws)||this.setEventListener(A(this,ho))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,Ws))==null||t.call(this),ue(this,Ws,void 0))}setEventListener(t){var n;ue(this,ho,t),(n=A(this,Ws))==null||n.call(this),ue(this,Ws,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){A(this,Ha)!==t&&(ue(this,Ha,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof A(this,Ha)=="boolean"?A(this,Ha):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ha=new WeakMap,Ws=new WeakMap,ho=new WeakMap,zb),ux=new OO,po,Ks,go,Vb,LO=(Vb=class extends Qo{constructor(){super();Pe(this,po,!0);Pe(this,Ks);Pe(this,go);ue(this,go,t=>{if(!li&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){A(this,Ks)||this.setEventListener(A(this,go))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,Ks))==null||t.call(this),ue(this,Ks,void 0))}setEventListener(t){var n;ue(this,go,t),(n=A(this,Ks))==null||n.call(this),ue(this,Ks,t(this.setOnline.bind(this)))}setOnline(t){A(this,po)!==t&&(ue(this,po,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return A(this,po)}},po=new WeakMap,Ks=new WeakMap,go=new WeakMap,Vb),Nu=new LO;function fp(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function FO(e){return Math.min(1e3*2**e,3e4)}function ok(e){return(e??"online")==="online"?Nu.isOnline():!0}var lk=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Im(e){return e instanceof lk}function ck(e){let t=!1,n=0,r=!1,a;const i=fp(),o=g=>{var w;r||(m(new lk(g)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>ux.isFocused()&&(e.networkMode==="always"||Nu.isOnline())&&e.canRun(),u=()=>ok(e.networkMode)&&e.canRun(),f=g=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,g),a==null||a(),i.resolve(g))},m=g=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,g),a==null||a(),i.reject(g))},p=()=>new Promise(g=>{var w;a=v=>{(r||d())&&g(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;a=void 0,r||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(r)return;let g;const w=n===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var P;if(r)return;const x=e.retry??(li?0:3),b=e.retryDelay??FO,N=typeof b=="function"?b(n,v):b,C=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,v);if(t||!C){m(v);return}n++,(P=e.onFail)==null||P.call(e,n,v),AO(N).then(()=>d()?void 0:p()).then(()=>{t?m(v):y()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?y():p().then(y),i)}}function $O(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var Qt=$O(),qa,Ub,dk=(Ub=class{constructor(){Pe(this,qa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cp(this.gcTime)&&ue(this,qa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(li?1/0:5*60*1e3))}clearGcTimeout(){A(this,qa)&&(clearTimeout(A(this,qa)),ue(this,qa,void 0))}},qa=new WeakMap,Ub),xo,vo,ir,gn,_c,Wa,br,cs,Bb,zO=(Bb=class extends dk{constructor(t){super();Pe(this,br);Pe(this,xo);Pe(this,vo);Pe(this,ir);Pe(this,gn);Pe(this,_c);Pe(this,Wa);ue(this,Wa,!1),ue(this,_c,t.defaultOptions),this.setOptions(t.options),this.observers=[],ue(this,ir,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ue(this,xo,VO(this.options)),this.state=t.state??A(this,xo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=A(this,gn))==null?void 0:t.promise}setOptions(t){this.options={...A(this,_c),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&A(this,ir).remove(this)}setData(t,n){const r=up(this.state.data,t,this.options);return Qe(this,br,cs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Qe(this,br,cs).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=A(this,gn))==null?void 0:r.promise;return(a=A(this,gn))==null||a.cancel(t),n?n.then(or).catch(or):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(A(this,xo))}isActive(){return this.observers.some(t=>Sr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!sk(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=A(this,gn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=A(this,gn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),A(this,ir).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(A(this,gn)&&(A(this,Wa)?A(this,gn).cancel({revert:!0}):A(this,gn).cancelRetry()),this.scheduleGc()),A(this,ir).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qe(this,br,cs).call(this,{type:"invalidate"})}fetch(t,n){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(A(this,gn))return A(this,gn).continueRetry(),A(this,gn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ue(this,Wa,!0),r.signal)})},i=()=>{const f=ik(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return a(m),ue(this,Wa,!1),this.options.persister?this.options.persister(f,m,this):f(m)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),ue(this,vo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Qe(this,br,cs).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var m,p,y,g;Im(f)&&f.silent||Qe(this,br,cs).call(this,{type:"error",error:f}),Im(f)||((p=(m=A(this,ir).config).onError)==null||p.call(m,f,this),(g=(y=A(this,ir).config).onSettled)==null||g.call(y,this.state.data,f,this)),this.scheduleGc()};return ue(this,gn,ck({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,p,y,g;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){l(w);return}(p=(m=A(this,ir).config).onSuccess)==null||p.call(m,f,this),(g=(y=A(this,ir).config).onSettled)==null||g.call(y,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Qe(this,br,cs).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Qe(this,br,cs).call(this,{type:"pause"})},onContinue:()=>{Qe(this,br,cs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),A(this,gn).start()}},xo=new WeakMap,vo=new WeakMap,ir=new WeakMap,gn=new WeakMap,_c=new WeakMap,Wa=new WeakMap,br=new WeakSet,cs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...uk(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Im(a)&&a.revert&&A(this,vo)?{...A(this,vo),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Qt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),A(this,ir).notify({query:this,type:"updated",action:t})})},Bb);function uk(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ok(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function VO(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Br,Hb,UO=(Hb=class extends Qo{constructor(t={}){super();Pe(this,Br);this.config=t,ue(this,Br,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??cx(a,n);let o=this.get(i);return o||(o=new zO({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){A(this,Br).has(t.queryHash)||(A(this,Br).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=A(this,Br).get(t.queryHash);n&&(t.destroy(),n===t&&A(this,Br).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return A(this,Br).get(t)}getAll(){return[...A(this,Br).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>nw(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>nw(t,r)):n}notify(t){Qt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Qt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Br=new WeakMap,Hb),Hr,Nn,Ka,qr,Fs,qb,BO=(qb=class extends dk{constructor(t){super();Pe(this,qr);Pe(this,Hr);Pe(this,Nn);Pe(this,Ka);this.mutationId=t.mutationId,ue(this,Nn,t.mutationCache),ue(this,Hr,[]),this.state=t.state||fk(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){A(this,Hr).includes(t)||(A(this,Hr).push(t),this.clearGcTimeout(),A(this,Nn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ue(this,Hr,A(this,Hr).filter(n=>n!==t)),this.scheduleGc(),A(this,Nn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){A(this,Hr).length||(this.state.status==="pending"?this.scheduleGc():A(this,Nn).remove(this))}continue(){var t;return((t=A(this,Ka))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,u,f,m,p,y,g,w,v,x,b,N,C,P,S;ue(this,Ka,ck({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,O)=>{Qe(this,qr,Fs).call(this,{type:"failed",failureCount:E,error:O})},onPause:()=>{Qe(this,qr,Fs).call(this,{type:"pause"})},onContinue:()=>{Qe(this,qr,Fs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>A(this,Nn).canRun(this)}));const n=this.state.status==="pending",r=!A(this,Ka).canStart();try{if(!n){Qe(this,qr,Fs).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(a=A(this,Nn).config).onMutate)==null?void 0:i.call(a,t,this));const O=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));O!==this.state.context&&Qe(this,qr,Fs).call(this,{type:"pending",context:O,variables:t,isPaused:r})}const E=await A(this,Ka).start();return await((d=(c=A(this,Nn).config).onSuccess)==null?void 0:d.call(c,E,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,E,t,this.state.context)),await((p=(m=A(this,Nn).config).onSettled)==null?void 0:p.call(m,E,null,this.state.variables,this.state.context,this)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,E,null,t,this.state.context)),Qe(this,qr,Fs).call(this,{type:"success",data:E}),E}catch(E){try{throw await((v=(w=A(this,Nn).config).onError)==null?void 0:v.call(w,E,t,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,E,t,this.state.context)),await((C=(N=A(this,Nn).config).onSettled)==null?void 0:C.call(N,void 0,E,this.state.variables,this.state.context,this)),await((S=(P=this.options).onSettled)==null?void 0:S.call(P,void 0,E,t,this.state.context)),E}finally{Qe(this,qr,Fs).call(this,{type:"error",error:E})}}finally{A(this,Nn).runNext(this)}}},Hr=new WeakMap,Nn=new WeakMap,Ka=new WeakMap,qr=new WeakSet,Fs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Qt.batch(()=>{A(this,Hr).forEach(r=>{r.onMutationUpdate(t)}),A(this,Nn).notify({mutation:this,type:"updated",action:t})})},qb);function fk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bn,Pc,Wb,HO=(Wb=class extends Qo{constructor(t={}){super();Pe(this,Bn);Pe(this,Pc);this.config=t,ue(this,Bn,new Map),ue(this,Pc,Date.now())}build(t,n,r){const a=new BO({mutationCache:this,mutationId:++td(this,Pc)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){const n=yd(t),r=A(this,Bn).get(n)??[];r.push(t),A(this,Bn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=yd(t);if(A(this,Bn).has(n)){const a=(r=A(this,Bn).get(n))==null?void 0:r.filter(i=>i!==t);a&&(a.length===0?A(this,Bn).delete(n):A(this,Bn).set(n,a))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=A(this,Bn).get(yd(t)))==null?void 0:r.find(a=>a.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=A(this,Bn).get(yd(t)))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Qt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...A(this,Bn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>rw(n,r))}findAll(t={}){return this.getAll().filter(n=>rw(t,n))}notify(t){Qt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Qt.batch(()=>Promise.all(t.map(n=>n.continue().catch(or))))}},Bn=new WeakMap,Pc=new WeakMap,Wb);function yd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function iw(e){return{onFetch:(t,n)=>{var u,f,m,p,y;const r=t.options,a=(m=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=ik(t.options,t.fetchOptions),x=async(b,N,C)=>{if(g)return Promise.reject();if(N==null&&b.pages.length)return Promise.resolve(b);const P={queryKey:t.queryKey,pageParam:N,direction:C?"backward":"forward",meta:t.options.meta};w(P);const S=await v(P),{maxPages:E}=t.options,O=C?DO:IO;return{pages:O(b.pages,S,E),pageParams:O(b.pageParams,N,E)}};if(a&&i.length){const b=a==="backward",N=b?qO:ow,C={pages:i,pageParams:o},P=N(r,C);l=await x(C,P,b)}else{const b=e??i.length;do{const N=c===0?o[0]??r.initialPageParam:ow(r,l);if(c>0&&N==null)break;l=await x(l,N),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function ow(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function qO(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var It,Qs,Gs,yo,wo,Ys,bo,jo,Kb,WO=(Kb=class{constructor(e={}){Pe(this,It);Pe(this,Qs);Pe(this,Gs);Pe(this,yo);Pe(this,wo);Pe(this,Ys);Pe(this,bo);Pe(this,jo);ue(this,It,e.queryCache||new UO),ue(this,Qs,e.mutationCache||new HO),ue(this,Gs,e.defaultOptions||{}),ue(this,yo,new Map),ue(this,wo,new Map),ue(this,Ys,0)}mount(){td(this,Ys)._++,A(this,Ys)===1&&(ue(this,bo,ux.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,It).onFocus())})),ue(this,jo,Nu.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,It).onOnline())})))}unmount(){var e,t;td(this,Ys)._--,A(this,Ys)===0&&((e=A(this,bo))==null||e.call(this),ue(this,bo,void 0),(t=A(this,jo))==null||t.call(this),ue(this,jo,void 0))}isFetching(e){return A(this,It).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return A(this,Qs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=A(this,It).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=A(this,It).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(so(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return A(this,It).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=A(this,It).get(r.queryHash),i=a==null?void 0:a.state.data,o=RO(t,i);if(o!==void 0)return A(this,It).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Qt.batch(()=>A(this,It).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=A(this,It).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=A(this,It);Qt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=A(this,It),r={type:"active",...e};return Qt.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Qt.batch(()=>A(this,It).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(or).catch(or)}invalidateQueries(e={},t={}){return Qt.batch(()=>{if(A(this,It).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Qt.batch(()=>A(this,It).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(or)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(or)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=A(this,It).build(this,t);return n.isStaleByTime(so(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(or).catch(or)}fetchInfiniteQuery(e){return e.behavior=iw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(or).catch(or)}ensureInfiniteQueryData(e){return e.behavior=iw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Nu.isOnline()?A(this,Qs).resumePausedMutations():Promise.resolve()}getQueryCache(){return A(this,It)}getMutationCache(){return A(this,Qs)}getDefaultOptions(){return A(this,Gs)}setDefaultOptions(e){ue(this,Gs,e)}setQueryDefaults(e,t){A(this,yo).set(ci(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...A(this,yo).values()];let n={};return t.forEach(r=>{ac(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){A(this,wo).set(ci(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...A(this,wo).values()];let n={};return t.forEach(r=>{ac(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...A(this,Gs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=cx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===dx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...A(this,Gs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){A(this,It).clear(),A(this,Qs).clear()}},It=new WeakMap,Qs=new WeakMap,Gs=new WeakMap,yo=new WeakMap,wo=new WeakMap,Ys=new WeakMap,bo=new WeakMap,jo=new WeakMap,Kb),An,et,Ec,Sn,Qa,No,Zs,Wr,Tc,So,Co,Ga,Ya,Js,ko,ft,Sl,mp,hp,pp,gp,xp,vp,yp,mk,Qb,KO=(Qb=class extends Qo{constructor(t,n){super();Pe(this,ft);Pe(this,An);Pe(this,et);Pe(this,Ec);Pe(this,Sn);Pe(this,Qa);Pe(this,No);Pe(this,Zs);Pe(this,Wr);Pe(this,Tc);Pe(this,So);Pe(this,Co);Pe(this,Ga);Pe(this,Ya);Pe(this,Js);Pe(this,ko,new Set);this.options=n,ue(this,An,t),ue(this,Wr,null),ue(this,Zs,fp()),this.options.experimental_prefetchInRender||A(this,Zs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(A(this,et).addObserver(this),lw(A(this,et),this.options)?Qe(this,ft,Sl).call(this):this.updateResult(),Qe(this,ft,gp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wp(A(this,et),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wp(A(this,et),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Qe(this,ft,xp).call(this),Qe(this,ft,vp).call(this),A(this,et).removeObserver(this)}setOptions(t,n){const r=this.options,a=A(this,et);if(this.options=A(this,An).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Sr(this.options.enabled,A(this,et))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Qe(this,ft,yp).call(this),A(this,et).setOptions(this.options),r._defaulted&&!ju(this.options,r)&&A(this,An).getQueryCache().notify({type:"observerOptionsUpdated",query:A(this,et),observer:this});const i=this.hasListeners();i&&cw(A(this,et),a,this.options,r)&&Qe(this,ft,Sl).call(this),this.updateResult(n),i&&(A(this,et)!==a||Sr(this.options.enabled,A(this,et))!==Sr(r.enabled,A(this,et))||so(this.options.staleTime,A(this,et))!==so(r.staleTime,A(this,et)))&&Qe(this,ft,mp).call(this);const o=Qe(this,ft,hp).call(this);i&&(A(this,et)!==a||Sr(this.options.enabled,A(this,et))!==Sr(r.enabled,A(this,et))||o!==A(this,Js))&&Qe(this,ft,pp).call(this,o)}getOptimisticResult(t){const n=A(this,An).getQueryCache().build(A(this,An),t),r=this.createResult(n,t);return GO(this,r)&&(ue(this,Sn,r),ue(this,No,this.options),ue(this,Qa,A(this,et).state)),r}getCurrentResult(){return A(this,Sn)}trackResult(t,n){const r={};return Object.keys(t).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n==null||n(a),t[a])})}),r}trackProp(t){A(this,ko).add(t)}getCurrentQuery(){return A(this,et)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=A(this,An).defaultQueryOptions(t),r=A(this,An).getQueryCache().build(A(this,An),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Qe(this,ft,Sl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),A(this,Sn)))}createResult(t,n){var E;const r=A(this,et),a=this.options,i=A(this,Sn),o=A(this,Qa),l=A(this,No),d=t!==r?t.state:A(this,Ec),{state:u}=t;let f={...u},m=!1,p;if(n._optimisticResults){const O=this.hasListeners(),j=!O&&lw(t,n),D=O&&cw(t,r,n,a);(j||D)&&(f={...f,...uk(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:g,status:w}=f;if(n.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&n.select===A(this,Tc))p=A(this,So);else try{ue(this,Tc,n.select),p=n.select(f.data),p=up(i==null?void 0:i.data,p,n),ue(this,So,p),ue(this,Wr,null)}catch(O){ue(this,Wr,O)}else p=f.data;if(n.placeholderData!==void 0&&p===void 0&&w==="pending"){let O;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))O=i.data;else if(O=typeof n.placeholderData=="function"?n.placeholderData((E=A(this,Co))==null?void 0:E.state.data,A(this,Co)):n.placeholderData,n.select&&O!==void 0)try{O=n.select(O),ue(this,Wr,null)}catch(j){ue(this,Wr,j)}O!==void 0&&(w="success",p=up(i==null?void 0:i.data,O,n),m=!0)}A(this,Wr)&&(y=A(this,Wr),p=A(this,So),g=Date.now(),w="error");const v=f.fetchStatus==="fetching",x=w==="pending",b=w==="error",N=x&&v,C=p!==void 0,S={status:w,fetchStatus:f.fetchStatus,isPending:x,isSuccess:w==="success",isError:b,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:b&&!C,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:b&&C,isStale:fx(t,n),refetch:this.refetch,promise:A(this,Zs)};if(this.options.experimental_prefetchInRender){const O=I=>{S.status==="error"?I.reject(S.error):S.data!==void 0&&I.resolve(S.data)},j=()=>{const I=ue(this,Zs,S.promise=fp());O(I)},D=A(this,Zs);switch(D.status){case"pending":t.queryHash===r.queryHash&&O(D);break;case"fulfilled":(S.status==="error"||S.data!==D.value)&&j();break;case"rejected":(S.status!=="error"||S.error!==D.reason)&&j();break}}return S}updateResult(t){const n=A(this,Sn),r=this.createResult(A(this,et),this.options);if(ue(this,Qa,A(this,et).state),ue(this,No,this.options),A(this,Qa).data!==void 0&&ue(this,Co,A(this,et)),ju(r,n))return;ue(this,Sn,r);const a={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!A(this,ko).size)return!0;const c=new Set(l??A(this,ko));return this.options.throwOnError&&c.add("error"),Object.keys(A(this,Sn)).some(d=>{const u=d;return A(this,Sn)[u]!==n[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Qe(this,ft,mk).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Qe(this,ft,gp).call(this)}},An=new WeakMap,et=new WeakMap,Ec=new WeakMap,Sn=new WeakMap,Qa=new WeakMap,No=new WeakMap,Zs=new WeakMap,Wr=new WeakMap,Tc=new WeakMap,So=new WeakMap,Co=new WeakMap,Ga=new WeakMap,Ya=new WeakMap,Js=new WeakMap,ko=new WeakMap,ft=new WeakSet,Sl=function(t){Qe(this,ft,yp).call(this);let n=A(this,et).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(or)),n},mp=function(){Qe(this,ft,xp).call(this);const t=so(this.options.staleTime,A(this,et));if(li||A(this,Sn).isStale||!cp(t))return;const r=sk(A(this,Sn).dataUpdatedAt,t)+1;ue(this,Ga,setTimeout(()=>{A(this,Sn).isStale||this.updateResult()},r))},hp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(A(this,et)):this.options.refetchInterval)??!1},pp=function(t){Qe(this,ft,vp).call(this),ue(this,Js,t),!(li||Sr(this.options.enabled,A(this,et))===!1||!cp(A(this,Js))||A(this,Js)===0)&&ue(this,Ya,setInterval(()=>{(this.options.refetchIntervalInBackground||ux.isFocused())&&Qe(this,ft,Sl).call(this)},A(this,Js)))},gp=function(){Qe(this,ft,mp).call(this),Qe(this,ft,pp).call(this,Qe(this,ft,hp).call(this))},xp=function(){A(this,Ga)&&(clearTimeout(A(this,Ga)),ue(this,Ga,void 0))},vp=function(){A(this,Ya)&&(clearInterval(A(this,Ya)),ue(this,Ya,void 0))},yp=function(){const t=A(this,An).getQueryCache().build(A(this,An),this.options);if(t===A(this,et))return;const n=A(this,et);ue(this,et,t),ue(this,Ec,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},mk=function(t){Qt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(A(this,Sn))}),A(this,An).getQueryCache().notify({query:A(this,et),type:"observerResultsUpdated"})})},Qb);function QO(e,t){return Sr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function lw(e,t){return QO(e,t)||e.state.data!==void 0&&wp(e,t,t.refetchOnMount)}function wp(e,t,n){if(Sr(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&fx(e,t)}return!1}function cw(e,t,n,r){return(e!==t||Sr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&fx(e,n)}function fx(e,t){return Sr(t.enabled,e)!==!1&&e.isStaleByTime(so(t.staleTime,e))}function GO(e,t){return!ju(e.getCurrentResult(),t)}var Xs,ea,In,hs,ys,qd,bp,Gb,YO=(Gb=class extends Qo{constructor(n,r){super();Pe(this,ys);Pe(this,Xs);Pe(this,ea);Pe(this,In);Pe(this,hs);ue(this,Xs,n),this.setOptions(r),this.bindMethods(),Qe(this,ys,qd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=A(this,Xs).defaultMutationOptions(n),ju(this.options,r)||A(this,Xs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:A(this,In),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ci(r.mutationKey)!==ci(this.options.mutationKey)?this.reset():((a=A(this,In))==null?void 0:a.state.status)==="pending"&&A(this,In).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=A(this,In))==null||n.removeObserver(this)}onMutationUpdate(n){Qe(this,ys,qd).call(this),Qe(this,ys,bp).call(this,n)}getCurrentResult(){return A(this,ea)}reset(){var n;(n=A(this,In))==null||n.removeObserver(this),ue(this,In,void 0),Qe(this,ys,qd).call(this),Qe(this,ys,bp).call(this)}mutate(n,r){var a;return ue(this,hs,r),(a=A(this,In))==null||a.removeObserver(this),ue(this,In,A(this,Xs).getMutationCache().build(A(this,Xs),this.options)),A(this,In).addObserver(this),A(this,In).execute(n)}},Xs=new WeakMap,ea=new WeakMap,In=new WeakMap,hs=new WeakMap,ys=new WeakSet,qd=function(){var r;const n=((r=A(this,In))==null?void 0:r.state)??fk();ue(this,ea,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},bp=function(n){Qt.batch(()=>{var r,a,i,o,l,c,d,u;if(A(this,hs)&&this.hasListeners()){const f=A(this,ea).variables,m=A(this,ea).context;(n==null?void 0:n.type)==="success"?((a=(r=A(this,hs)).onSuccess)==null||a.call(r,n.data,f,m),(o=(i=A(this,hs)).onSettled)==null||o.call(i,n.data,null,f,m)):(n==null?void 0:n.type)==="error"&&((c=(l=A(this,hs)).onError)==null||c.call(l,n.error,f,m),(u=(d=A(this,hs)).onSettled)==null||u.call(d,void 0,n.error,f,m))}this.listeners.forEach(f=>{f(A(this,ea))})})},Gb),hk=h.createContext(void 0),pk=e=>{const t=h.useContext(hk);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ZO=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(hk.Provider,{value:e,children:t})),gk=h.createContext(!1),JO=()=>h.useContext(gk);gk.Provider;function XO(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var e4=h.createContext(XO()),t4=()=>h.useContext(e4);function xk(e,t){return typeof e=="function"?e(...t):!!e}function jp(){}var n4=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},r4=e=>{h.useEffect(()=>{e.clearReset()},[e])},s4=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&xk(n,[e.error,r]),a4=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},i4=(e,t)=>e.isLoading&&e.isFetching&&!t,o4=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,dw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function l4(e,t,n){var u,f,m,p,y;const r=pk(),a=JO(),i=t4(),o=r.defaultQueryOptions(e);(f=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=a?"isRestoring":"optimistic",a4(o),n4(o,i),r4(i);const l=!r.getQueryCache().get(o.queryHash),[c]=h.useState(()=>new t(r,o)),d=c.getOptimisticResult(o);if(h.useSyncExternalStore(h.useCallback(g=>{const w=a?jp:c.subscribe(Qt.batchCalls(g));return c.updateResult(),w},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),o4(o,d))throw dw(o,c,i);if(s4({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;if((p=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,o,d),o.experimental_prefetchInRender&&!li&&i4(d,a)){const g=l?dw(o,c,i):(y=r.getQueryCache().get(o.queryHash))==null?void 0:y.promise;g==null||g.catch(jp).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Ie(e,t){return l4(e,KO)}function tt(e,t){const n=pk(),[r]=h.useState(()=>new YO(n,e));h.useEffect(()=>{r.setOptions(e)},[r,e]);const a=h.useSyncExternalStore(h.useCallback(o=>r.subscribe(Qt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=h.useCallback((o,l)=>{r.mutate(o,l).catch(jp)},[r]);if(a.error&&xk(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/*! Capacitor: https://capacitorjs.com/ - MIT License */var Do;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Do||(Do={}));class Dm extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const c4=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},d4=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},a=()=>t!==null?t.name:c4(e),i=()=>a()!=="web",o=f=>{const m=d.get(f);return!!(m!=null&&m.platforms.has(a())||l(f))},l=f=>{var m;return(m=n.PluginHeaders)===null||m===void 0?void 0:m.find(p=>p.name===f)},c=f=>e.console.error(f),d=new Map,u=(f,m={})=>{const p=d.get(f);if(p)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),p.proxy;const y=a(),g=l(f);let w;const v=async()=>(!w&&y in m?w=typeof m[y]=="function"?w=await m[y]():w=m[y]:t!==null&&!w&&"web"in m&&(w=typeof m.web=="function"?w=await m.web():w=m.web),w),x=(E,O)=>{var j,D;if(g){const I=g==null?void 0:g.methods.find(R=>O===R.name);if(I)return I.rtype==="promise"?R=>n.nativePromise(f,O.toString(),R):(R,F)=>n.nativeCallback(f,O.toString(),R,F);if(E)return(j=E[O])===null||j===void 0?void 0:j.bind(E)}else{if(E)return(D=E[O])===null||D===void 0?void 0:D.bind(E);throw new Dm(`"${f}" plugin is not implemented on ${y}`,Do.Unimplemented)}},b=E=>{let O;const j=(...D)=>{const I=v().then(R=>{const F=x(R,E);if(F){const k=F(...D);return O=k==null?void 0:k.remove,k}else throw new Dm(`"${f}.${E}()" is not implemented on ${y}`,Do.Unimplemented)});return E==="addListener"&&(I.remove=async()=>O()),I};return j.toString=()=>`${E.toString()}() { [capacitor code] }`,Object.defineProperty(j,"name",{value:E,writable:!1,configurable:!1}),j},N=b("addListener"),C=b("removeListener"),P=(E,O)=>{const j=N({eventName:E},O),D=async()=>{const R=await j;C({eventName:E,callbackId:R},O)},I=new Promise(R=>j.then(()=>R({remove:D})));return I.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await D()},I},S=new Proxy({},{get(E,O){switch(O){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return g?P:N;case"removeListener":return C;default:return b(O)}}});return r[f]=S,d.set(f,{name:f,proxy:S,platforms:new Set([...Object.keys(m),...g?[y]:[]])}),S};return n.convertFileSrc||(n.convertFileSrc=f=>f),n.getPlatform=a,n.handleError=c,n.isNativePlatform=i,n.isPluginAvailable=o,n.registerPlugin=u,n.Exception=Dm,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},u4=e=>e.Capacitor=d4(e),xt=u4(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),vk=xt.registerPlugin;class yk{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const a=this.listeners[t];if(!a){if(r){let i=this.retainedEventArguments[t];i||(i=[]),i.push(n),this.retainedEventArguments[t]=i}return}a.forEach(i=>i(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new xt.Exception(t,Do.Unimplemented)}unavailable(t="not available"){return new xt.Exception(t,Do.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const a=r.indexOf(n);this.listeners[t].splice(a,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const uw=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),fw=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class f4 extends yk{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[a,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=fw(a).trim(),i=fw(i).trim(),n[a]=i}),n}async setCookie(t){try{const n=uw(t.key),r=uw(t.value),a=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${a}; path=${i}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}vk("CapacitorCookies",{web:()=>new f4});const m4=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const a=r.result;t(a.indexOf(",")>=0?a.split(",")[1]:a)},r.onerror=a=>n(a),r.readAsDataURL(e)}),h4=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(a=>a.toLocaleLowerCase()).reduce((a,i,o)=>(a[i]=e[t[o]],a),{})},p4=(e,t=!0)=>e?Object.entries(e).reduce((r,a)=>{const[i,o]=a;let l,c;return Array.isArray(o)?(c="",o.forEach(d=>{l=t?encodeURIComponent(d):d,c+=`${i}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(o):o,c=`${i}=${l}`),`${r}&${c}`},"").substr(1):null,g4=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),a=h4(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,l]of Object.entries(e.data||{}))i.set(o,l);n.body=i.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{i.append(c,l)});else for(const l of Object.keys(e.data))i.append(l,e.data[l]);n.body=i;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(a.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class x4 extends yk{async request(t){const n=g4(t,t.webFetchExtra),r=p4(t.params,t.shouldEncodeUrlParams),a=r?`${t.url}?${r}`:t.url,i=await fetch(a,n),o=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?t:{};o.includes("application/json")&&(l="json");let c,d;switch(l){case"arraybuffer":case"blob":d=await i.blob(),c=await m4(d);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const u={};return i.headers.forEach((f,m)=>{u[m]=f}),{data:c,headers:u,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}vk("CapacitorHttp",{web:()=>new x4});const Su="heyteam_user_id";function ic(){if(typeof window>"u")return null;const e=localStorage.getItem(Su);return console.log("[UserIdStorage] Retrieved userId from storage:",e),e}function v4(e){if(typeof window>"u")return;console.log("[UserIdStorage] Storing userId:",e),localStorage.setItem(Su,e);const t=localStorage.getItem(Su);console.log("[UserIdStorage] Verified stored userId:",t)}function mx(){typeof window>"u"||localStorage.removeItem(Su)}function mw(){return xt.isNativePlatform()?"https://portal.heyteam.ai":""}const hx=async({queryKey:e})=>{const t=ic();if(xt.isNativePlatform()&&t){const d=`${mw()}/api/mobile/auth/me`;console.log("[UserAPI] Making mobile request to:",d),console.log("[UserAPI] Using userId:",t);try{const u=await fetch(d,{headers:{"X-User-ID":t},credentials:"include"});if(console.log("[UserAPI] Response status:",u.status),u.status===401){mx();const f=new Error("UNAUTHORIZED");throw f.status=401,f}if(!u.ok){let f=`Request failed with status ${u.status}`;try{f=(await u.json()).message||f}catch{}const m=new Error(f);throw m.status=u.status,m}return await u.json()}catch(u){if(u.status===401||u.message==="UNAUTHORIZED")throw u;const f=new Error(u.message||"Network error");throw f.status=u.status||0,f}}const r=mw(),a=e.join("/"),i=a.startsWith("http")?a:`${r}${a}`,o=await fetch(i,{credentials:"include"});if(o.status===401)return null;if(!o.ok){const l=await o.text()||o.statusText;throw new Error(`${o.status}: ${l}`)}return await o.json()},Cu="heyteam_contact_id";function wk(){return xt.isNativePlatform()?"https://portal.heyteam.ai":""}function Oc(){if(typeof window>"u")return null;const e=localStorage.getItem(Cu);return console.log("[ContactAPI] Retrieved contactId from storage:",e),e}function y4(e){if(typeof window>"u")return;console.log("[ContactAPI] Storing contactId:",e),localStorage.setItem(Cu,e);const t=localStorage.getItem(Cu);console.log("[ContactAPI] Verified stored contactId:",t)}function Qr(){typeof window>"u"||localStorage.removeItem(Cu)}async function px(e,t,n){const r=Oc();if(!r)throw new Error("Not authenticated. Please log in.");const a=wk(),i=t.startsWith("http")?t:`${a}${t}`,l={method:e,headers:{"Content-Type":"application/json","X-Contact-ID":r},credentials:"include"};n&&(e==="POST"||e==="PATCH"||e==="PUT")&&(l.body=JSON.stringify(n));const c=await fetch(i,l);if(c.status===401)throw Qr(),new Error("UNAUTHORIZED");if(!c.ok){const d=await c.json().catch(()=>({message:c.statusText}));throw new Error(d.message||`Request failed with status ${c.status}`)}return c}const Er=async({queryKey:e})=>{const t=Oc();if(!t){const i=new Error("UNAUTHORIZED");throw i.status=401,i}const n=wk(),r=e.join("/"),a=r.startsWith("http")?r:`${n}${r}`;console.log("[ContactAPI] Making request to:",a),console.log("[ContactAPI] Using contactId:",t);try{const i=await fetch(a,{headers:{"X-Contact-ID":t},credentials:"include"});if(console.log("[ContactAPI] Response status:",i.status),i.status===401){Qr();const o=new Error("UNAUTHORIZED");throw o.status=401,o}if(!i.ok){let o=`Request failed with status ${i.status}`;try{o=(await i.json()).message||o}catch{}const l=new Error(o);throw l.status=i.status,l}return await i.json()}catch(i){if(i.status===401||i.message==="UNAUTHORIZED")throw i;const o=new Error(i.message||"Network error");throw o.status=i.status||0,o}};function bk(){return xt.isNativePlatform()?"https://portal.heyteam.ai":""}function jk(){const e={};if(xt.isNativePlatform()){const t=ic(),n=Oc();t?(e["X-User-ID"]=t,console.log("[QueryClient] Adding X-User-ID header:",t)):n&&(e["X-Contact-ID"]=n,console.log("[QueryClient] Adding X-Contact-ID header:",n))}return e}async function Nk(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function rt(e,t,n){const r=bk(),a=t.startsWith("http")?t:`${r}${t}`,o={...jk(),...n?{"Content-Type":"application/json"}:{}};console.log("[QueryClient] apiRequest to:",a,"with headers:",o);const l=await fetch(a,{method:e,headers:o,body:n?JSON.stringify(n):void 0,credentials:"include"});return await Nk(l),l}const w4=({on401:e})=>async({queryKey:t})=>{const n=t.join("/"),r=bk(),a=n.startsWith("http")?n:`${r}${n}`,i=jk();console.log("[QueryClient] getQueryFn to:",a,"with headers:",i);const o=await fetch(a,{headers:i,credentials:"include"});return e==="returnNull"&&o.status===401?null:(await Nk(o),await o.json())},Ee=new WO({defaultOptions:{queries:{queryFn:w4({on401:"throw"}),refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:"always",staleTime:0,retry:!1},mutations:{retry:!1}}}),b4=1,j4=1e6;let Om=0;function N4(){return Om=(Om+1)%Number.MAX_SAFE_INTEGER,Om.toString()}const Lm=new Map,hw=e=>{if(Lm.has(e))return;const t=setTimeout(()=>{Lm.delete(e),zl({type:"REMOVE_TOAST",toastId:e})},j4);Lm.set(e,t)},S4=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,b4)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?hw(n):e.toasts.forEach(r=>{hw(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Wd=[];let Kd={toasts:[]};function zl(e){Kd=S4(Kd,e),Wd.forEach(t=>{t(Kd)})}function C4({...e}){const t=N4(),n=a=>zl({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>zl({type:"DISMISS_TOAST",toastId:t});return zl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function St(){const[e,t]=h.useState(Kd);return h.useEffect(()=>(Wd.push(t),()=>{const n=Wd.indexOf(t);n>-1&&Wd.splice(n,1)}),[e]),{...e,toast:C4,dismiss:n=>zl({type:"DISMISS_TOAST",toastId:n})}}function se(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function pw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Cf(...e){return t=>{let n=!1;const r=e.map(a=>{const i=pw(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():pw(e[a],null)}}}}function Je(...e){return h.useCallback(Cf(...e),e)}function k4(e,t){const n=h.createContext(t),r=i=>{const{children:o,...l}=i,c=h.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=h.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function fn(e,t=[]){let n=[];function r(i,o){const l=h.createContext(o),c=n.length;n=[...n,o];const d=f=>{var v;const{scope:m,children:p,...y}=f,g=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,w=h.useMemo(()=>y,Object.values(y));return s.jsx(g.Provider,{value:w,children:p})};d.displayName=i+"Provider";function u(f,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,y=h.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>h.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,_4(a,...t)]}function _4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function di(e){const t=P4(e),n=h.forwardRef((r,a)=>{const{children:i,...o}=r,l=h.Children.toArray(i),c=l.find(E4);if(c){const d=c.props.children,u=l.map(f=>f===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:f);return s.jsx(t,{...o,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var gx=di("Slot");function P4(e){const t=h.forwardRef((n,r)=>{const{children:a,...i}=n;if(h.isValidElement(a)){const o=M4(a),l=T4(i,a.props);return a.type!==h.Fragment&&(l.ref=r?Cf(r,o):o),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Sk=Symbol("radix.slottable");function Ck(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Sk,t}function E4(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Sk}function T4(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{i(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function M4(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function kf(e){const t=e+"CollectionProvider",[n,r]=fn(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:v}=g,x=G.useRef(null),b=G.useRef(new Map).current;return s.jsx(a,{scope:w,itemMap:b,collectionRef:x,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=di(l),d=G.forwardRef((g,w)=>{const{scope:v,children:x}=g,b=i(l,v),N=Je(w,b.collectionRef);return s.jsx(c,{ref:N,children:x})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",m=di(u),p=G.forwardRef((g,w)=>{const{scope:v,children:x,...b}=g,N=G.useRef(null),C=Je(w,N),P=i(u,v);return G.useEffect(()=>(P.itemMap.set(N,{ref:N,...b}),()=>void P.itemMap.delete(N))),s.jsx(m,{[f]:"",ref:C,children:x})});p.displayName=u;function y(g){const w=i(e+"CollectionConsumer",g);return G.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((P,S)=>b.indexOf(P.ref.current)-b.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},y,r]}var R4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ne=R4.reduce((e,t)=>{const n=di(`Primitive.${t}`),r=h.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function xx(e,t){e&&Ta.flushSync(()=>e.dispatchEvent(t))}function un(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function A4(e,t=globalThis==null?void 0:globalThis.document){const n=un(e);h.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var I4="DismissableLayer",Np="dismissableLayer.update",D4="dismissableLayer.pointerDownOutside",O4="dismissableLayer.focusOutside",gw,kk=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Go=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=h.useContext(kk),[u,f]=h.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),y=Je(t,S=>f(S)),g=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(w),x=u?g.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,N=x>=v,C=F4(S=>{const E=S.target,O=[...d.branches].some(j=>j.contains(E));!N||O||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},m),P=$4(S=>{const E=S.target;[...d.branches].some(j=>j.contains(E))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},m);return A4(S=>{x===d.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),h.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(gw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),xw(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=gw)}},[u,m,n,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),xw())},[u,d]),h.useEffect(()=>{const S=()=>p({});return document.addEventListener(Np,S),()=>document.removeEventListener(Np,S)},[]),s.jsx(Ne.div,{...c,ref:y,style:{pointerEvents:b?N?"auto":"none":void 0,...e.style},onFocusCapture:se(e.onFocusCapture,P.onFocusCapture),onBlurCapture:se(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:se(e.onPointerDownCapture,C.onPointerDownCapture)})});Go.displayName=I4;var L4="DismissableLayerBranch",_k=h.forwardRef((e,t)=>{const n=h.useContext(kk),r=h.useRef(null),a=Je(t,r);return h.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(Ne.div,{...e,ref:a})});_k.displayName=L4;function F4(e,t=globalThis==null?void 0:globalThis.document){const n=un(e),r=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){Pk(D4,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function $4(e,t=globalThis==null?void 0:globalThis.document){const n=un(e),r=h.useRef(!1);return h.useEffect(()=>{const a=i=>{i.target&&!r.current&&Pk(O4,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xw(){const e=new CustomEvent(Np);document.dispatchEvent(e)}function Pk(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?xx(a,i):a.dispatchEvent(i)}var z4=Go,V4=_k,Zt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},U4="Portal",Lc=h.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=h.useState(!1);Zt(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?eO.createPortal(s.jsx(Ne.div,{...r,ref:t}),o):null});Lc.displayName=U4;function B4(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var nr=e=>{const{present:t,children:n}=e,r=H4(t),a=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),i=Je(r.ref,q4(a));return typeof n=="function"||r.isPresent?h.cloneElement(a,{ref:i}):null};nr.displayName="Presence";function H4(e){const[t,n]=h.useState(),r=h.useRef({}),a=h.useRef(e),i=h.useRef("none"),o=e?"mounted":"unmounted",[l,c]=B4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=wd(r.current);i.current=l==="mounted"?d:"none"},[l]),Zt(()=>{const d=r.current,u=a.current;if(u!==e){const m=i.current,p=wd(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Zt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const g=wd(r.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=p=>{p.target===t&&(i.current=wd(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function wd(e){return(e==null?void 0:e.animationName)||"none"}function q4(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Dr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=W4({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,l=un(n),c=h.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function W4({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,a=h.useRef(r),i=un(t);return h.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}var K4="VisuallyHidden",Fc=h.forwardRef((e,t)=>s.jsx(Ne.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Fc.displayName=K4;var Q4=Fc,vx="ToastProvider",[yx,G4,Y4]=kf("Toast"),[Ek,yH]=fn("Toast",[Y4]),[Z4,_f]=Ek(vx),Tk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=h.useState(null),[d,u]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${vx}\`. Expected non-empty \`string\`.`),s.jsx(yx.Provider,{scope:t,children:s.jsx(Z4,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>u(p=>p+1),[]),onToastRemove:h.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};Tk.displayName=vx;var Mk="ToastViewport",J4=["F8"],Sp="toast.viewportPause",Cp="toast.viewportResume",Rk=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=J4,label:a="Notifications ({hotkey})",...i}=e,o=_f(Mk,n),l=G4(n),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),f=h.useRef(null),m=Je(t,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;h.useEffect(()=>{const w=v=>{var b;r.length!==0&&r.every(N=>v[N]||v.code===N)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),h.useEffect(()=>{const w=c.current,v=f.current;if(y&&w&&v){const x=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(Sp);v.dispatchEvent(P),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(Cp);v.dispatchEvent(P),o.isClosePausedRef.current=!1}},N=P=>{!w.contains(P.relatedTarget)&&b()},C=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",x),w.addEventListener("focusout",N),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",C),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",C),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:w})=>{const x=l().map(b=>{const N=b.ref.current,C=[N,...uL(N)];return w==="forwards"?C:C.reverse()});return(w==="forwards"?x.reverse():x).flat()},[l]);return h.useEffect(()=>{const w=f.current;if(w){const v=x=>{var C,P,S;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const E=document.activeElement,O=x.shiftKey;if(x.target===w&&O){(C=d.current)==null||C.focus();return}const I=g({tabbingDirection:O?"backwards":"forwards"}),R=I.findIndex(F=>F===E);Fm(I.slice(R+1))?x.preventDefault():O?(P=d.current)==null||P.focus():(S=u.current)==null||S.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[l,g]),s.jsxs(V4,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(kp,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Fm(w)}}),s.jsx(yx.Slot,{scope:n,children:s.jsx(Ne.ol,{tabIndex:-1,...i,ref:m})}),y&&s.jsx(kp,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Fm(w)}})]})});Rk.displayName=Mk;var Ak="ToastFocusProxy",kp=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=_f(Ak,n);return s.jsx(Fc,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});kp.displayName=Ak;var Pf="Toast",X4="toast.swipeStart",eL="toast.swipeMove",tL="toast.swipeCancel",nL="toast.swipeEnd",Ik=h.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=Dr({prop:r,defaultProp:a,onChange:i});return s.jsx(nr,{present:n||l,children:s.jsx(aL,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:un(e.onPause),onResume:un(e.onResume),onSwipeStart:se(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:se(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Ik.displayName=Pf;var[rL,sL]=Ek(Pf,{onClose(){}}),aL=h.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...y}=e,g=_f(Pf,n),[w,v]=h.useState(null),x=Je(t,F=>v(F)),b=h.useRef(null),N=h.useRef(null),C=a||g.duration,P=h.useRef(0),S=h.useRef(C),E=h.useRef(0),{onToastAdd:O,onToastRemove:j}=g,D=un(()=>{var k;(w==null?void 0:w.contains(document.activeElement))&&((k=g.viewport)==null||k.focus()),o()}),I=h.useCallback(F=>{!F||F===1/0||(window.clearTimeout(E.current),P.current=new Date().getTime(),E.current=window.setTimeout(D,F))},[D]);h.useEffect(()=>{const F=g.viewport;if(F){const k=()=>{I(S.current),d==null||d()},T=()=>{const B=new Date().getTime()-P.current;S.current=S.current-B,window.clearTimeout(E.current),c==null||c()};return F.addEventListener(Sp,T),F.addEventListener(Cp,k),()=>{F.removeEventListener(Sp,T),F.removeEventListener(Cp,k)}}},[g.viewport,C,c,d,I]),h.useEffect(()=>{i&&!g.isClosePausedRef.current&&I(C)},[i,C,g.isClosePausedRef,I]),h.useEffect(()=>(O(),()=>j()),[O,j]);const R=h.useMemo(()=>w?Vk(w):null,[w]);return g.viewport?s.jsxs(s.Fragment,{children:[R&&s.jsx(iL,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),s.jsx(rL,{scope:n,onClose:D,children:Ta.createPortal(s.jsx(yx.ItemSlot,{scope:n,children:s.jsx(z4,{asChild:!0,onEscapeKeyDown:se(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||D(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:se(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:se(e.onPointerDown,F=>{F.button===0&&(b.current={x:F.clientX,y:F.clientY})}),onPointerMove:se(e.onPointerMove,F=>{if(!b.current)return;const k=F.clientX-b.current.x,T=F.clientY-b.current.y,B=!!N.current,L=["left","right"].includes(g.swipeDirection),_=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,z=L?_(0,k):0,Y=L?0:_(0,T),ae=F.pointerType==="touch"?10:2,Me={x:z,y:Y},Ce={originalEvent:F,delta:Me};B?(N.current=Me,bd(eL,f,Ce,{discrete:!1})):vw(Me,g.swipeDirection,ae)?(N.current=Me,bd(X4,u,Ce,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(k)>ae||Math.abs(T)>ae)&&(b.current=null)}),onPointerUp:se(e.onPointerUp,F=>{const k=N.current,T=F.target;if(T.hasPointerCapture(F.pointerId)&&T.releasePointerCapture(F.pointerId),N.current=null,b.current=null,k){const B=F.currentTarget,L={originalEvent:F,delta:k};vw(k,g.swipeDirection,g.swipeThreshold)?bd(nL,p,L,{discrete:!0}):bd(tL,m,L,{discrete:!0}),B.addEventListener("click",_=>_.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),iL=e=>{const{__scopeToast:t,children:n,...r}=e,a=_f(Pf,t),[i,o]=h.useState(!1),[l,c]=h.useState(!1);return cL(()=>o(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(Lc,{asChild:!0,children:s.jsx(Fc,{...r,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},oL="ToastTitle",Dk=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Ne.div,{...r,ref:t})});Dk.displayName=oL;var lL="ToastDescription",Ok=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Ne.div,{...r,ref:t})});Ok.displayName=lL;var Lk="ToastAction",Fk=h.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(zk,{altText:n,asChild:!0,children:s.jsx(wx,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Lk}\`. Expected non-empty \`string\`.`),null)});Fk.displayName=Lk;var $k="ToastClose",wx=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=sL($k,n);return s.jsx(zk,{asChild:!0,children:s.jsx(Ne.button,{type:"button",...r,ref:t,onClick:se(e.onClick,a.onClose)})})});wx.displayName=$k;var zk=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(Ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function Vk(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),dL(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Vk(r))}}),t}function bd(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?xx(a,i):a.dispatchEvent(i)}var vw=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>n:!i&&a>n};function cL(e=()=>{}){const t=un(e);Zt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function dL(e){return e.nodeType===e.ELEMENT_NODE}function uL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Fm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var fL=Tk,Uk=Rk,Bk=Ik,Hk=Dk,qk=Ok,Wk=Fk,Kk=wx;function Qk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Qk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Gk(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Qk(e))&&(r&&(r+=" "),r+=t);return r}const yw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ww=Gk,Yo=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return ww(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=n==null?void 0:n[d],f=i==null?void 0:i[d];if(u===null)return null;const m=yw(u)||yw(f);return a[d][m]}),l=n&&Object.entries(n).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:f,className:m,...p}=u;return Object.entries(p).every(y=>{let[g,w]=y;return Array.isArray(w)?w.includes({...i,...l}[g]):{...i,...l}[g]===w})?[...d,f,m]:d},[]);return ww(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yk=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...hL,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Yk("lucide",a),...l},[...o.map(([d,u])=>h.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const n=h.forwardRef(({className:r,...a},i)=>h.createElement(pL,{ref:i,iconNode:t,className:Yk(`lucide-${mL(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=be("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=be("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=be("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=be("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=be("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=be("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=be("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=be("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=be("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=be("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=be("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=be("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=be("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=be("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=be("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=be("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=be("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=be("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ex="-",_L=e=>{const t=EL(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(Ex);return l[0]===""&&l.length!==1&&l.shift(),r_(l,t)||PL(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},r_=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?r_(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Ex);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Cw=/^\[(.+)\]$/,PL=e=>{if(Cw.test(e)){const t=Cw.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},EL=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return ML(Object.entries(e.classGroups),n).forEach(([i,o])=>{Ap(o,r,i,t)}),r},Ap=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:kw(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(TL(a)){Ap(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{Ap(o,kw(t,i),n,r)})})},kw=(e,t)=>{let n=e;return t.split(Ex).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},TL=e=>e.isThemeGetter,ML=(e,t)=>t?e.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,RL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},s_="!",AL=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let w=0;w<l.length;w++){let v=l[w];if(d===0){if(v===a&&(r||l.slice(w,w+i)===t)){c.push(l.slice(u,w)),u=w+i;continue}if(v==="/"){f=w;continue}}v==="["?d++:v==="]"&&d--}const m=c.length===0?l:l.substring(u),p=m.startsWith(s_),y=p?m.substring(1):m,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},IL=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},DL=e=>({cache:RL(e.cacheSize),parseClassName:AL(e),..._L(e)}),OL=/\s+/,LL=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(OL);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(d);let y=!!p,g=r(y?m.substring(0,p):m);if(!g){if(!y){l=d+(l.length>0?" "+l:l);continue}if(g=r(m),!g){l=d+(l.length>0?" "+l:l);continue}y=!1}const w=IL(u).join(":"),v=f?w+s_:w,x=v+g;if(i.includes(x))continue;i.push(x);const b=a(g,y);for(let N=0;N<b.length;++N){const C=b[N];i.push(v+C)}l=d+(l.length>0?" "+l:l)}return l};function FL(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=a_(t))&&(r&&(r+=" "),r+=n);return r}const a_=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=a_(e[r]))&&(n&&(n+=" "),n+=t);return n};function $L(e,...t){let n,r,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return n=DL(d),r=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=LL(c,n);return a(c,u),u}return function(){return i(FL.apply(null,arguments))}}const yt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},i_=/^\[(?:([a-z-]+):)?(.+)\]$/i,zL=/^\d+\/\d+$/,VL=new Set(["px","full","screen"]),UL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,os=e=>ao(e)||VL.has(e)||zL.test(e),Is=e=>Zo(e,"length",eF),ao=e=>!!e&&!Number.isNaN(Number(e)),Bm=e=>Zo(e,"number",ao),fl=e=>!!e&&Number.isInteger(Number(e)),KL=e=>e.endsWith("%")&&ao(e.slice(0,-1)),We=e=>i_.test(e),Ds=e=>UL.test(e),QL=new Set(["length","size","percentage"]),GL=e=>Zo(e,QL,o_),YL=e=>Zo(e,"position",o_),ZL=new Set(["image","url"]),JL=e=>Zo(e,ZL,nF),XL=e=>Zo(e,"",tF),ml=()=>!0,Zo=(e,t,n)=>{const r=i_.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},eF=e=>BL.test(e)&&!HL.test(e),o_=()=>!1,tF=e=>qL.test(e),nF=e=>WL.test(e),rF=()=>{const e=yt("colors"),t=yt("spacing"),n=yt("blur"),r=yt("brightness"),a=yt("borderColor"),i=yt("borderRadius"),o=yt("borderSpacing"),l=yt("borderWidth"),c=yt("contrast"),d=yt("grayscale"),u=yt("hueRotate"),f=yt("invert"),m=yt("gap"),p=yt("gradientColorStops"),y=yt("gradientColorStopPositions"),g=yt("inset"),w=yt("margin"),v=yt("opacity"),x=yt("padding"),b=yt("saturate"),N=yt("scale"),C=yt("sepia"),P=yt("skew"),S=yt("space"),E=yt("translate"),O=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",We,t],I=()=>[We,t],R=()=>["",os,Is],F=()=>["auto",ao,We],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",We],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[ao,We];return{cacheSize:500,separator:":",theme:{colors:[ml],spacing:[os,Is],blur:["none","",Ds,We],brightness:Y(),borderColor:[e],borderRadius:["none","","full",Ds,We],borderSpacing:I(),borderWidth:R(),contrast:Y(),grayscale:_(),hueRotate:Y(),invert:_(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[KL,Is],inset:D(),margin:D(),opacity:Y(),padding:I(),saturate:Y(),scale:Y(),sepia:_(),skew:Y(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",We]}],container:["container"],columns:[{columns:[Ds]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),We]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fl,We]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",We]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",fl,We]}],"grid-cols":[{"grid-cols":[ml]}],"col-start-end":[{col:["auto",{span:["full",fl,We]},We]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[ml]}],"row-start-end":[{row:["auto",{span:[fl,We]},We]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",We]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",We]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",We,t]}],"min-w":[{"min-w":[We,t,"min","max","fit"]}],"max-w":[{"max-w":[We,t,"none","full","min","max","fit","prose",{screen:[Ds]},Ds]}],h:[{h:[We,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[We,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[We,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[We,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ds,Is]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bm]}],"font-family":[{font:[ml]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",We]}],"line-clamp":[{"line-clamp":["none",ao,Bm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",os,We]}],"list-image":[{"list-image":["none",We]}],"list-style-type":[{list:["none","disc","decimal",We]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",os,Is]}],"underline-offset":[{"underline-offset":["auto",os,We]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),YL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},JL]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:T()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[os,We]}],"outline-w":[{outline:[os,Is]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[os,Is]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ds,XL]}],"shadow-color":[{shadow:[ml]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ds,We]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",We]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",We]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",We]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[fl,We]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",We]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[os,Is,Bm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sF=$L(rF);function K(...e){return sF(Gk(e))}const aF=fL,l_=h.forwardRef(({className:e,...t},n)=>s.jsx(Uk,{ref:n,className:K("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));l_.displayName=Uk.displayName;const iF=Yo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),c_=h.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(Bk,{ref:r,className:K(iF({variant:t}),e),...n}));c_.displayName=Bk.displayName;const oF=h.forwardRef(({className:e,...t},n)=>s.jsx(Wk,{ref:n,className:K("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));oF.displayName=Wk.displayName;const d_=h.forwardRef(({className:e,...t},n)=>s.jsx(Kk,{ref:n,className:K("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Xr,{className:"h-4 w-4"})}));d_.displayName=Kk.displayName;const u_=h.forwardRef(({className:e,...t},n)=>s.jsx(Hk,{ref:n,className:K("text-sm font-semibold",e),...t}));u_.displayName=Hk.displayName;const f_=h.forwardRef(({className:e,...t},n)=>s.jsx(qk,{ref:n,className:K("text-sm opacity-90",e),...t}));f_.displayName=qk.displayName;function lF(){const{toasts:e}=St();return s.jsxs(aF,{children:[e.map(function({id:t,title:n,description:r,action:a,...i}){return s.jsxs(c_,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(u_,{children:n}),r&&s.jsx(f_,{children:r})]}),a,s.jsx(d_,{})]},t)}),s.jsx(l_,{})]})}var cF=B1[" useId ".trim().toString()]||(()=>{}),dF=0;function Tr(e){const[t,n]=h.useState(cF());return Zt(()=>{n(r=>r??String(dF++))},[e]),t?`radix-${t}`:""}const uF=["top","right","bottom","left"],ya=Math.min,Wn=Math.max,Pu=Math.round,Nd=Math.floor,es=e=>({x:e,y:e}),fF={left:"right",right:"left",bottom:"top",top:"bottom"},mF={start:"end",end:"start"};function Ip(e,t,n){return Wn(e,ya(t,n))}function ks(e,t){return typeof e=="function"?e(t):e}function _s(e){return e.split("-")[0]}function Jo(e){return e.split("-")[1]}function Tx(e){return e==="x"?"y":"x"}function Mx(e){return e==="y"?"height":"width"}function wa(e){return["top","bottom"].includes(_s(e))?"y":"x"}function Rx(e){return Tx(wa(e))}function hF(e,t,n){n===void 0&&(n=!1);const r=Jo(e),a=Rx(e),i=Mx(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Eu(o)),[o,Eu(o)]}function pF(e){const t=Eu(e);return[Dp(e),t,Dp(t)]}function Dp(e){return e.replace(/start|end/g,t=>mF[t])}function gF(e,t,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?i:o;default:return[]}}function xF(e,t,n,r){const a=Jo(e);let i=gF(_s(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Dp)))),i}function Eu(e){return e.replace(/left|right|bottom|top/g,t=>fF[t])}function vF(e){return{top:0,right:0,bottom:0,left:0,...e}}function m_(e){return typeof e!="number"?vF(e):{top:e,right:e,bottom:e,left:e}}function Tu(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function _w(e,t,n){let{reference:r,floating:a}=e;const i=wa(t),o=Rx(t),l=Mx(o),c=_s(t),d=i==="y",u=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,m=r[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:r.y-a.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-a.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Jo(t)){case"start":p[o]-=m*(n&&d?-1:1);break;case"end":p[o]+=m*(n&&d?-1:1);break}return p}const yF=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=_w(d,r,c),m=r,p={},y=0;for(let g=0;g<l.length;g++){const{name:w,fn:v}=l[g],{x,y:b,data:N,reset:C}=await v({x:u,y:f,initialPlacement:r,placement:m,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=x??u,f=b??f,p={...p,[w]:{...p[w],...N}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(d=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):C.rects),{x:u,y:f}=_w(d,m,c)),g=-1)}return{x:u,y:f,placement:m,strategy:a,middlewareData:p}};async function lc(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=ks(t,e),y=m_(p),w=l[m?f==="floating"?"reference":"floating":f],v=Tu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),x=f==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},C=Tu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(v.top-C.top+y.top)/N.y,bottom:(C.bottom-v.bottom+y.bottom)/N.y,left:(v.left-C.left+y.left)/N.x,right:(C.right-v.right+y.right)/N.x}}const wF=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=ks(e,t)||{};if(d==null)return{};const f=m_(u),m={x:n,y:r},p=Rx(a),y=Mx(p),g=await o.getDimensions(d),w=p==="y",v=w?"top":"left",x=w?"bottom":"right",b=w?"clientHeight":"clientWidth",N=i.reference[y]+i.reference[p]-m[p]-i.floating[y],C=m[p]-i.reference[p],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=P?P[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(P)))&&(S=l.floating[b]||i.floating[y]);const E=N/2-C/2,O=S/2-g[y]/2-1,j=ya(f[v],O),D=ya(f[x],O),I=j,R=S-g[y]-D,F=S/2-g[y]/2+E,k=Ip(I,F,R),T=!c.arrow&&Jo(a)!=null&&F!==k&&i.reference[y]/2-(F<I?j:D)-g[y]/2<0,B=T?F<I?F-I:F-R:0;return{[p]:m[p]+B,data:{[p]:k,centerOffset:F-k-B,...T&&{alignmentOffset:B}},reset:T}}}),bF=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...w}=ks(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=_s(a),x=wa(l),b=_s(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),C=m||(b||!g?[Eu(l)]:pF(l)),P=y!=="none";!m&&P&&C.push(...xF(l,g,y,N));const S=[l,...C],E=await lc(t,w),O=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&O.push(E[v]),f){const F=hF(a,o,N);O.push(E[F[0]],E[F[1]])}if(j=[...j,{placement:a,overflows:O}],!O.every(F=>F<=0)){var D,I;const F=(((D=i.flip)==null?void 0:D.index)||0)+1,k=S[F];if(k)return{data:{index:F,overflows:j},reset:{placement:k}};let T=(I=j.filter(B=>B.overflows[0]<=0).sort((B,L)=>B.overflows[1]-L.overflows[1])[0])==null?void 0:I.placement;if(!T)switch(p){case"bestFit":{var R;const B=(R=j.filter(L=>{if(P){const _=wa(L.placement);return _===x||_==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(_=>_>0).reduce((_,z)=>_+z,0)]).sort((L,_)=>L[1]-_[1])[0])==null?void 0:R[0];B&&(T=B);break}case"initialPlacement":T=l;break}if(a!==T)return{reset:{placement:T}}}return{}}}};function Pw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ew(e){return uF.some(t=>e[t]>=0)}const jF=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=ks(e,t);switch(r){case"referenceHidden":{const i=await lc(t,{...a,elementContext:"reference"}),o=Pw(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ew(o)}}}case"escaped":{const i=await lc(t,{...a,altBoundary:!0}),o=Pw(i,n.floating);return{data:{escapedOffsets:o,escaped:Ew(o)}}}default:return{}}}}};async function NF(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=_s(n),l=Jo(n),c=wa(n)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=ks(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*u,y:m*d}:{x:m*d,y:p*u}}const SF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await NF(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},CF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:v,y:x}=w;return{x:v,y:x}}},...c}=ks(e,t),d={x:n,y:r},u=await lc(t,c),f=wa(_s(a)),m=Tx(f);let p=d[m],y=d[f];if(i){const w=m==="y"?"top":"left",v=m==="y"?"bottom":"right",x=p+u[w],b=p-u[v];p=Ip(x,p,b)}if(o){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=y+u[w],b=y-u[v];y=Ip(x,y,b)}const g=l.fn({...t,[m]:p,[f]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[m]:i,[f]:o}}}}}},kF=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ks(e,t),u={x:n,y:r},f=wa(a),m=Tx(f);let p=u[m],y=u[f];const g=ks(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=m==="y"?"height":"width",N=i.reference[m]-i.floating[b]+w.mainAxis,C=i.reference[m]+i.reference[b]-w.mainAxis;p<N?p=N:p>C&&(p=C)}if(d){var v,x;const b=m==="y"?"width":"height",N=["top","left"].includes(_s(a)),C=i.reference[f]-i.floating[b]+(N&&((v=o.offset)==null?void 0:v[f])||0)+(N?0:w.crossAxis),P=i.reference[f]+i.reference[b]+(N?0:((x=o.offset)==null?void 0:x[f])||0)-(N?w.crossAxis:0);y<C?y=C:y>P&&(y=P)}return{[m]:p,[f]:y}}}},_F=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=ks(e,t),u=await lc(t,d),f=_s(a),m=Jo(a),p=wa(a)==="y",{width:y,height:g}=i.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,w=m==="end"?"top":"bottom");const x=g-u.top-u.bottom,b=y-u.left-u.right,N=ya(g-u[w],x),C=ya(y-u[v],b),P=!t.middlewareData.shift;let S=N,E=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=x),P&&!m){const j=Wn(u.left,0),D=Wn(u.right,0),I=Wn(u.top,0),R=Wn(u.bottom,0);p?E=y-2*(j!==0||D!==0?j+D:Wn(u.left,u.right)):S=g-2*(I!==0||R!==0?I+R:Wn(u.top,u.bottom))}await c({...t,availableWidth:E,availableHeight:S});const O=await o.getDimensions(l.floating);return y!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function Mf(){return typeof window<"u"}function Xo(e){return h_(e)?(e.nodeName||"").toLowerCase():"#document"}function Zn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function is(e){var t;return(t=(h_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function h_(e){return Mf()?e instanceof Node||e instanceof Zn(e).Node:!1}function Or(e){return Mf()?e instanceof Element||e instanceof Zn(e).Element:!1}function rs(e){return Mf()?e instanceof HTMLElement||e instanceof Zn(e).HTMLElement:!1}function Tw(e){return!Mf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zn(e).ShadowRoot}function $c(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Lr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function PF(e){return["table","td","th"].includes(Xo(e))}function Rf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ax(e){const t=Ix(),n=Or(e)?Lr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function EF(e){let t=ba(e);for(;rs(t)&&!$o(t);){if(Ax(t))return t;if(Rf(t))return null;t=ba(t)}return null}function Ix(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $o(e){return["html","body","#document"].includes(Xo(e))}function Lr(e){return Zn(e).getComputedStyle(e)}function Af(e){return Or(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ba(e){if(Xo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Tw(e)&&e.host||is(e);return Tw(t)?t.host:t}function p_(e){const t=ba(e);return $o(t)?e.ownerDocument?e.ownerDocument.body:e.body:rs(t)&&$c(t)?t:p_(t)}function cc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=p_(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=Zn(a);if(i){const l=Op(o);return t.concat(o,o.visualViewport||[],$c(a)?a:[],l&&n?cc(l):[])}return t.concat(a,cc(a,[],n))}function Op(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function g_(e){const t=Lr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=rs(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=Pu(n)!==i||Pu(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function Dx(e){return Or(e)?e:e.contextElement}function io(e){const t=Dx(e);if(!rs(t))return es(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=g_(t);let o=(i?Pu(n.width):n.width)/r,l=(i?Pu(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const TF=es(0);function x_(e){const t=Zn(e);return!Ix()||!t.visualViewport?TF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function MF(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Zn(e)?!1:t}function mi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=Dx(e);let o=es(1);t&&(r?Or(r)&&(o=io(r)):o=io(e));const l=MF(i,n,r)?x_(i):es(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const m=Zn(i),p=r&&Or(r)?Zn(r):r;let y=m,g=Op(y);for(;g&&r&&p!==y;){const w=io(g),v=g.getBoundingClientRect(),x=Lr(g),b=v.left+(g.clientLeft+parseFloat(x.paddingLeft))*w.x,N=v.top+(g.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,f*=w.y,c+=b,d+=N,y=Zn(g),g=Op(y)}}return Tu({width:u,height:f,x:c,y:d})}function Ox(e,t){const n=Af(e).scrollLeft;return t?t.left+n:mi(is(e)).left+n}function v_(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:Ox(e,r)),i=r.top+t.scrollTop;return{x:a,y:i}}function RF(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=is(r),l=t?Rf(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=es(1);const u=es(0),f=rs(r);if((f||!f&&!i)&&((Xo(r)!=="body"||$c(o))&&(c=Af(r)),rs(r))){const p=mi(r);d=io(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const m=o&&!f&&!i?v_(o,c,!0):es(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:n.y*d.y-c.scrollTop*d.y+u.y+m.y}}function AF(e){return Array.from(e.getClientRects())}function IF(e){const t=is(e),n=Af(e),r=e.ownerDocument.body,a=Wn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Wn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ox(e);const l=-n.scrollTop;return Lr(r).direction==="rtl"&&(o+=Wn(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}function DF(e,t){const n=Zn(e),r=is(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Ix();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function OF(e,t){const n=mi(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=rs(e)?io(e):es(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=r*i.y;return{width:o,height:l,x:c,y:d}}function Mw(e,t,n){let r;if(t==="viewport")r=DF(e,n);else if(t==="document")r=IF(is(e));else if(Or(t))r=OF(t,n);else{const a=x_(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Tu(r)}function y_(e,t){const n=ba(e);return n===t||!Or(n)||$o(n)?!1:Lr(n).position==="fixed"||y_(n,t)}function LF(e,t){const n=t.get(e);if(n)return n;let r=cc(e,[],!1).filter(l=>Or(l)&&Xo(l)!=="body"),a=null;const i=Lr(e).position==="fixed";let o=i?ba(e):e;for(;Or(o)&&!$o(o);){const l=Lr(o),c=Ax(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||$c(o)&&!c&&y_(e,o))?r=r.filter(u=>u!==o):a=l,o=ba(o)}return t.set(e,r),r}function FF(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?Rf(t)?[]:LF(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,u)=>{const f=Mw(t,u,a);return d.top=Wn(f.top,d.top),d.right=ya(f.right,d.right),d.bottom=ya(f.bottom,d.bottom),d.left=Wn(f.left,d.left),d},Mw(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function $F(e){const{width:t,height:n}=g_(e);return{width:t,height:n}}function zF(e,t,n){const r=rs(t),a=is(t),i=n==="fixed",o=mi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=es(0);if(r||!r&&!i)if((Xo(t)!=="body"||$c(a))&&(l=Af(t)),r){const m=mi(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&(c.x=Ox(a));const d=a&&!r&&!i?v_(a,l):es(0),u=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:u,y:f,width:o.width,height:o.height}}function Hm(e){return Lr(e).position==="static"}function Rw(e,t){if(!rs(e)||Lr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return is(e)===n&&(n=n.ownerDocument.body),n}function w_(e,t){const n=Zn(e);if(Rf(e))return n;if(!rs(e)){let a=ba(e);for(;a&&!$o(a);){if(Or(a)&&!Hm(a))return a;a=ba(a)}return n}let r=Rw(e,t);for(;r&&PF(r)&&Hm(r);)r=Rw(r,t);return r&&$o(r)&&Hm(r)&&!Ax(r)?n:r||EF(e)||n}const VF=async function(e){const t=this.getOffsetParent||w_,n=this.getDimensions,r=await n(e.floating);return{reference:zF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function UF(e){return Lr(e).direction==="rtl"}const BF={convertOffsetParentRelativeRectToViewportRelativeRect:RF,getDocumentElement:is,getClippingRect:FF,getOffsetParent:w_,getElementRects:VF,getClientRects:AF,getDimensions:$F,getScale:io,isElement:Or,isRTL:UF};function b_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function HF(e,t){let n=null,r;const a=is(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:m,height:p}=d;if(l||t(),!m||!p)return;const y=Nd(f),g=Nd(a.clientWidth-(u+m)),w=Nd(a.clientHeight-(f+p)),v=Nd(u),b={rootMargin:-y+"px "+-g+"px "+-w+"px "+-v+"px",threshold:Wn(0,ya(1,c))||1};let N=!0;function C(P){const S=P[0].intersectionRatio;if(S!==c){if(!N)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!b_(d,e.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(C,{...b,root:a.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return o(!0),i}function qF(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Dx(e),u=a||i?[...d?cc(d):[],...cc(t)]:[];u.forEach(v=>{a&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=d&&l?HF(d,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(v=>{let[x]=v;x&&x.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),d&&!c&&p.observe(d),p.observe(t));let y,g=c?mi(e):null;c&&w();function w(){const v=mi(e);g&&!b_(g,v)&&n(),g=v,y=requestAnimationFrame(w)}return n(),()=>{var v;u.forEach(x=>{a&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const WF=SF,KF=CF,QF=bF,GF=_F,YF=jF,Aw=wF,ZF=kF,JF=(e,t,n)=>{const r=new Map,a={platform:BF,...n},i={...a.platform,_c:r};return yF(e,t,{...a,platform:i})};var Qd=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Mu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Mu(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!Mu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function j_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Iw(e,t){const n=j_(e);return Math.round(t*n)/n}function qm(e){const t=h.useRef(e);return Qd(()=>{t.current=e}),t}function XF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(r);Mu(m,r)||p(r);const[y,g]=h.useState(null),[w,v]=h.useState(null),x=h.useCallback(L=>{L!==P.current&&(P.current=L,g(L))},[]),b=h.useCallback(L=>{L!==S.current&&(S.current=L,v(L))},[]),N=i||y,C=o||w,P=h.useRef(null),S=h.useRef(null),E=h.useRef(u),O=c!=null,j=qm(c),D=qm(a),I=qm(d),R=h.useCallback(()=>{if(!P.current||!S.current)return;const L={placement:t,strategy:n,middleware:m};D.current&&(L.platform=D.current),JF(P.current,S.current,L).then(_=>{const z={..._,isPositioned:I.current!==!1};F.current&&!Mu(E.current,z)&&(E.current=z,Ta.flushSync(()=>{f(z)}))})},[m,t,n,D,I]);Qd(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[d]);const F=h.useRef(!1);Qd(()=>(F.current=!0,()=>{F.current=!1}),[]),Qd(()=>{if(N&&(P.current=N),C&&(S.current=C),N&&C){if(j.current)return j.current(N,C,R);R()}},[N,C,R,j,O]);const k=h.useMemo(()=>({reference:P,floating:S,setReference:x,setFloating:b}),[x,b]),T=h.useMemo(()=>({reference:N,floating:C}),[N,C]),B=h.useMemo(()=>{const L={position:n,left:0,top:0};if(!T.floating)return L;const _=Iw(T.floating,u.x),z=Iw(T.floating,u.y);return l?{...L,transform:"translate("+_+"px, "+z+"px)",...j_(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:_,top:z}},[n,l,T.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:R,refs:k,elements:T,floatingStyles:B}),[u,R,k,T,B])}const e$=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Aw({element:r.current,padding:a}).fn(n):{}:r?Aw({element:r,padding:a}).fn(n):{}}}},t$=(e,t)=>({...WF(e),options:[e,t]}),n$=(e,t)=>({...KF(e),options:[e,t]}),r$=(e,t)=>({...ZF(e),options:[e,t]}),s$=(e,t)=>({...QF(e),options:[e,t]}),a$=(e,t)=>({...GF(e),options:[e,t]}),i$=(e,t)=>({...YF(e),options:[e,t]}),o$=(e,t)=>({...e$(e),options:[e,t]});var l$="Arrow",N_=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(Ne.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});N_.displayName=l$;var c$=N_;function If(e){const[t,n]=h.useState(void 0);return Zt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Lx="Popper",[S_,el]=fn(Lx),[d$,C_]=S_(Lx),k_=e=>{const{__scopePopper:t,children:n}=e,[r,a]=h.useState(null);return s.jsx(d$,{scope:t,anchor:r,onAnchorChange:a,children:n})};k_.displayName=Lx;var __="PopperAnchor",P_=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=C_(__,n),o=h.useRef(null),l=Je(t,o);return h.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(Ne.div,{...a,ref:l})});P_.displayName=__;var Fx="PopperContent",[u$,f$]=S_(Fx),E_=h.forwardRef((e,t)=>{var de,_e,He,Te,W,Q;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:y,...g}=e,w=C_(Fx,n),[v,x]=h.useState(null),b=Je(t,le=>x(le)),[N,C]=h.useState(null),P=If(N),S=(P==null?void 0:P.width)??0,E=(P==null?void 0:P.height)??0,O=r+(i!=="center"?"-"+i:""),j=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(d)?d:[d],I=D.length>0,R={padding:j,boundary:D.filter(h$),altBoundary:I},{refs:F,floatingStyles:k,placement:T,isPositioned:B,middlewareData:L}=XF({strategy:"fixed",placement:O,whileElementsMounted:(...le)=>qF(...le,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[t$({mainAxis:a+E,alignmentAxis:o}),c&&n$({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?r$():void 0,...R}),c&&s$({...R}),a$({...R,apply:({elements:le,rects:te,availableWidth:ve,availableHeight:qe})=>{const{width:q,height:it}=te.reference,Ct=le.floating.style;Ct.setProperty("--radix-popper-available-width",`${ve}px`),Ct.setProperty("--radix-popper-available-height",`${qe}px`),Ct.setProperty("--radix-popper-anchor-width",`${q}px`),Ct.setProperty("--radix-popper-anchor-height",`${it}px`)}}),N&&o$({element:N,padding:l}),p$({arrowWidth:S,arrowHeight:E}),m&&i$({strategy:"referenceHidden",...R})]}),[_,z]=R_(T),Y=un(y);Zt(()=>{B&&(Y==null||Y())},[B,Y]);const ae=(de=L.arrow)==null?void 0:de.x,Me=(_e=L.arrow)==null?void 0:_e.y,Ce=((He=L.arrow)==null?void 0:He.centerOffset)!==0,[Ke,De]=h.useState();return Zt(()=>{v&&De(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:B?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ke,"--radix-popper-transform-origin":[(Te=L.transformOrigin)==null?void 0:Te.x,(W=L.transformOrigin)==null?void 0:W.y].join(" "),...((Q=L.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(u$,{scope:n,placedSide:_,onArrowChange:C,arrowX:ae,arrowY:Me,shouldHideArrow:Ce,children:s.jsx(Ne.div,{"data-side":_,"data-align":z,...g,ref:b,style:{...g.style,animation:B?void 0:"none"}})})})});E_.displayName=Fx;var T_="PopperArrow",m$={top:"bottom",right:"left",bottom:"top",left:"right"},M_=h.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=f$(T_,r),o=m$[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(c$,{...a,ref:n,style:{...a.style,display:"block"}})})});M_.displayName=T_;function h$(e){return e!==null}var p$=e=>({name:"transformOrigin",options:e,fn(t){var w,v,x;const{placement:n,rects:r,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=R_(n),f={start:"0%",center:"50%",end:"100%"}[u],m=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,p=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let y="",g="";return d==="bottom"?(y=o?f:`${m}px`,g=`${-c}px`):d==="top"?(y=o?f:`${m}px`,g=`${r.floating.height+c}px`):d==="right"?(y=`${-c}px`,g=o?f:`${p}px`):d==="left"&&(y=`${r.floating.width+c}px`,g=o?f:`${p}px`),{data:{x:y,y:g}}}});function R_(e){const[t,n="center"]=e.split("-");return[t,n]}var $x=k_,zx=P_,Vx=E_,Ux=M_,[Df,wH]=fn("Tooltip",[el]),Of=el(),A_="TooltipProvider",g$=700,Lp="tooltip.open",[x$,Bx]=Df(A_),I_=e=>{const{__scopeTooltip:t,delayDuration:n=g$,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,o=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(x$,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};I_.displayName=A_;var Lf="Tooltip",[v$,Ff]=Df(Lf),D_=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=Bx(Lf,e.__scopeTooltip),d=Of(t),[u,f]=h.useState(null),m=Tr(),p=h.useRef(0),y=o??c.disableHoverableContent,g=l??c.delayDuration,w=h.useRef(!1),[v=!1,x]=Dr({prop:r,defaultProp:a,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(Lp))):c.onClose(),i==null||i(S)}}),b=h.useMemo(()=>v?w.current?"delayed-open":"instant-open":"closed",[v]),N=h.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,x(!0)},[x]),C=h.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),P=h.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,x(!0),p.current=0},g)},[g,x]);return h.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx($x,{...d,children:s.jsx(v$,{scope:t,contentId:m,open:v,stateAttribute:b,trigger:u,onTriggerChange:f,onTriggerEnter:h.useCallback(()=>{c.isOpenDelayedRef.current?P():N()},[c.isOpenDelayedRef,P,N]),onTriggerLeave:h.useCallback(()=>{y?C():(window.clearTimeout(p.current),p.current=0)},[C,y]),onOpen:N,onClose:C,disableHoverableContent:y,children:n})})};D_.displayName=Lf;var Fp="TooltipTrigger",O_=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Ff(Fp,n),i=Bx(Fp,n),o=Of(n),l=h.useRef(null),c=Je(t,l,a.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),f=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(zx,{asChild:!0,...o,children:s.jsx(Ne.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:se(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:se(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:se(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:se(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:se(e.onBlur,a.onClose),onClick:se(e.onClick,a.onClose)})})});O_.displayName=Fp;var y$="TooltipPortal",[bH,w$]=Df(y$,{forceMount:void 0}),zo="TooltipContent",L_=h.forwardRef((e,t)=>{const n=w$(zo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,o=Ff(zo,e.__scopeTooltip);return s.jsx(nr,{present:r||o.open,children:o.disableHoverableContent?s.jsx(F_,{side:a,...i,ref:t}):s.jsx(b$,{side:a,...i,ref:t})})}),b$=h.forwardRef((e,t)=>{const n=Ff(zo,e.__scopeTooltip),r=Bx(zo,e.__scopeTooltip),a=h.useRef(null),i=Je(t,a),[o,l]=h.useState(null),{trigger:c,onClose:d}=n,u=a.current,{onPointerInTransitChange:f}=r,m=h.useCallback(()=>{l(null),f(!1)},[f]),p=h.useCallback((y,g)=>{const w=y.currentTarget,v={x:y.clientX,y:y.clientY},x=k$(v,w.getBoundingClientRect()),b=_$(v,x),N=P$(g.getBoundingClientRect()),C=T$([...b,...N]);l(C),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&u){const y=w=>p(w,u),g=w=>p(w,c);return c.addEventListener("pointerleave",y),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",g)}}},[c,u,p,m]),h.useEffect(()=>{if(o){const y=g=>{const w=g.target,v={x:g.clientX,y:g.clientY},x=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),b=!E$(v,o);x?m():b&&(m(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,u,o,d,m]),s.jsx(F_,{...e,ref:i})}),[j$,N$]=Df(Lf,{isInside:!1}),S$=Ck("TooltipContent"),F_=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Ff(zo,n),d=Of(n),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(Lp,u),()=>document.removeEventListener(Lp,u)),[u]),h.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),s.jsx(Go,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:s.jsxs(Vx,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(S$,{children:r}),s.jsx(j$,{scope:n,isInside:!0,children:s.jsx(Q4,{id:c.contentId,role:"tooltip",children:a||r})})]})})});L_.displayName=zo;var $_="TooltipArrow",C$=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Of(n);return N$($_,n).isInside?null:s.jsx(Ux,{...a,...r,ref:t})});C$.displayName=$_;function k$(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function _$(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function P$(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function E$(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(a=!a)}return a}function T$(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),M$(t)}function M$(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var R$=I_,A$=D_,I$=O_,z_=L_;const V_=R$,Pi=A$,Ei=I$,Oa=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(z_,{ref:r,sideOffset:t,className:K("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));Oa.displayName=z_.displayName;const U_=h.createContext(void 0);function D$({children:e,defaultTheme:t="light"}){const[n,r]=h.useState(()=>localStorage.getItem("theme")||t);return h.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(n),localStorage.setItem("theme",n)},[n]),s.jsx(U_.Provider,{value:{theme:n,setTheme:r},children:e})}const B_=()=>{const e=h.useContext(U_);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Hx=Yo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),U=h.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const o=r?gx:"button";return s.jsx(o,{className:K(Hx({variant:t,size:n,className:e})),ref:i,...a})});U.displayName="Button";function H_(){const{theme:e,setTheme:t}=B_();return s.jsxs(U,{variant:"ghost",size:"icon",onClick:()=>t(e==="light"?"dark":"light"),"data-testid":"button-theme-toggle",children:[e==="light"?s.jsx(jL,{className:"h-5 w-5"}):s.jsx(SL,{className:"h-5 w-5"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}var Wm="focusScope.autoFocusOnMount",Km="focusScope.autoFocusOnUnmount",Dw={bubbles:!1,cancelable:!0},O$="FocusScope",$f=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=h.useState(null),d=un(a),u=un(i),f=h.useRef(null),m=Je(t,g=>c(g)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let g=function(b){if(p.paused||!l)return;const N=b.target;l.contains(N)?f.current=N:$s(f.current,{select:!0})},w=function(b){if(p.paused||!l)return;const N=b.relatedTarget;N!==null&&(l.contains(N)||$s(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&$s(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const x=new MutationObserver(v);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),x.disconnect()}}},[r,l,p.paused]),h.useEffect(()=>{if(l){Lw.add(p);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(Wm,Dw);l.addEventListener(Wm,d),l.dispatchEvent(v),v.defaultPrevented||(L$(U$(q_(l)),{select:!0}),document.activeElement===g&&$s(l))}return()=>{l.removeEventListener(Wm,d),setTimeout(()=>{const v=new CustomEvent(Km,Dw);l.addEventListener(Km,u),l.dispatchEvent(v),v.defaultPrevented||$s(g??document.body,{select:!0}),l.removeEventListener(Km,u),Lw.remove(p)},0)}}},[l,d,u,p]);const y=h.useCallback(g=>{if(!n&&!r||p.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(w&&v){const x=g.currentTarget,[b,N]=F$(x);b&&N?!g.shiftKey&&v===N?(g.preventDefault(),n&&$s(b,{select:!0})):g.shiftKey&&v===b&&(g.preventDefault(),n&&$s(N,{select:!0})):v===x&&g.preventDefault()}},[n,r,p.paused]);return s.jsx(Ne.div,{tabIndex:-1,...o,ref:m,onKeyDown:y})});$f.displayName=O$;function L$(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if($s(r,{select:t}),document.activeElement!==n)return}function F$(e){const t=q_(e),n=Ow(t,e),r=Ow(t.reverse(),e);return[n,r]}function q_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ow(e,t){for(const n of e)if(!$$(n,{upTo:t}))return n}function $$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function z$(e){return e instanceof HTMLInputElement&&"select"in e}function $s(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&z$(e)&&t&&e.select()}}var Lw=V$();function V$(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Fw(e,t),e.unshift(t)},remove(t){var n;e=Fw(e,t),(n=e[0])==null||n.resume()}}}function Fw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function U$(e){return e.filter(t=>t.tagName!=="A")}var Qm=0;function qx(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$w()),document.body.insertAdjacentElement("beforeend",e[1]??$w()),Qm++,()=>{Qm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Qm--}},[])}function $w(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Gr=function(){return Gr=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gr.apply(this,arguments)};function W_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function B$(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Gd="right-scroll-bar-position",Yd="width-before-scroll-bar",H$="with-scroll-bars-hidden",q$="--removed-body-scroll-bar-size";function Gm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function W$(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var K$=typeof window<"u"?h.useLayoutEffect:h.useEffect,zw=new WeakMap;function Q$(e,t){var n=W$(null,function(r){return e.forEach(function(a){return Gm(a,r)})});return K$(function(){var r=zw.get(n);if(r){var a=new Set(r),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||Gm(l,null)}),i.forEach(function(l){a.has(l)||Gm(l,o)})}zw.set(n,e)},[e]),n}function G$(e){return e}function Y$(e,t){t===void 0&&(t=G$);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return a}function Z$(e){e===void 0&&(e={});var t=Y$(null);return t.options=Gr({async:!0,ssr:!1},e),t}var K_=function(e){var t=e.sideCar,n=W_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Gr({},n))};K_.isSideCarExport=!0;function J$(e,t){return e.useMedium(t),K_}var Q_=Z$(),Ym=function(){},zf=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:Ym,onWheelCapture:Ym,onTouchMoveCapture:Ym}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,p=e.noIsolation,y=e.inert,g=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,x=e.gapMode,b=W_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,C=Q$([n,t]),P=Gr(Gr({},b),a);return h.createElement(h.Fragment,null,u&&h.createElement(N,{sideCar:Q_,removeScrollBar:d,shards:f,noIsolation:p,inert:y,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:x}),o?h.cloneElement(h.Children.only(l),Gr(Gr({},P),{ref:C})):h.createElement(v,Gr({},P,{className:c,ref:C}),l))});zf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zf.classNames={fullWidth:Yd,zeroRight:Gd};var X$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function e3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=X$();return t&&e.setAttribute("nonce",t),e}function t3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function n3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var r3=function(){var e=0,t=null;return{add:function(n){e==0&&(t=e3())&&(t3(t,n),n3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},s3=function(){var e=r3();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},G_=function(){var e=s3(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},a3={left:0,top:0,right:0,gap:0},Zm=function(e){return parseInt(e||"",10)||0},i3=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Zm(n),Zm(r),Zm(a)]},o3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return a3;var t=i3(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},l3=G_(),oo="data-scroll-locked",c3=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(H$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(oo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gd,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Yd,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Gd," .").concat(Gd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yd," .").concat(Yd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(oo,`] {
    `).concat(q$,": ").concat(l,`px;
  }
`)},Vw=function(){var e=parseInt(document.body.getAttribute(oo)||"0",10);return isFinite(e)?e:0},d3=function(){h.useEffect(function(){return document.body.setAttribute(oo,(Vw()+1).toString()),function(){var e=Vw()-1;e<=0?document.body.removeAttribute(oo):document.body.setAttribute(oo,e.toString())}},[])},u3=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;d3();var i=h.useMemo(function(){return o3(a)},[a]);return h.createElement(l3,{styles:c3(i,!t,a,n?"":"!important")})},$p=!1;if(typeof window<"u")try{var Sd=Object.defineProperty({},"passive",{get:function(){return $p=!0,!0}});window.addEventListener("test",Sd,Sd),window.removeEventListener("test",Sd,Sd)}catch{$p=!1}var Ti=$p?{passive:!1}:!1,f3=function(e){return e.tagName==="TEXTAREA"},Y_=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!f3(e)&&n[t]==="visible")},m3=function(e){return Y_(e,"overflowY")},h3=function(e){return Y_(e,"overflowX")},Uw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=Z_(e,r);if(a){var i=J_(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},p3=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},g3=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Z_=function(e,t){return e==="v"?m3(t):h3(t)},J_=function(e,t){return e==="v"?p3(t):g3(t)},x3=function(e,t){return e==="h"&&t==="rtl"?-1:1},v3=function(e,t,n,r,a){var i=x3(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{var p=J_(e,l),y=p[0],g=p[1],w=p[2],v=g-w-i*y;(y||v)&&Z_(e,l)&&(f+=v,m+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(d=!0),d},Cd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Bw=function(e){return[e.deltaX,e.deltaY]},Hw=function(e){return e&&"current"in e?e.current:e},y3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},w3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},b3=0,Mi=[];function j3(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),a=h.useState(b3++)[0],i=h.useState(G_)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=B$([e.lockRef.current],(e.shards||[]).map(Hw),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=Cd(g),x=n.current,b="deltaX"in g?g.deltaX:x[0]-v[0],N="deltaY"in g?g.deltaY:x[1]-v[1],C,P=g.target,S=Math.abs(b)>Math.abs(N)?"h":"v";if("touches"in g&&S==="h"&&P.type==="range")return!1;var E=Uw(S,P);if(!E)return!0;if(E?C=S:(C=S==="v"?"h":"v",E=Uw(S,P)),!E)return!1;if(!r.current&&"changedTouches"in g&&(b||N)&&(r.current=C),!C)return!0;var O=r.current||C;return v3(O,w,g,O==="h"?b:N,!0)},[]),c=h.useCallback(function(g){var w=g;if(!(!Mi.length||Mi[Mi.length-1]!==i)){var v="deltaY"in w?Bw(w):Cd(w),x=t.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&y3(C.delta,v)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(Hw).filter(Boolean).filter(function(C){return C.contains(w.target)}),N=b.length>0?l(w,b[0]):!o.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),d=h.useCallback(function(g,w,v,x){var b={name:g,delta:w,target:v,should:x,shadowParent:N3(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(N){return N!==b})},1)},[]),u=h.useCallback(function(g){n.current=Cd(g),r.current=void 0},[]),f=h.useCallback(function(g){d(g.type,Bw(g),g.target,l(g,e.lockRef.current))},[]),m=h.useCallback(function(g){d(g.type,Cd(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return Mi.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ti),document.addEventListener("touchmove",c,Ti),document.addEventListener("touchstart",u,Ti),function(){Mi=Mi.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Ti),document.removeEventListener("touchmove",c,Ti),document.removeEventListener("touchstart",u,Ti)}},[]);var p=e.removeScrollBar,y=e.inert;return h.createElement(h.Fragment,null,y?h.createElement(i,{styles:w3(a)}):null,p?h.createElement(u3,{gapMode:e.gapMode}):null)}function N3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const S3=J$(Q_,j3);var Vf=h.forwardRef(function(e,t){return h.createElement(zf,Gr({},e,{ref:t,sideCar:S3}))});Vf.classNames=zf.classNames;var C3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ri=new WeakMap,kd=new WeakMap,_d={},Jm=0,X_=function(e){return e&&(e.host||X_(e.parentNode))},k3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=X_(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},_3=function(e,t,n,r){var a=k3(t,Array.isArray(e)?e:[e]);_d[n]||(_d[n]=new WeakMap);var i=_d[n],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var p=m.getAttribute(r),y=p!==null&&p!=="false",g=(Ri.get(m)||0)+1,w=(i.get(m)||0)+1;Ri.set(m,g),i.set(m,w),o.push(m),g===1&&y&&kd.set(m,!0),w===1&&m.setAttribute(n,"true"),y||m.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return u(t),l.clear(),Jm++,function(){o.forEach(function(f){var m=Ri.get(f)-1,p=i.get(f)-1;Ri.set(f,m),i.set(f,p),m||(kd.has(f)||f.removeAttribute(r),kd.delete(f)),p||f.removeAttribute(n)}),Jm--,Jm||(Ri=new WeakMap,Ri=new WeakMap,kd=new WeakMap,_d={})}},Wx=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=C3(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),_3(r,a,n,"aria-hidden")):function(){return null}},Kx="Dialog",[e2,t2]=fn(Kx),[P3,$r]=e2(Kx),n2=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=h.useRef(null),c=h.useRef(null),[d=!1,u]=Dr({prop:r,defaultProp:a,onChange:i});return s.jsx(P3,{scope:t,triggerRef:l,contentRef:c,contentId:Tr(),titleId:Tr(),descriptionId:Tr(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};n2.displayName=Kx;var r2="DialogTrigger",s2=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=$r(r2,n),i=Je(t,a.triggerRef);return s.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Yx(a.open),...r,ref:i,onClick:se(e.onClick,a.onOpenToggle)})});s2.displayName=r2;var Qx="DialogPortal",[E3,a2]=e2(Qx,{forceMount:void 0}),i2=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=$r(Qx,t);return s.jsx(E3,{scope:t,forceMount:n,children:h.Children.map(r,o=>s.jsx(nr,{present:n||i.open,children:s.jsx(Lc,{asChild:!0,container:a,children:o})}))})};i2.displayName=Qx;var Ru="DialogOverlay",o2=h.forwardRef((e,t)=>{const n=a2(Ru,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=$r(Ru,e.__scopeDialog);return i.modal?s.jsx(nr,{present:r||i.open,children:s.jsx(M3,{...a,ref:t})}):null});o2.displayName=Ru;var T3=di("DialogOverlay.RemoveScroll"),M3=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=$r(Ru,n);return s.jsx(Vf,{as:T3,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ne.div,{"data-state":Yx(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),hi="DialogContent",l2=h.forwardRef((e,t)=>{const n=a2(hi,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=$r(hi,e.__scopeDialog);return s.jsx(nr,{present:r||i.open,children:i.modal?s.jsx(R3,{...a,ref:t}):s.jsx(A3,{...a,ref:t})})});l2.displayName=hi;var R3=h.forwardRef((e,t)=>{const n=$r(hi,e.__scopeDialog),r=h.useRef(null),a=Je(t,n.contentRef,r);return h.useEffect(()=>{const i=r.current;if(i)return Wx(i)},[]),s.jsx(c2,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:se(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:se(e.onFocusOutside,i=>i.preventDefault())})}),A3=h.forwardRef((e,t)=>{const n=$r(hi,e.__scopeDialog),r=h.useRef(!1),a=h.useRef(!1);return s.jsx(c2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),c2=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=$r(hi,n),c=h.useRef(null),d=Je(t,c);return qx(),s.jsxs(s.Fragment,{children:[s.jsx($f,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Go,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Yx(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(D3,{titleId:l.titleId}),s.jsx(L3,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Gx="DialogTitle",d2=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=$r(Gx,n);return s.jsx(Ne.h2,{id:a.titleId,...r,ref:t})});d2.displayName=Gx;var u2="DialogDescription",f2=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=$r(u2,n);return s.jsx(Ne.p,{id:a.descriptionId,...r,ref:t})});f2.displayName=u2;var m2="DialogClose",h2=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=$r(m2,n);return s.jsx(Ne.button,{type:"button",...r,ref:t,onClick:se(e.onClick,()=>a.onOpenChange(!1))})});h2.displayName=m2;function Yx(e){return e?"open":"closed"}var p2="DialogTitleWarning",[I3,g2]=k4(p2,{contentName:hi,titleName:Gx,docsSlug:"dialog"}),D3=({titleId:e})=>{const t=g2(p2),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},O3="DialogDescriptionWarning",L3=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${g2(O3).contentName}}.`;return h.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Zx=n2,Jx=s2,Xx=i2,zc=o2,Vc=l2,Uc=d2,Bc=f2,Uf=h2;const on=Zx,ei=Jx,F3=Xx,x2=h.forwardRef(({className:e,...t},n)=>s.jsx(zc,{ref:n,className:K("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));x2.displayName=zc.displayName;const en=h.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(F3,{children:[s.jsx(x2,{}),s.jsxs(Vc,{ref:r,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(Uf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Xr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));en.displayName=Vc.displayName;const yn=({className:e,...t})=>s.jsx("div",{className:K("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});yn.displayName="DialogHeader";const Un=({className:e,...t})=>s.jsx("div",{className:K("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Un.displayName="DialogFooter";const wn=h.forwardRef(({className:e,...t},n)=>s.jsx(Uc,{ref:n,className:K("text-lg font-semibold leading-none tracking-tight",e),...t}));wn.displayName=Uc.displayName;const Pn=h.forwardRef(({className:e,...t},n)=>s.jsx(Bc,{ref:n,className:K("text-sm text-muted-foreground",e),...t}));Pn.displayName=Bc.displayName;const Ps=h.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:K("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Ps.displayName="Textarea";function qw({trigger:e}){const[t,n]=h.useState(!1),[r,a]=h.useState(""),{toast:i}=St(),o=tt({mutationFn:async c=>await rt("POST","/api/feedback",{message:c}),onSuccess:()=>{i({title:"Feedback submitted",description:"Thank you for your suggestion! We'll review it soon."}),a(""),n(!1)},onError:c=>{i({title:"Failed to submit feedback",description:c.message||"Please try again",variant:"destructive"})}}),l=()=>{if(!r.trim()){i({title:"Message required",description:"Please enter your feedback before submitting",variant:"destructive"});return}o.mutate(r)};return s.jsxs(on,{open:t,onOpenChange:n,children:[s.jsx(ei,{asChild:!0,children:e||s.jsxs(U,{variant:"outline",size:"sm","data-testid":"button-feedback",children:[s.jsx(Tp,{className:"h-4 w-4 mr-2"}),"Feedback"]})}),s.jsxs(en,{className:"sm:max-w-[500px]","data-testid":"dialog-feedback",children:[s.jsxs(yn,{children:[s.jsx(wn,{children:"Send Feedback"}),s.jsx(Pn,{children:"Share your suggestions for improvement. We appreciate your input!"})]}),s.jsx("div",{className:"py-4",children:s.jsx(Ps,{placeholder:"Tell us how we can improve HeyTeam...",value:r,onChange:c=>a(c.target.value),className:"min-h-[150px]","data-testid":"input-feedback-message"})}),s.jsxs(Un,{children:[s.jsx(U,{variant:"outline",onClick:()=>n(!1),"data-testid":"button-cancel-feedback",children:"Cancel"}),s.jsx(U,{onClick:l,disabled:o.isPending,"data-testid":"button-submit-feedback",children:o.isPending?"Submitting...":"Submit Feedback"})]})]})]})}const Ua="/assets/heyteam%201_1760877824955-CH6ou4MV.png",ev=Zx,v2=Jx,$3=Xx,y2=h.forwardRef(({className:e,...t},n)=>s.jsx(zc,{className:K("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));y2.displayName=zc.displayName;const z3=Yo("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Bf=h.forwardRef(({side:e="right",className:t,children:n,...r},a)=>s.jsxs($3,{children:[s.jsx(y2,{}),s.jsxs(Vc,{ref:a,className:K(z3({side:e}),t),...r,children:[n,s.jsxs(Uf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Xr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Bf.displayName=Vc.displayName;const Hf=({className:e,...t})=>s.jsx("div",{className:K("flex flex-col space-y-2 text-center sm:text-left",e),...t});Hf.displayName="SheetHeader";const qf=h.forwardRef(({className:e,...t},n)=>s.jsx(Uc,{ref:n,className:K("text-lg font-semibold text-foreground",e),...t}));qf.displayName=Uc.displayName;const V3=h.forwardRef(({className:e,...t},n)=>s.jsx(Bc,{ref:n,className:K("text-sm text-muted-foreground",e),...t}));V3.displayName=Bc.displayName;var U3=h.createContext(void 0);function Hc(e){const t=h.useContext(U3);return e||t||"ltr"}var Xm="rovingFocusGroup.onEntryFocus",B3={bubbles:!1,cancelable:!0},Wf="RovingFocusGroup",[zp,w2,H3]=kf(Wf),[q3,tl]=fn(Wf,[H3]),[W3,K3]=q3(Wf),b2=h.forwardRef((e,t)=>s.jsx(zp.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(zp.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Q3,{...e,ref:t})})}));b2.displayName=Wf;var Q3=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,m=h.useRef(null),p=Je(t,m),y=Hc(i),[g=null,w]=Dr({prop:o,defaultProp:l,onChange:c}),[v,x]=h.useState(!1),b=un(d),N=w2(n),C=h.useRef(!1),[P,S]=h.useState(0);return h.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(Xm,b),()=>E.removeEventListener(Xm,b)},[b]),s.jsx(W3,{scope:n,orientation:r,dir:y,loop:a,currentTabStopId:g,onItemFocus:h.useCallback(E=>w(E),[w]),onItemShiftTab:h.useCallback(()=>x(!0),[]),onFocusableItemAdd:h.useCallback(()=>S(E=>E+1),[]),onFocusableItemRemove:h.useCallback(()=>S(E=>E-1),[]),children:s.jsx(Ne.div,{tabIndex:v||P===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:se(e.onMouseDown,()=>{C.current=!0}),onFocus:se(e.onFocus,E=>{const O=!C.current;if(E.target===E.currentTarget&&O&&!v){const j=new CustomEvent(Xm,B3);if(E.currentTarget.dispatchEvent(j),!j.defaultPrevented){const D=N().filter(T=>T.focusable),I=D.find(T=>T.active),R=D.find(T=>T.id===g),k=[I,R,...D].filter(Boolean).map(T=>T.ref.current);S2(k,u)}}C.current=!1}),onBlur:se(e.onBlur,()=>x(!1))})})}),j2="RovingFocusGroupItem",N2=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,...o}=e,l=Tr(),c=i||l,d=K3(j2,n),u=d.currentTabStopId===c,f=w2(n),{onFocusableItemAdd:m,onFocusableItemRemove:p}=d;return h.useEffect(()=>{if(r)return m(),()=>p()},[r,m,p]),s.jsx(zp.ItemSlot,{scope:n,id:c,focusable:r,active:a,children:s.jsx(Ne.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:se(e.onMouseDown,y=>{r?d.onItemFocus(c):y.preventDefault()}),onFocus:se(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:se(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=Z3(y,d.orientation,d.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let v=f().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const x=v.indexOf(y.currentTarget);v=d.loop?J3(v,x+1):v.slice(x+1)}setTimeout(()=>S2(v))}})})})});N2.displayName=j2;var G3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Y3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Z3(e,t,n){const r=Y3(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return G3[r]}function S2(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function J3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var tv=b2,nv=N2,Vp=["Enter"," "],X3=["ArrowDown","PageUp","Home"],C2=["ArrowUp","PageDown","End"],e5=[...X3,...C2],t5={ltr:[...Vp,"ArrowRight"],rtl:[...Vp,"ArrowLeft"]},n5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qc="Menu",[dc,r5,s5]=kf(qc),[Ci,k2]=fn(qc,[s5,el,tl]),Kf=el(),_2=tl(),[a5,ki]=Ci(qc),[i5,Wc]=Ci(qc),P2=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=Kf(t),[c,d]=h.useState(null),u=h.useRef(!1),f=un(i),m=Hc(a);return h.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),s.jsx($x,{...l,children:s.jsx(a5,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:d,children:s.jsx(i5,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:m,modal:o,children:r})})})};P2.displayName=qc;var o5="MenuAnchor",rv=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Kf(n);return s.jsx(zx,{...a,...r,ref:t})});rv.displayName=o5;var sv="MenuPortal",[l5,E2]=Ci(sv,{forceMount:void 0}),T2=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,i=ki(sv,t);return s.jsx(l5,{scope:t,forceMount:n,children:s.jsx(nr,{present:n||i.open,children:s.jsx(Lc,{asChild:!0,container:a,children:r})})})};T2.displayName=sv;var hr="MenuContent",[c5,av]=Ci(hr),M2=h.forwardRef((e,t)=>{const n=E2(hr,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=ki(hr,e.__scopeMenu),o=Wc(hr,e.__scopeMenu);return s.jsx(dc.Provider,{scope:e.__scopeMenu,children:s.jsx(nr,{present:r||i.open,children:s.jsx(dc.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(d5,{...a,ref:t}):s.jsx(u5,{...a,ref:t})})})})}),d5=h.forwardRef((e,t)=>{const n=ki(hr,e.__scopeMenu),r=h.useRef(null),a=Je(t,r);return h.useEffect(()=>{const i=r.current;if(i)return Wx(i)},[]),s.jsx(iv,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),u5=h.forwardRef((e,t)=>{const n=ki(hr,e.__scopeMenu);return s.jsx(iv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),f5=di("MenuContent.ScrollLock"),iv=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:y,...g}=e,w=ki(hr,n),v=Wc(hr,n),x=Kf(n),b=_2(n),N=r5(n),[C,P]=h.useState(null),S=h.useRef(null),E=Je(t,S,w.onContentChange),O=h.useRef(0),j=h.useRef(""),D=h.useRef(0),I=h.useRef(null),R=h.useRef("right"),F=h.useRef(0),k=y?Vf:h.Fragment,T=y?{as:f5,allowPinchZoom:!0}:void 0,B=_=>{var de,_e;const z=j.current+_,Y=N().filter(He=>!He.disabled),ae=document.activeElement,Me=(de=Y.find(He=>He.ref.current===ae))==null?void 0:de.textValue,Ce=Y.map(He=>He.textValue),Ke=S5(Ce,z,Me),De=(_e=Y.find(He=>He.textValue===Ke))==null?void 0:_e.ref.current;(function He(Te){j.current=Te,window.clearTimeout(O.current),Te!==""&&(O.current=window.setTimeout(()=>He(""),1e3))})(z),De&&setTimeout(()=>De.focus())};h.useEffect(()=>()=>window.clearTimeout(O.current),[]),qx();const L=h.useCallback(_=>{var Y,ae;return R.current===((Y=I.current)==null?void 0:Y.side)&&k5(_,(ae=I.current)==null?void 0:ae.area)},[]);return s.jsx(c5,{scope:n,searchRef:j,onItemEnter:h.useCallback(_=>{L(_)&&_.preventDefault()},[L]),onItemLeave:h.useCallback(_=>{var z;L(_)||((z=S.current)==null||z.focus(),P(null))},[L]),onTriggerLeave:h.useCallback(_=>{L(_)&&_.preventDefault()},[L]),pointerGraceTimerRef:D,onPointerGraceIntentChange:h.useCallback(_=>{I.current=_},[]),children:s.jsx(k,{...T,children:s.jsx($f,{asChild:!0,trapped:a,onMountAutoFocus:se(i,_=>{var z;_.preventDefault(),(z=S.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Go,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:s.jsx(tv,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:P,onEntryFocus:se(c,_=>{v.isUsingKeyboardRef.current||_.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Vx,{role:"menu","aria-orientation":"vertical","data-state":K2(w.open),"data-radix-menu-content":"",dir:v.dir,...x,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:se(g.onKeyDown,_=>{const Y=_.target.closest("[data-radix-menu-content]")===_.currentTarget,ae=_.ctrlKey||_.altKey||_.metaKey,Me=_.key.length===1;Y&&(_.key==="Tab"&&_.preventDefault(),!ae&&Me&&B(_.key));const Ce=S.current;if(_.target!==Ce||!e5.includes(_.key))return;_.preventDefault();const De=N().filter(de=>!de.disabled).map(de=>de.ref.current);C2.includes(_.key)&&De.reverse(),j5(De)}),onBlur:se(e.onBlur,_=>{_.currentTarget.contains(_.target)||(window.clearTimeout(O.current),j.current="")}),onPointerMove:se(e.onPointerMove,uc(_=>{const z=_.target,Y=F.current!==_.clientX;if(_.currentTarget.contains(z)&&Y){const ae=_.clientX>F.current?"right":"left";R.current=ae,F.current=_.clientX}}))})})})})})})});M2.displayName=hr;var m5="MenuGroup",ov=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Ne.div,{role:"group",...r,ref:t})});ov.displayName=m5;var h5="MenuLabel",R2=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Ne.div,{...r,ref:t})});R2.displayName=h5;var Au="MenuItem",Ww="menu.itemSelect",Qf=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=h.useRef(null),o=Wc(Au,e.__scopeMenu),l=av(Au,e.__scopeMenu),c=Je(t,i),d=h.useRef(!1),u=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(Ww,{bubbles:!0,cancelable:!0});f.addEventListener(Ww,p=>r==null?void 0:r(p),{once:!0}),xx(f,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(A2,{...a,ref:c,disabled:n,onClick:se(e.onClick,u),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),d.current=!0},onPointerUp:se(e.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:se(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||Vp.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Qf.displayName=Au;var A2=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,o=av(Au,n),l=_2(n),c=h.useRef(null),d=Je(t,c),[u,f]=h.useState(!1),[m,p]=h.useState("");return h.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[i.children]),s.jsx(dc.ItemSlot,{scope:n,disabled:r,textValue:a??m,children:s.jsx(nv,{asChild:!0,...l,focusable:!r,children:s.jsx(Ne.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:se(e.onPointerMove,uc(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(e.onPointerLeave,uc(y=>o.onItemLeave(y))),onFocus:se(e.onFocus,()=>f(!0)),onBlur:se(e.onBlur,()=>f(!1))})})})}),p5="MenuCheckboxItem",I2=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return s.jsx($2,{scope:e.__scopeMenu,checked:n,children:s.jsx(Qf,{role:"menuitemcheckbox","aria-checked":Iu(n)?"mixed":n,...a,ref:t,"data-state":cv(n),onSelect:se(a.onSelect,()=>r==null?void 0:r(Iu(n)?!0:!n),{checkForDefaultPrevented:!1})})})});I2.displayName=p5;var D2="MenuRadioGroup",[g5,x5]=Ci(D2,{value:void 0,onValueChange:()=>{}}),O2=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,i=un(r);return s.jsx(g5,{scope:e.__scopeMenu,value:n,onValueChange:i,children:s.jsx(ov,{...a,ref:t})})});O2.displayName=D2;var L2="MenuRadioItem",F2=h.forwardRef((e,t)=>{const{value:n,...r}=e,a=x5(L2,e.__scopeMenu),i=n===a.value;return s.jsx($2,{scope:e.__scopeMenu,checked:i,children:s.jsx(Qf,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":cv(i),onSelect:se(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});F2.displayName=L2;var lv="MenuItemIndicator",[$2,v5]=Ci(lv,{checked:!1}),z2=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=v5(lv,n);return s.jsx(nr,{present:r||Iu(i.checked)||i.checked===!0,children:s.jsx(Ne.span,{...a,ref:t,"data-state":cv(i.checked)})})});z2.displayName=lv;var y5="MenuSeparator",V2=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Ne.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});V2.displayName=y5;var w5="MenuArrow",U2=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Kf(n);return s.jsx(Ux,{...a,...r,ref:t})});U2.displayName=w5;var b5="MenuSub",[jH,B2]=Ci(b5),Cl="MenuSubTrigger",H2=h.forwardRef((e,t)=>{const n=ki(Cl,e.__scopeMenu),r=Wc(Cl,e.__scopeMenu),a=B2(Cl,e.__scopeMenu),i=av(Cl,e.__scopeMenu),o=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=h.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return h.useEffect(()=>u,[u]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(rv,{asChild:!0,...d,children:s.jsx(A2,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":K2(n.open),...e,ref:Cf(t,a.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(e.onPointerMove,uc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:se(e.onPointerLeave,uc(f=>{var p,y;u();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(y=n.content)==null?void 0:y.dataset.side,w=g==="right",v=w?-5:5,x=m[w?"left":"right"],b=m[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:se(e.onKeyDown,f=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||t5[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});H2.displayName=Cl;var q2="MenuSubContent",W2=h.forwardRef((e,t)=>{const n=E2(hr,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=ki(hr,e.__scopeMenu),o=Wc(hr,e.__scopeMenu),l=B2(q2,e.__scopeMenu),c=h.useRef(null),d=Je(t,c);return s.jsx(dc.Provider,{scope:e.__scopeMenu,children:s.jsx(nr,{present:r||i.open,children:s.jsx(dc.Slot,{scope:e.__scopeMenu,children:s.jsx(iv,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:se(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:se(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:se(e.onKeyDown,u=>{var p;const f=u.currentTarget.contains(u.target),m=n5[o.dir].includes(u.key);f&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});W2.displayName=q2;function K2(e){return e?"open":"closed"}function Iu(e){return e==="indeterminate"}function cv(e){return Iu(e)?"indeterminate":e?"checked":"unchecked"}function j5(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function N5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function S5(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=N5(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function C5(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(a=!a)}return a}function k5(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return C5(n,t)}function uc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var _5=P2,P5=rv,E5=T2,T5=M2,M5=ov,R5=R2,A5=Qf,I5=I2,D5=O2,O5=F2,L5=z2,F5=V2,$5=U2,z5=H2,V5=W2,dv="DropdownMenu",[U5,NH]=fn(dv,[k2]),Rn=k2(),[B5,Q2]=U5(dv),G2=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Rn(t),d=h.useRef(null),[u=!1,f]=Dr({prop:a,defaultProp:i,onChange:o});return s.jsx(B5,{scope:t,triggerId:Tr(),triggerRef:d,contentId:Tr(),open:u,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:l,children:s.jsx(_5,{...c,open:u,onOpenChange:f,dir:r,modal:l,children:n})})};G2.displayName=dv;var Y2="DropdownMenuTrigger",Z2=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=Q2(Y2,n),o=Rn(n);return s.jsx(P5,{asChild:!0,...o,children:s.jsx(Ne.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Cf(t,i.triggerRef),onPointerDown:se(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:se(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Z2.displayName=Y2;var H5="DropdownMenuPortal",J2=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Rn(t);return s.jsx(E5,{...r,...n})};J2.displayName=H5;var X2="DropdownMenuContent",eP=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Q2(X2,n),i=Rn(n),o=h.useRef(!1);return s.jsx(T5,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:se(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:se(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eP.displayName=X2;var q5="DropdownMenuGroup",W5=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Rn(n);return s.jsx(M5,{...a,...r,ref:t})});W5.displayName=q5;var K5="DropdownMenuLabel",tP=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Rn(n);return s.jsx(R5,{...a,...r,ref:t})});tP.displayName=K5;var Q5="DropdownMenuItem",nP=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Rn(n);return s.jsx(A5,{...a,...r,ref:t})});nP.displayName=Q5;var G5="DropdownMenuCheckboxItem",rP=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Rn(n);return s.jsx(I5,{...a,...r,ref:t})});rP.displayName=G5;var Y5="DropdownMenuRadioGroup",Z5=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Rn(n);return s.jsx(D5,{...a,...r,ref:t})});Z5.displayName=Y5;var J5="DropdownMenuRadioItem",sP=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Rn(n);return s.jsx(O5,{...a,...r,ref:t})});sP.displayName=J5;var X5="DropdownMenuItemIndicator",aP=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Rn(n);return s.jsx(L5,{...a,...r,ref:t})});aP.displayName=X5;var e6="DropdownMenuSeparator",iP=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Rn(n);return s.jsx(F5,{...a,...r,ref:t})});iP.displayName=e6;var t6="DropdownMenuArrow",n6=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Rn(n);return s.jsx($5,{...a,...r,ref:t})});n6.displayName=t6;var r6="DropdownMenuSubTrigger",oP=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Rn(n);return s.jsx(z5,{...a,...r,ref:t})});oP.displayName=r6;var s6="DropdownMenuSubContent",lP=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Rn(n);return s.jsx(V5,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lP.displayName=s6;var a6=G2,i6=Z2,o6=J2,cP=eP,dP=tP,uP=nP,fP=rP,mP=sP,hP=aP,pP=iP,gP=oP,xP=lP;const Up=a6,Bp=i6,l6=h.forwardRef(({className:e,inset:t,children:n,...r},a)=>s.jsxs(gP,{ref:a,className:K("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,s.jsx(Ef,{className:"ml-auto"})]}));l6.displayName=gP.displayName;const c6=h.forwardRef(({className:e,...t},n)=>s.jsx(xP,{ref:n,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));c6.displayName=xP.displayName;const Du=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(o6,{children:s.jsx(cP,{ref:r,sideOffset:t,className:K("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Du.displayName=cP.displayName;const Us=h.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(uP,{ref:r,className:K("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));Us.displayName=uP.displayName;const d6=h.forwardRef(({className:e,children:t,checked:n,...r},a)=>s.jsxs(fP,{ref:a,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(hP,{children:s.jsx(Ss,{className:"h-4 w-4"})})}),t]}));d6.displayName=fP.displayName;const u6=h.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(mP,{ref:r,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(hP,{children:s.jsx(Xk,{className:"h-2 w-2 fill-current"})})}),t]}));u6.displayName=mP.displayName;const Ou=h.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(dP,{ref:r,className:K("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Ou.displayName=dP.displayName;const Gi=h.forwardRef(({className:e,...t},n)=>s.jsx(pP,{ref:n,className:K("-mx-1 my-1 h-px bg-muted",e),...t}));Gi.displayName=pP.displayName;var uv="Avatar",[f6,SH]=fn(uv),[m6,vP]=f6(uv),yP=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[a,i]=h.useState("idle");return s.jsx(m6,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Ne.span,{...r,ref:t})})});yP.displayName=uv;var wP="AvatarImage",bP=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...i}=e,o=vP(wP,n),l=h6(r,i),c=un(d=>{a(d),o.onImageLoadingStatusChange(d)});return Zt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ne.img,{...i,ref:t,src:r}):null});bP.displayName=wP;var jP="AvatarFallback",NP=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...a}=e,i=vP(jP,n),[o,l]=h.useState(r===void 0);return h.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Ne.span,{...a,ref:t}):null});NP.displayName=jP;function Kw(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function h6(e,{referrerPolicy:t,crossOrigin:n}){const r=g6(),a=h.useRef(null),i=r?(a.current||(a.current=new window.Image),a.current):null,[o,l]=h.useState(()=>Kw(i,e));return Zt(()=>{l(Kw(i,e))},[i,e]),Zt(()=>{const c=f=>()=>{l(f)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,n,t]),o}function p6(){return()=>{}}function g6(){return h.useSyncExternalStore(p6,()=>!0,()=>!1)}var SP=yP,CP=bP,kP=NP;const rr=h.forwardRef(({className:e,...t},n)=>s.jsx(SP,{ref:n,className:K(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));rr.displayName=SP.displayName;const Gf=h.forwardRef(({className:e,...t},n)=>s.jsx(CP,{ref:n,className:K("aspect-square h-full w-full",e),...t}));Gf.displayName=CP.displayName;const sr=h.forwardRef(({className:e,...t},n)=>s.jsx(kP,{ref:n,className:K("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));sr.displayName=kP.displayName;const Qw=[{path:"/jobs",label:"Jobs",icon:xa},{path:"/calendar",label:"Calendar",icon:nn},{path:"/contacts",label:"Contacts",icon:Si},{path:"/templates",label:"Templates",icon:Cx}];function x6(){const[e,t]=Wt(),{toast:n}=St(),[r,a]=h.useState(!1),i=xt.isNativePlatform(),{data:o}=Ie({queryKey:["/api/auth/me"],queryFn:i?hx:void 0,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:5*60*1e3}),{data:l}=Ie({queryKey:["/api/organization"],enabled:!!o}),c=tt({mutationFn:async()=>xt.isNativePlatform()?await fetch("https://portal.heyteam.ai/api/mobile/auth/logout",{method:"POST",headers:{"Content-Type":"application/json",...ic()?{"X-User-ID":ic()}:{}},credentials:"include"}):await rt("POST","/api/auth/logout"),onSuccess:()=>{Ee.setQueryData(["/api/auth/me"],null),Ee.clear(),xt.isNativePlatform()&&mx(),n({title:"Logged out successfully"}),setTimeout(()=>{t("/auth")},100)},onError:()=>{n({title:"Logout failed",variant:"destructive"})}}),d=()=>o!=null&&o.firstName&&(o!=null&&o.lastName)?`${o.firstName[0]}${o.lastName[0]}`.toUpperCase():o!=null&&o.username?o.username.substring(0,2).toUpperCase():o!=null&&o.email?o.email.substring(0,2).toUpperCase():"U",u=()=>o!=null&&o.firstName&&(o!=null&&o.lastName)?`${o.firstName} ${o.lastName}`:(o==null?void 0:o.username)||(o==null?void 0:o.email)||"User";return s.jsx("header",{className:"sticky top-0 z-50 border-b bg-card",children:s.jsx("div",{className:"mx-auto max-w-screen-2xl px-3 sm:px-6 py-2 sm:py-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-6",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-8",children:[s.jsx(Ye,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 hover-elevate px-1 sm:px-2 py-1 rounded-md cursor-pointer","data-testid":"link-home",children:[s.jsx("img",{src:Ua,alt:"HeyTeam",className:"w-20 sm:w-28"}),l&&s.jsx("span",{className:"text-xs sm:text-sm font-medium text-muted-foreground hidden sm:inline","data-testid":"text-organization-name",children:l.name})]})}),s.jsx("nav",{className:"hidden md:flex items-center gap-1",children:Qw.map(f=>{const m=f.icon,p=e===f.path;return s.jsx(Ye,{href:f.path,children:s.jsxs(U,{variant:"ghost",className:`gap-2 ${p?"bg-accent":""}`,id:`tour-nav-${f.label.toLowerCase()}`,"data-testid":`link-nav-${f.label.toLowerCase()}`,children:[s.jsx(m,{className:"h-4 w-4"}),f.label]})},f.path)})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ev,{open:r,onOpenChange:a,children:[s.jsx(v2,{asChild:!0,children:s.jsx(U,{variant:"ghost",size:"icon",className:"md:hidden","data-testid":"button-mobile-menu",children:s.jsx(t_,{className:"h-5 w-5"})})}),s.jsxs(Bf,{side:"left",className:"w-[280px]",children:[s.jsx(Hf,{children:s.jsx(qf,{children:"Menu"})}),s.jsxs("div",{className:"flex flex-col gap-2 mt-6",children:[Qw.map(f=>{const m=f.icon,p=e===f.path;return s.jsx(Ye,{href:f.path,children:s.jsxs(U,{variant:p?"secondary":"ghost",className:"w-full justify-start gap-3",onClick:()=>a(!1),"data-testid":`link-mobile-nav-${f.label.toLowerCase()}`,children:[s.jsx(m,{className:"h-4 w-4"}),f.label]})},f.path)}),((o==null?void 0:o.isAdmin)||(o==null?void 0:o.teamRole)==="admin"||(o==null?void 0:o.teamRole)==="owner")&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-t my-2"}),s.jsx("div",{className:"text-xs font-medium text-muted-foreground px-2 py-1",children:"Setup"}),s.jsx(Ye,{href:"/team",children:s.jsxs(U,{variant:"ghost",className:"w-full justify-start gap-3",onClick:()=>a(!1),"data-testid":"link-mobile-team",children:[s.jsx(Vm,{className:"h-4 w-4"}),"Team"]})}),s.jsx(Ye,{href:"/messages",children:s.jsxs(U,{variant:"ghost",className:"w-full justify-start gap-3",onClick:()=>a(!1),"data-testid":"link-mobile-messages",children:[s.jsx(Cs,{className:"h-4 w-4"}),"Messages"]})}),s.jsx(Ye,{href:"/billing",children:s.jsxs(U,{variant:"ghost",className:"w-full justify-start gap-3",onClick:()=>a(!1),"data-testid":"link-mobile-billing",children:[s.jsx(Pp,{className:"h-4 w-4"}),"Billing"]})}),s.jsx("div",{className:"border-t my-2"})]}),s.jsx("div",{className:"text-xs font-medium text-muted-foreground px-2 py-1",children:"Account"}),s.jsx(Ye,{href:"/profile",children:s.jsxs(U,{variant:"ghost",className:"w-full justify-start gap-3",onClick:()=>a(!1),"data-testid":"link-mobile-profile",children:[s.jsx(fi,{className:"h-4 w-4"}),"Edit Profile"]})}),s.jsx(qw,{trigger:s.jsxs(U,{variant:"ghost",className:"w-full justify-start gap-3","data-testid":"button-mobile-feedback",children:[s.jsx(Tp,{className:"h-4 w-4"}),"Send Feedback"]})}),s.jsxs(U,{variant:"ghost",className:"w-full justify-start gap-3",onClick:()=>{a(!1),c.mutate()},disabled:c.isPending,"data-testid":"button-mobile-logout",children:[s.jsx(Oo,{className:"h-4 w-4"}),"Logout"]})]})]})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[((o==null?void 0:o.isAdmin)||(o==null?void 0:o.teamRole)==="admin"||(o==null?void 0:o.teamRole)==="owner")&&s.jsxs(Up,{children:[s.jsx(Bp,{asChild:!0,children:s.jsxs(U,{variant:"outline",size:"sm",className:"gap-2","data-testid":"button-setup-menu",children:[s.jsx(Vm,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden lg:inline",children:"Setup"}),s.jsx(ui,{className:"h-3 w-3"})]})}),s.jsxs(Du,{align:"end",className:"w-48",children:[s.jsx(Ou,{children:"Setup"}),s.jsx(Gi,{}),s.jsx(Us,{asChild:!0,children:s.jsxs(Ye,{href:"/team",className:"cursor-pointer",children:[s.jsx(Vm,{className:"h-4 w-4 mr-2"}),"Team"]})}),s.jsx(Us,{asChild:!0,children:s.jsxs(Ye,{href:"/messages",className:"cursor-pointer","data-testid":"link-messages",children:[s.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Messages"]})}),s.jsx(Us,{asChild:!0,children:s.jsxs(Ye,{href:"/billing",className:"cursor-pointer",children:[s.jsx(Pp,{className:"h-4 w-4 mr-2"}),"Billing"]})})]})]}),s.jsxs(Up,{children:[s.jsx(Bp,{asChild:!0,children:s.jsxs(U,{variant:"ghost",size:"sm",className:"gap-2","data-testid":"button-profile-menu",children:[s.jsx(rr,{className:"h-6 w-6",children:s.jsx(sr,{className:"text-xs",children:d()})}),s.jsx("span",{className:"hidden lg:inline",children:u()}),s.jsx(ui,{className:"h-3 w-3"})]})}),s.jsxs(Du,{align:"end",className:"w-56",children:[s.jsx(Ou,{children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:u()}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:o==null?void 0:o.email})]})}),s.jsx(Gi,{}),s.jsx(Us,{asChild:!0,children:s.jsxs(Ye,{href:"/profile",className:"cursor-pointer","data-testid":"link-profile",children:[s.jsx(fi,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})}),s.jsx(Gi,{}),s.jsx(Us,{asChild:!0,children:s.jsx(qw,{trigger:s.jsxs("button",{className:"relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",children:[s.jsx(Tp,{className:"h-4 w-4 mr-2"}),"Send Feedback"]})})}),s.jsx(Gi,{}),s.jsxs(Us,{onClick:()=>c.mutate(),disabled:c.isPending,"data-testid":"button-logout",children:[s.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]}),s.jsx(H_,{})]})]})})})}function v6(){const[e]=Wt();if(!xt.isNativePlatform())return null;const{data:n}=Ie({queryKey:["/api/auth/me"],queryFn:hx,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:5*60*1e3}),r=()=>n!=null&&n.firstName&&(n!=null&&n.lastName)?`${n.firstName[0]}${n.lastName[0]}`.toUpperCase():n!=null&&n.username?n.username.substring(0,2).toUpperCase():n!=null&&n.email?n.email.substring(0,2).toUpperCase():"U",a=()=>e==="/jobs"?"Jobs":e==="/calendar"?"Calendar":e==="/contacts"?"Contacts":e==="/templates"?"Templates":e==="/billing"?"Billing":e==="/messages"?"Messages":e==="/profile"?"Profile":e==="/team"?"Settings":e.startsWith("/jobs/")?"Job":"HeyTeam";return s.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 border-b bg-card h-8 flex items-center px-2",style:{marginTop:0,paddingTop:0,top:0},children:s.jsxs("div",{className:"flex items-center justify-between w-full h-full",style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:[s.jsx("div",{className:"flex items-center flex-1 min-w-0",children:s.jsx("h1",{className:"text-lg font-semibold truncate",children:a()})}),s.jsx(Ye,{href:"/team",children:s.jsx(U,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-full p-0",children:s.jsx(rr,{className:"h-7 w-7",children:s.jsx(sr,{className:"text-[10px] bg-primary text-primary-foreground",children:r()})})})})]})})}const y6=[{path:"/jobs",label:"Jobs",icon:xa},{path:"/calendar",label:"Calendar",icon:nn},{path:"/contacts",label:"Contacts",icon:Si},{path:"/templates",label:"Templates",icon:Cx}];function w6(){const[e]=Wt();return s.jsx("nav",{className:K("ios-tap"),style:{position:"fixed",bottom:0,left:0,right:0,width:"100%",zIndex:9999,paddingTop:"10px",paddingBottom:"env(safe-area-inset-bottom, 0px)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",backgroundColor:"hsl(var(--background) / 0.95)",borderTop:"1px solid hsl(var(--border))",boxShadow:"0 -2px 10px rgba(0, 0, 0, 0.05)"},children:s.jsx("div",{className:"flex items-center justify-around h-8",children:y6.map(t=>{const n=t.icon,r=e===t.path||e.startsWith(t.path+"/");return s.jsx(Ye,{href:t.path,className:K("flex flex-col items-center justify-center","flex-1 h-full","transition-colors duration-200","active:bg-accent/50","min-w-0","ios-tap ios-no-select","relative"),children:s.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[s.jsx(n,{className:K("h-5 w-5 transition-colors duration-200",r?"text-primary":"text-muted-foreground")}),s.jsx("span",{className:K("text-[10px] font-medium transition-colors duration-200","leading-tight mt-0.5",r?"text-primary":"text-muted-foreground"),children:t.label}),r&&s.jsx("div",{className:"absolute -top-0.5 left-1/2 -translate-x-1/2 w-1 h-1 rounded-full bg-primary"})]})},t.path)})})})}const _P=h.forwardRef(({...e},t)=>s.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));_P.displayName="Breadcrumb";const PP=h.forwardRef(({className:e,...t},n)=>s.jsx("ol",{ref:n,className:K("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));PP.displayName="BreadcrumbList";const Hp=h.forwardRef(({className:e,...t},n)=>s.jsx("li",{ref:n,className:K("inline-flex items-center gap-1.5",e),...t}));Hp.displayName="BreadcrumbItem";const qp=h.forwardRef(({asChild:e,className:t,...n},r)=>{const a=e?gx:"a";return s.jsx(a,{ref:r,className:K("transition-colors hover:text-foreground",t),...n})});qp.displayName="BreadcrumbLink";const EP=h.forwardRef(({className:e,...t},n)=>s.jsx("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:K("font-normal text-foreground",e),...t}));EP.displayName="BreadcrumbPage";const TP=({children:e,className:t,...n})=>s.jsx("li",{role:"presentation","aria-hidden":"true",className:K("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...n,children:e??s.jsx(Ef,{})});TP.displayName="BreadcrumbSeparator";function b6(){const[e]=Wt(),n=(()=>{const r=e.split("/").filter(Boolean);if(r.length===0||e==="/jobs")return[{label:"Jobs",path:"/jobs"}];const a=[];return e==="/contacts"?a.push({label:"Contacts"}):e==="/templates"?a.push({label:"Templates"}):e==="/calendar"?a.push({label:"Calendar"}):e==="/billing"?a.push({label:"Billing"}):e==="/messages"?a.push({label:"Message History"}):e==="/profile"?a.push({label:"Profile"}):e==="/team"?a.push({label:"Team"}):e==="/admin/admin.aspx"?a.push({label:"Admin Dashboard"}):r[0]==="jobs"?(a.push({label:"Jobs",path:"/jobs"}),r[1]==="new"?a.push({label:"New Job"}):r[2]==="edit"?a.push({label:"Edit Job"}):r[2]==="schedule"?a.push({label:"Schedule"}):r[2]==="send"&&a.push({label:"Send Message"})):a.push({label:"Home",path:"/"}),a})();return n.length===0?null:s.jsx(_P,{className:"mb-6",children:s.jsxs(PP,{children:[s.jsx(Hp,{children:s.jsx(qp,{asChild:!0,children:s.jsx(Ye,{href:"/jobs","data-testid":"breadcrumb-home",children:s.jsx(kx,{className:"h-4 w-4"})})})}),n.map((r,a)=>{const i=a===n.length-1;return s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2.5",children:[s.jsx(TP,{}),s.jsx(Hp,{children:i||!r.path?s.jsx(EP,{"data-testid":`breadcrumb-${r.label.toLowerCase().replace(/\s+/g,"-")}`,children:r.label}):s.jsx(qp,{asChild:!0,children:s.jsx(Ye,{href:r.path,"data-testid":`breadcrumb-${r.label.toLowerCase().replace(/\s+/g,"-")}`,children:r.label})})})]},a)})]})})}const ye=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:K("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));ye.displayName="Card";const ct=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:K("flex flex-col space-y-1.5 p-6",e),...t}));ct.displayName="CardHeader";const ln=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:K("text-2xl font-semibold leading-none tracking-tight",e),...t}));ln.displayName="CardTitle";const ja=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:K("text-sm text-muted-foreground",e),...t}));ja.displayName="CardDescription";const Se=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:K("p-6 pt-0",e),...t}));Se.displayName="CardContent";const fv=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:K("flex items-center p-6 pt-0",e),...t}));fv.displayName="CardFooter";const j6=Yo("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function $e({className:e,variant:t,...n}){return s.jsx("div",{className:K(j6({variant:t}),e),...n})}var mv="Progress",hv=100,[N6,CH]=fn(mv),[S6,C6]=N6(mv),MP=h.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:i=k6,...o}=e;(a||a===0)&&!Gw(a)&&console.error(_6(`${a}`,"Progress"));const l=Gw(a)?a:hv;r!==null&&!Yw(r,l)&&console.error(P6(`${r}`,"Progress"));const c=Yw(r,l)?r:null,d=Lu(c)?i(c,l):void 0;return s.jsx(S6,{scope:n,value:c,max:l,children:s.jsx(Ne.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Lu(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":IP(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});MP.displayName=mv;var RP="ProgressIndicator",AP=h.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=C6(RP,n);return s.jsx(Ne.div,{"data-state":IP(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});AP.displayName=RP;function k6(e,t){return`${Math.round(e/t*100)}%`}function IP(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Lu(e){return typeof e=="number"}function Gw(e){return Lu(e)&&!isNaN(e)&&e>0}function Yw(e,t){return Lu(e)&&!isNaN(e)&&e<=t&&e>=0}function _6(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${hv}\`.`}function P6(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${hv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var DP=MP,E6=AP;const Yf=h.forwardRef(({className:e,value:t,...n},r)=>s.jsx(DP,{ref:r,className:K("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(E6,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Yf.displayName=DP.displayName;const je=h.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:K("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));je.displayName="Input";var OP="AlertDialog",[T6,kH]=fn(OP,[t2]),Rs=t2(),LP=e=>{const{__scopeAlertDialog:t,...n}=e,r=Rs(t);return s.jsx(Zx,{...r,...n,modal:!0})};LP.displayName=OP;var M6="AlertDialogTrigger",FP=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Rs(n);return s.jsx(Jx,{...a,...r,ref:t})});FP.displayName=M6;var R6="AlertDialogPortal",$P=e=>{const{__scopeAlertDialog:t,...n}=e,r=Rs(t);return s.jsx(Xx,{...r,...n})};$P.displayName=R6;var A6="AlertDialogOverlay",zP=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Rs(n);return s.jsx(zc,{...a,...r,ref:t})});zP.displayName=A6;var lo="AlertDialogContent",[I6,D6]=T6(lo),O6=Ck("AlertDialogContent"),VP=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,i=Rs(n),o=h.useRef(null),l=Je(t,o),c=h.useRef(null);return s.jsx(I3,{contentName:lo,titleName:UP,docsSlug:"alert-dialog",children:s.jsx(I6,{scope:n,cancelRef:c,children:s.jsxs(Vc,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:se(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(O6,{children:r}),s.jsx(F6,{contentRef:o})]})})})});VP.displayName=lo;var UP="AlertDialogTitle",BP=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Rs(n);return s.jsx(Uc,{...a,...r,ref:t})});BP.displayName=UP;var HP="AlertDialogDescription",qP=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Rs(n);return s.jsx(Bc,{...a,...r,ref:t})});qP.displayName=HP;var L6="AlertDialogAction",WP=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Rs(n);return s.jsx(Uf,{...a,...r,ref:t})});WP.displayName=L6;var KP="AlertDialogCancel",QP=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=D6(KP,n),i=Rs(n),o=Je(t,a);return s.jsx(Uf,{...i,...r,ref:o})});QP.displayName=KP;var F6=({contentRef:e})=>{const t=`\`${lo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${lo}\` by passing a \`${HP}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${lo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},$6=LP,z6=FP,V6=$P,GP=zP,YP=VP,ZP=WP,JP=QP,XP=BP,eE=qP;const tE=$6,nE=z6,U6=V6,rE=h.forwardRef(({className:e,...t},n)=>s.jsx(GP,{className:K("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));rE.displayName=GP.displayName;const pv=h.forwardRef(({className:e,...t},n)=>s.jsxs(U6,{children:[s.jsx(rE,{}),s.jsx(YP,{ref:n,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));pv.displayName=YP.displayName;const gv=({className:e,...t})=>s.jsx("div",{className:K("flex flex-col space-y-2 text-center sm:text-left",e),...t});gv.displayName="AlertDialogHeader";const xv=({className:e,...t})=>s.jsx("div",{className:K("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});xv.displayName="AlertDialogFooter";const vv=h.forwardRef(({className:e,...t},n)=>s.jsx(XP,{ref:n,className:K("text-lg font-semibold",e),...t}));vv.displayName=XP.displayName;const yv=h.forwardRef(({className:e,...t},n)=>s.jsx(eE,{ref:n,className:K("text-sm text-muted-foreground",e),...t}));yv.displayName=eE.displayName;const wv=h.forwardRef(({className:e,...t},n)=>s.jsx(ZP,{ref:n,className:K(Hx(),e),...t}));wv.displayName=ZP.displayName;const bv=h.forwardRef(({className:e,...t},n)=>s.jsx(JP,{ref:n,className:K(Hx({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));bv.displayName=JP.displayName;function qt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Es(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function jv(e,t){const n=qt(e);if(isNaN(t))return Es(e,NaN);if(!t)return n;const r=n.getDate(),a=Es(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return r>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}const sE=6048e5,B6=864e5;let H6={};function Kc(){return H6}function pi(e,t){var l,c,d,u;const n=Kc(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=qt(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Fu(e){return pi(e,{weekStartsOn:1})}function aE(e){const t=qt(e),n=t.getFullYear(),r=Es(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=Fu(r),i=Es(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Fu(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function $u(e){const t=qt(e);return t.setHours(0,0,0,0),t}function Zw(e){const t=qt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function q6(e,t){const n=$u(e),r=$u(t),a=+n-Zw(n),i=+r-Zw(r);return Math.round((a-i)/B6)}function W6(e){const t=aE(e),n=Es(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Fu(n)}function zu(e,t){const n=$u(e),r=$u(t);return+n==+r}function K6(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Q6(e){if(!K6(e)&&typeof e!="number")return!1;const t=qt(e);return!isNaN(Number(t))}function iE(e){const t=qt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function oE(e,t){const n=qt(e.start),r=qt(e.end);let a=+n>+r;const i=a?+n:+r,o=a?r:n;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push(qt(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function lE(e){const t=qt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function G6(e){const t=qt(e),n=Es(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function cE(e,t){var l,c;const n=Kc(),r=n.weekStartsOn??((c=(l=n.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,a=qt(e),i=a.getDay(),o=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const Y6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Z6=(e,t,n)=>{let r;const a=Y6[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function eh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const J6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},X6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ez={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tz={date:eh({formats:J6,defaultWidth:"full"}),time:eh({formats:X6,defaultWidth:"full"}),dateTime:eh({formats:ez,defaultWidth:"full"})},nz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rz=(e,t,n,r)=>nz[e];function hl(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const sz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},az={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dz=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},uz={ordinalNumber:dz,era:hl({values:sz,defaultWidth:"wide"}),quarter:hl({values:az,defaultWidth:"wide",argumentCallback:e=>e-1}),month:hl({values:iz,defaultWidth:"wide"}),day:hl({values:oz,defaultWidth:"wide"}),dayPeriod:hl({values:lz,defaultWidth:"wide",formattingValues:cz,defaultFormattingWidth:"wide"})};function pl(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?mz(l,f=>f.test(o)):fz(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function fz(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function mz(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function hz(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const pz=/^(\d+)(th|st|nd|rd)?/i,gz=/\d+/i,xz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vz={any:[/^b/i,/^(a|c)/i]},yz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wz={any:[/1/i,/2/i,/3/i,/4/i]},bz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Sz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_z={ordinalNumber:hz({matchPattern:pz,parsePattern:gz,valueCallback:e=>parseInt(e,10)}),era:pl({matchPatterns:xz,defaultMatchWidth:"wide",parsePatterns:vz,defaultParseWidth:"any"}),quarter:pl({matchPatterns:yz,defaultMatchWidth:"wide",parsePatterns:wz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:pl({matchPatterns:bz,defaultMatchWidth:"wide",parsePatterns:jz,defaultParseWidth:"any"}),day:pl({matchPatterns:Nz,defaultMatchWidth:"wide",parsePatterns:Sz,defaultParseWidth:"any"}),dayPeriod:pl({matchPatterns:Cz,defaultMatchWidth:"any",parsePatterns:kz,defaultParseWidth:"any"})},Pz={code:"en-US",formatDistance:Z6,formatLong:tz,formatRelative:rz,localize:uz,match:_z,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ez(e){const t=qt(e);return q6(t,G6(t))+1}function Tz(e){const t=qt(e),n=+Fu(t)-+W6(t);return Math.round(n/sE)+1}function dE(e,t){var u,f,m,p;const n=qt(e),r=n.getFullYear(),a=Kc(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=Es(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=pi(o,t),c=Es(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=pi(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function Mz(e,t){var l,c,d,u;const n=Kc(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=dE(e,t),i=Es(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),pi(i,t)}function Rz(e,t){const n=qt(e),r=+pi(n,t)-+Mz(n,t);return Math.round(r/sE)+1}function mt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Os={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return mt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):mt(n+1,2)},d(e,t){return mt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return mt(e.getHours()%12||12,t.length)},H(e,t){return mt(e.getHours(),t.length)},m(e,t){return mt(e.getMinutes(),t.length)},s(e,t){return mt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return mt(a,t.length)}},Ai={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jw={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Os.y(e,t)},Y:function(e,t,n,r){const a=dE(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return mt(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):mt(i,t.length)},R:function(e,t){const n=aE(e);return mt(n,t.length)},u:function(e,t){const n=e.getFullYear();return mt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return mt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return mt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Os.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return mt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Rz(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):mt(a,t.length)},I:function(e,t,n){const r=Tz(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):mt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Os.d(e,t)},D:function(e,t,n){const r=Ez(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):mt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return mt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return mt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return mt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Ai.noon:r===0?a=Ai.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Ai.evening:r>=12?a=Ai.afternoon:r>=4?a=Ai.morning:a=Ai.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Os.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Os.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):mt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):mt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Os.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Os.s(e,t)},S:function(e,t){return Os.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return eb(r);case"XXXX":case"XX":return La(r);case"XXXXX":case"XXX":default:return La(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return eb(r);case"xxxx":case"xx":return La(r);case"xxxxx":case"xxx":default:return La(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Xw(r,":");case"OOOO":default:return"GMT"+La(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Xw(r,":");case"zzzz":default:return"GMT"+La(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return mt(r,t.length)},T:function(e,t,n){const r=e.getTime();return mt(r,t.length)}};function Xw(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+mt(i,2)}function eb(e,t){return e%60===0?(e>0?"-":"+")+mt(Math.abs(e)/60,2):La(e,t)}function La(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=mt(Math.trunc(r/60),2),i=mt(r%60,2);return n+a+t+i}const tb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},uE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Az=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return tb(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",tb(r,t)).replace("{{time}}",uE(a,t))},Iz={p:uE,P:Az},Dz=/^D+$/,Oz=/^Y+$/,Lz=["D","DD","YY","YYYY"];function Fz(e){return Dz.test(e)}function $z(e){return Oz.test(e)}function zz(e,t,n){const r=Vz(e,t,n);if(console.warn(r),Lz.includes(e))throw new RangeError(r)}function Vz(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Uz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hz=/^'([^]*?)'?$/,qz=/''/g,Wz=/[a-zA-Z]/;function dt(e,t,n){var u,f,m,p;const r=Kc(),a=r.locale??Pz,i=r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,l=qt(e);if(!Q6(l))throw new RangeError("Invalid time value");let c=t.match(Bz).map(y=>{const g=y[0];if(g==="p"||g==="P"){const w=Iz[g];return w(y,a.formatLong)}return y}).join("").match(Uz).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const g=y[0];if(g==="'")return{isToken:!1,value:Kz(y)};if(Jw[g])return{isToken:!0,value:y};if(g.match(Wz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const g=y.value;($z(g)||Fz(g))&&zz(g,t,String(e));const w=Jw[g[0]];return w(l,g,a.localize,d)}).join("")}function Kz(e){const t=e.match(Hz);return t?t[1].replace(qz,"'"):e}function fE(e,t){const n=qt(e),r=qt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function mE(e,t){return jv(e,-t)}let Wp={},hE;function th(e={}){Wp={animate:!0,allowClose:!0,overlayClickBehavior:"close",overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...e}}function he(e){return e?Wp[e]:Wp}function Qz(e){hE=e}function Kn(){return hE}let Vu={};function Pd(e,t){Vu[e]=t}function ti(e){var t;(t=Vu[e])==null||t.call(Vu)}function Gz(){Vu={}}function Ed(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}function pE(e){const t='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return e.flatMap(n=>{const r=n.matches(t),a=Array.from(n.querySelectorAll(t));return[...r?[n]:[],...a]}).filter(n=>getComputedStyle(n).pointerEvents!=="none"&&Jz(n))}function gE(e){if(!e||Zz(e))return;const t=he("smoothScroll"),n=e.offsetHeight>window.innerHeight;e.scrollIntoView({behavior:!t||Yz(e)?"auto":"smooth",inline:"center",block:n?"start":"center"})}function Yz(e){if(!e||!e.parentElement)return;const t=e.parentElement;return t.scrollHeight>t.clientHeight}function Zz(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function Jz(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}let Uu={};function Jt(e,t){Uu[e]=t}function ge(e){return e?Uu[e]:Uu}function nb(){Uu={}}function Xz(e,t,n,r){let a=ge("__activeStagePosition");const i=a||n.getBoundingClientRect(),o=r.getBoundingClientRect(),l=Ed(e,i.x,o.x-i.x,t),c=Ed(e,i.y,o.y-i.y,t),d=Ed(e,i.width,o.width-i.width,t),u=Ed(e,i.height,o.height-i.height,t);a={x:l,y:c,width:d,height:u},vE(a),Jt("__activeStagePosition",a)}function xE(e){if(!e)return;const t=e.getBoundingClientRect(),n={x:t.x,y:t.y,width:t.width,height:t.height};Jt("__activeStagePosition",n),vE(n)}function eV(){const e=ge("__activeStagePosition"),t=ge("__overlaySvg");if(!e)return;if(!t){console.warn("No stage svg found.");return}const n=window.innerWidth,r=window.innerHeight;t.setAttribute("viewBox",`0 0 ${n} ${r}`)}function tV(e){const t=nV(e);document.body.appendChild(t),bE(t,n=>{n.target.tagName==="path"&&ti("overlayClick")}),Jt("__overlaySvg",t)}function vE(e){const t=ge("__overlaySvg");if(!t){tV(e);return}const n=t.firstElementChild;if((n==null?void 0:n.tagName)!=="path")throw new Error("no path element found in stage svg");n.setAttribute("d",yE(e))}function nV(e){const t=window.innerWidth,n=window.innerHeight,r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.classList.add("driver-overlay","driver-overlay-animated"),r.setAttribute("viewBox",`0 0 ${t} ${n}`),r.setAttribute("xmlSpace","preserve"),r.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),r.setAttribute("version","1.1"),r.setAttribute("preserveAspectRatio","xMinYMin slice"),r.style.fillRule="evenodd",r.style.clipRule="evenodd",r.style.strokeLinejoin="round",r.style.strokeMiterlimit="2",r.style.zIndex="10000",r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%";const a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d",yE(e)),a.style.fill=he("overlayColor")||"rgb(0,0,0)",a.style.opacity=`${he("overlayOpacity")}`,a.style.pointerEvents="auto",a.style.cursor="auto",r.appendChild(a),r}function yE(e){const t=window.innerWidth,n=window.innerHeight,r=he("stagePadding")||0,a=he("stageRadius")||0,i=e.width+r*2,o=e.height+r*2,l=Math.min(a,i/2,o/2),c=Math.floor(Math.max(l,0)),d=e.x-r+c,u=e.y-r,f=i-c*2,m=o-c*2;return`M${t},0L0,0L0,${n}L${t},${n}L${t},0Z
    M${d},${u} h${f} a${c},${c} 0 0 1 ${c},${c} v${m} a${c},${c} 0 0 1 -${c},${c} h-${f} a${c},${c} 0 0 1 -${c},-${c} v-${m} a${c},${c} 0 0 1 ${c},-${c} z`}function rV(){const e=ge("__overlaySvg");e&&e.remove()}function sV(){const e=document.getElementById("driver-dummy-element");if(e)return e;let t=document.createElement("div");return t.id="driver-dummy-element",t.style.width="0",t.style.height="0",t.style.pointerEvents="none",t.style.opacity="0",t.style.position="fixed",t.style.top="50%",t.style.left="50%",document.body.appendChild(t),t}function rb(e){const{element:t}=e;let n=typeof t=="function"?t():typeof t=="string"?document.querySelector(t):t;n||(n=sV()),iV(n,e)}function aV(){const e=ge("__activeElement"),t=ge("__activeStep");e&&(xE(e),eV(),NE(e,t))}function iV(e,t){var n;const r=Date.now(),a=ge("__activeStep"),i=ge("__activeElement")||e,o=!i||i===e,l=e.id==="driver-dummy-element",c=i.id==="driver-dummy-element",d=he("animate"),u=t.onHighlightStarted||he("onHighlightStarted"),f=(t==null?void 0:t.onHighlighted)||he("onHighlighted"),m=(a==null?void 0:a.onDeselected)||he("onDeselected"),p=he(),y=ge();!o&&m&&m(c?void 0:i,a,{config:p,state:y,driver:Kn()}),u&&u(l?void 0:e,t,{config:p,state:y,driver:Kn()});const g=!o&&d;let w=!1;uV(),Jt("previousStep",a),Jt("previousElement",i),Jt("activeStep",t),Jt("activeElement",e);const v=()=>{if(ge("__transitionCallback")!==v)return;const x=Date.now()-r,b=400-x<=400/2;t.popover&&b&&!w&&g&&(sb(e,t),w=!0),he("animate")&&x<400?Xz(x,400,i,e):(xE(e),f&&f(l?void 0:e,t,{config:he(),state:ge(),driver:Kn()}),Jt("__transitionCallback",void 0),Jt("__previousStep",a),Jt("__previousElement",i),Jt("__activeStep",t),Jt("__activeElement",e)),window.requestAnimationFrame(v)};Jt("__transitionCallback",v),window.requestAnimationFrame(v),gE(e),!g&&t.popover&&sb(e,t),i.classList.remove("driver-active-element","driver-no-interaction"),i.removeAttribute("aria-haspopup"),i.removeAttribute("aria-expanded"),i.removeAttribute("aria-controls"),((n=t.disableActiveInteraction)!=null?n:he("disableActiveInteraction"))&&e.classList.add("driver-no-interaction"),e.classList.add("driver-active-element"),e.setAttribute("aria-haspopup","dialog"),e.setAttribute("aria-expanded","true"),e.setAttribute("aria-controls","driver-popover-content")}function oV(){var e;(e=document.getElementById("driver-dummy-element"))==null||e.remove(),document.querySelectorAll(".driver-active-element").forEach(t=>{t.classList.remove("driver-active-element","driver-no-interaction"),t.removeAttribute("aria-haspopup"),t.removeAttribute("aria-expanded"),t.removeAttribute("aria-controls")})}function fc(){const e=ge("__resizeTimeout");e&&window.cancelAnimationFrame(e),Jt("__resizeTimeout",window.requestAnimationFrame(aV))}function lV(e){var t;if(!ge("isInitialized")||!(e.key==="Tab"||e.keyCode===9))return;const n=ge("__activeElement"),r=(t=ge("popover"))==null?void 0:t.wrapper,a=pE([...r?[r]:[],...n?[n]:[]]),i=a[0],o=a[a.length-1];if(e.preventDefault(),e.shiftKey){const l=a[a.indexOf(document.activeElement)-1]||o;l==null||l.focus()}else{const l=a[a.indexOf(document.activeElement)+1]||i;l==null||l.focus()}}function wE(e){var t;((t=he("allowKeyboardControl"))==null||t)&&(e.key==="Escape"?ti("escapePress"):e.key==="ArrowRight"?ti("arrowRightPress"):e.key==="ArrowLeft"&&ti("arrowLeftPress"))}function bE(e,t,n){const r=(a,i)=>{const o=a.target;e.contains(o)&&((!n||n(o))&&(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation()),i==null||i(a))};document.addEventListener("pointerdown",r,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("pointerup",r,!0),document.addEventListener("mouseup",r,!0),document.addEventListener("click",a=>{r(a,t)},!0)}function cV(){window.addEventListener("keyup",wE,!1),window.addEventListener("keydown",lV,!1),window.addEventListener("resize",fc),window.addEventListener("scroll",fc)}function dV(){window.removeEventListener("keyup",wE),window.removeEventListener("resize",fc),window.removeEventListener("scroll",fc)}function uV(){const e=ge("popover");e&&(e.wrapper.style.display="none")}function sb(e,t){var n,r;let a=ge("popover");a&&document.body.removeChild(a.wrapper),a=mV(),document.body.appendChild(a.wrapper);const{title:i,description:o,showButtons:l,disableButtons:c,showProgress:d,nextBtnText:u=he("nextBtnText")||"Next &rarr;",prevBtnText:f=he("prevBtnText")||"&larr; Previous",progressText:m=he("progressText")||"{current} of {total}"}=t.popover||{};a.nextButton.innerHTML=u,a.previousButton.innerHTML=f,a.progress.innerHTML=m,i?(a.title.innerHTML=i,a.title.style.display="block"):a.title.style.display="none",o?(a.description.innerHTML=o,a.description.style.display="block"):a.description.style.display="none";const p=l||he("showButtons"),y=d||he("showProgress")||!1,g=(p==null?void 0:p.includes("next"))||(p==null?void 0:p.includes("previous"))||y;a.closeButton.style.display=p.includes("close")?"block":"none",g?(a.footer.style.display="flex",a.progress.style.display=y?"block":"none",a.nextButton.style.display=p.includes("next")?"block":"none",a.previousButton.style.display=p.includes("previous")?"block":"none"):a.footer.style.display="none";const w=c||he("disableButtons")||[];w!=null&&w.includes("next")&&(a.nextButton.disabled=!0,a.nextButton.classList.add("driver-popover-btn-disabled")),w!=null&&w.includes("previous")&&(a.previousButton.disabled=!0,a.previousButton.classList.add("driver-popover-btn-disabled")),w!=null&&w.includes("close")&&(a.closeButton.disabled=!0,a.closeButton.classList.add("driver-popover-btn-disabled"));const v=a.wrapper;v.style.display="block",v.style.left="",v.style.top="",v.style.bottom="",v.style.right="",v.id="driver-popover-content",v.setAttribute("role","dialog"),v.setAttribute("aria-labelledby","driver-popover-title"),v.setAttribute("aria-describedby","driver-popover-description");const x=a.arrow;x.className="driver-popover-arrow";const b=((n=t.popover)==null?void 0:n.popoverClass)||he("popoverClass")||"";v.className=`driver-popover ${b}`.trim(),bE(a.wrapper,S=>{var E,O,j;const D=S.target,I=((E=t.popover)==null?void 0:E.onNextClick)||he("onNextClick"),R=((O=t.popover)==null?void 0:O.onPrevClick)||he("onPrevClick"),F=((j=t.popover)==null?void 0:j.onCloseClick)||he("onCloseClick");if(D.closest(".driver-popover-next-btn"))return I?I(e,t,{config:he(),state:ge(),driver:Kn()}):ti("nextClick");if(D.closest(".driver-popover-prev-btn"))return R?R(e,t,{config:he(),state:ge(),driver:Kn()}):ti("prevClick");if(D.closest(".driver-popover-close-btn"))return F?F(e,t,{config:he(),state:ge(),driver:Kn()}):ti("closeClick")},S=>!(a!=null&&a.description.contains(S))&&!(a!=null&&a.title.contains(S))&&typeof S.className=="string"&&S.className.includes("driver-popover")),Jt("popover",a);const N=((r=t.popover)==null?void 0:r.onPopoverRender)||he("onPopoverRender");N&&N(a,{config:he(),state:ge(),driver:Kn()}),NE(e,t),gE(v);const C=e.classList.contains("driver-dummy-element"),P=pE([v,...C?[]:[e]]);P.length>0&&P[0].focus()}function jE(){const e=ge("popover");if(!(e!=null&&e.wrapper))return;const t=e.wrapper.getBoundingClientRect(),n=he("stagePadding")||0,r=he("popoverOffset")||0;return{width:t.width+n+r,height:t.height+n+r,realWidth:t.width,realHeight:t.height}}function ab(e,t){const{elementDimensions:n,popoverDimensions:r,popoverPadding:a,popoverArrowDimensions:i}=t;return e==="start"?Math.max(Math.min(n.top-a,window.innerHeight-r.realHeight-i.width),i.width):e==="end"?Math.max(Math.min(n.top-(r==null?void 0:r.realHeight)+n.height+a,window.innerHeight-(r==null?void 0:r.realHeight)-i.width),i.width):e==="center"?Math.max(Math.min(n.top+n.height/2-(r==null?void 0:r.realHeight)/2,window.innerHeight-(r==null?void 0:r.realHeight)-i.width),i.width):0}function ib(e,t){const{elementDimensions:n,popoverDimensions:r,popoverPadding:a,popoverArrowDimensions:i}=t;return e==="start"?Math.max(Math.min(n.left-a,window.innerWidth-r.realWidth-i.width),i.width):e==="end"?Math.max(Math.min(n.left-(r==null?void 0:r.realWidth)+n.width+a,window.innerWidth-(r==null?void 0:r.realWidth)-i.width),i.width):e==="center"?Math.max(Math.min(n.left+n.width/2-(r==null?void 0:r.realWidth)/2,window.innerWidth-(r==null?void 0:r.realWidth)-i.width),i.width):0}function NE(e,t){const n=ge("popover");if(!n)return;const{align:r="start",side:a="left"}=(t==null?void 0:t.popover)||{},i=r,o=e.id==="driver-dummy-element"?"over":a,l=he("stagePadding")||0,c=jE(),d=n.arrow.getBoundingClientRect(),u=e.getBoundingClientRect(),f=u.top-c.height;let m=f>=0;const p=window.innerHeight-(u.bottom+c.height);let y=p>=0;const g=u.left-c.width;let w=g>=0;const v=window.innerWidth-(u.right+c.width);let x=v>=0;const b=!m&&!y&&!w&&!x;let N=o;if(o==="top"&&m?x=w=y=!1:o==="bottom"&&y?x=w=m=!1:o==="left"&&w?x=m=y=!1:o==="right"&&x&&(w=m=y=!1),o==="over"){const C=window.innerWidth/2-c.realWidth/2,P=window.innerHeight/2-c.realHeight/2;n.wrapper.style.left=`${C}px`,n.wrapper.style.right="auto",n.wrapper.style.top=`${P}px`,n.wrapper.style.bottom="auto"}else if(b){const C=window.innerWidth/2-(c==null?void 0:c.realWidth)/2,P=10;n.wrapper.style.left=`${C}px`,n.wrapper.style.right="auto",n.wrapper.style.bottom=`${P}px`,n.wrapper.style.top="auto"}else if(w){const C=Math.min(g,window.innerWidth-(c==null?void 0:c.realWidth)-d.width),P=ab(i,{elementDimensions:u,popoverDimensions:c,popoverPadding:l,popoverArrowDimensions:d});n.wrapper.style.left=`${C}px`,n.wrapper.style.top=`${P}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",N="left"}else if(x){const C=Math.min(v,window.innerWidth-(c==null?void 0:c.realWidth)-d.width),P=ab(i,{elementDimensions:u,popoverDimensions:c,popoverPadding:l,popoverArrowDimensions:d});n.wrapper.style.right=`${C}px`,n.wrapper.style.top=`${P}px`,n.wrapper.style.bottom="auto",n.wrapper.style.left="auto",N="right"}else if(m){const C=Math.min(f,window.innerHeight-c.realHeight-d.width);let P=ib(i,{elementDimensions:u,popoverDimensions:c,popoverPadding:l,popoverArrowDimensions:d});n.wrapper.style.top=`${C}px`,n.wrapper.style.left=`${P}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",N="top"}else if(y){const C=Math.min(p,window.innerHeight-(c==null?void 0:c.realHeight)-d.width);let P=ib(i,{elementDimensions:u,popoverDimensions:c,popoverPadding:l,popoverArrowDimensions:d});n.wrapper.style.left=`${P}px`,n.wrapper.style.bottom=`${C}px`,n.wrapper.style.top="auto",n.wrapper.style.right="auto",N="bottom"}b?n.arrow.classList.add("driver-popover-arrow-none"):fV(i,N,e)}function fV(e,t,n){const r=ge("popover");if(!r)return;const a=n.getBoundingClientRect(),i=jE(),o=r.arrow,l=i.width,c=window.innerWidth,d=a.width,u=a.left,f=i.height,m=window.innerHeight,p=a.top,y=a.height;o.className="driver-popover-arrow";let g=t,w=e;if(t==="top"?(u+d<=0?(g="right",w="end"):u+d-l<=0&&(g="top",w="start"),u>=c?(g="left",w="end"):u+l>=c&&(g="top",w="end")):t==="bottom"?(u+d<=0?(g="right",w="start"):u+d-l<=0&&(g="bottom",w="start"),u>=c?(g="left",w="start"):u+l>=c&&(g="bottom",w="end")):t==="left"?(p+y<=0?(g="bottom",w="end"):p+y-f<=0&&(g="left",w="start"),p>=m?(g="top",w="end"):p+f>=m&&(g="left",w="end")):t==="right"&&(p+y<=0?(g="bottom",w="start"):p+y-f<=0&&(g="right",w="start"),p>=m?(g="top",w="start"):p+f>=m&&(g="right",w="end")),!g)o.classList.add("driver-popover-arrow-none");else{o.classList.add(`driver-popover-arrow-side-${g}`),o.classList.add(`driver-popover-arrow-align-${w}`);const v=n.getBoundingClientRect(),x=o.getBoundingClientRect(),b=he("stagePadding")||0,N=v.left-b<window.innerWidth&&v.right+b>0&&v.top-b<window.innerHeight&&v.bottom+b>0;t==="bottom"&&N&&(x.x>v.x&&x.x+x.width<v.x+v.width?r.wrapper.style.transform="translateY(0)":(o.classList.remove(`driver-popover-arrow-align-${w}`),o.classList.add("driver-popover-arrow-none"),r.wrapper.style.transform=`translateY(-${b/2}px)`))}}function mV(){const e=document.createElement("div");e.classList.add("driver-popover");const t=document.createElement("div");t.classList.add("driver-popover-arrow");const n=document.createElement("header");n.id="driver-popover-title",n.classList.add("driver-popover-title"),n.style.display="none",n.innerText="Popover Title";const r=document.createElement("div");r.id="driver-popover-description",r.classList.add("driver-popover-description"),r.style.display="none",r.innerText="Popover description is here";const a=document.createElement("button");a.type="button",a.classList.add("driver-popover-close-btn"),a.setAttribute("aria-label","Close"),a.innerHTML="&times;";const i=document.createElement("footer");i.classList.add("driver-popover-footer");const o=document.createElement("span");o.classList.add("driver-popover-progress-text"),o.innerText="";const l=document.createElement("span");l.classList.add("driver-popover-navigation-btns");const c=document.createElement("button");c.type="button",c.classList.add("driver-popover-prev-btn"),c.innerHTML="&larr; Previous";const d=document.createElement("button");return d.type="button",d.classList.add("driver-popover-next-btn"),d.innerHTML="Next &rarr;",l.appendChild(c),l.appendChild(d),i.appendChild(o),i.appendChild(l),e.appendChild(a),e.appendChild(t),e.appendChild(n),e.appendChild(r),e.appendChild(i),{wrapper:e,arrow:t,title:n,description:r,footer:i,previousButton:c,nextButton:d,closeButton:a,footerButtons:l,progress:o}}function hV(){var e;const t=ge("popover");t&&((e=t.wrapper.parentElement)==null||e.removeChild(t.wrapper))}function pV(e={}){th(e);function t(){he("allowClose")&&u()}function n(){const m=he("overlayClickBehavior");if(he("allowClose")&&m==="close"){u();return}if(typeof m=="function"){const p=ge("__activeStep"),y=ge("__activeElement");m(y,p,{config:he(),state:ge(),driver:Kn()});return}m==="nextStep"&&r()}function r(){const m=ge("activeIndex"),p=he("steps")||[];if(typeof m>"u")return;const y=m+1;p[y]?d(y):u()}function a(){const m=ge("activeIndex"),p=he("steps")||[];if(typeof m>"u")return;const y=m-1;p[y]?d(y):u()}function i(m){(he("steps")||[])[m]?d(m):u()}function o(){var m;if(ge("__transitionCallback"))return;const p=ge("activeIndex"),y=ge("__activeStep"),g=ge("__activeElement");if(typeof p>"u"||typeof y>"u"||typeof ge("activeIndex")>"u")return;const w=((m=y.popover)==null?void 0:m.onPrevClick)||he("onPrevClick");if(w)return w(g,y,{config:he(),state:ge(),driver:Kn()});a()}function l(){var m;if(ge("__transitionCallback"))return;const p=ge("activeIndex"),y=ge("__activeStep"),g=ge("__activeElement");if(typeof p>"u"||typeof y>"u")return;const w=((m=y.popover)==null?void 0:m.onNextClick)||he("onNextClick");if(w)return w(g,y,{config:he(),state:ge(),driver:Kn()});r()}function c(){ge("isInitialized")||(Jt("isInitialized",!0),document.body.classList.add("driver-active",he("animate")?"driver-fade":"driver-simple"),cV(),Pd("overlayClick",n),Pd("escapePress",t),Pd("arrowLeftPress",o),Pd("arrowRightPress",l))}function d(m=0){var p,y,g,w,v,x,b,N;const C=he("steps");if(!C){console.error("No steps to drive through"),u();return}if(!C[m]){u();return}Jt("__activeOnDestroyed",document.activeElement),Jt("activeIndex",m);const P=C[m],S=C[m+1],E=C[m-1],O=((p=P.popover)==null?void 0:p.doneBtnText)||he("doneBtnText")||"Done",j=he("allowClose"),D=typeof((y=P.popover)==null?void 0:y.showProgress)<"u"?(g=P.popover)==null?void 0:g.showProgress:he("showProgress"),I=(((w=P.popover)==null?void 0:w.progressText)||he("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${m+1}`).replace("{{total}}",`${C.length}`),R=((v=P.popover)==null?void 0:v.showButtons)||he("showButtons"),F=["next","previous",...j?["close"]:[]].filter(L=>!(R!=null&&R.length)||R.includes(L)),k=((x=P.popover)==null?void 0:x.onNextClick)||he("onNextClick"),T=((b=P.popover)==null?void 0:b.onPrevClick)||he("onPrevClick"),B=((N=P.popover)==null?void 0:N.onCloseClick)||he("onCloseClick");rb({...P,popover:{showButtons:F,nextBtnText:S?void 0:O,disableButtons:[...E?[]:["previous"]],showProgress:D,progressText:I,onNextClick:k||(()=>{S?d(m+1):u()}),onPrevClick:T||(()=>{d(m-1)}),onCloseClick:B||(()=>{u()}),...(P==null?void 0:P.popover)||{}}})}function u(m=!0){const p=ge("__activeElement"),y=ge("__activeStep"),g=ge("__activeOnDestroyed"),w=he("onDestroyStarted");if(m&&w){const b=!p||(p==null?void 0:p.id)==="driver-dummy-element";w(b?void 0:p,y,{config:he(),state:ge(),driver:Kn()});return}const v=(y==null?void 0:y.onDeselected)||he("onDeselected"),x=he("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),dV(),hV(),oV(),rV(),Gz(),nb(),p&&y){const b=p.id==="driver-dummy-element";v&&v(b?void 0:p,y,{config:he(),state:ge(),driver:Kn()}),x&&x(b?void 0:p,y,{config:he(),state:ge(),driver:Kn()})}g&&g.focus()}const f={isActive:()=>ge("isInitialized")||!1,refresh:fc,drive:(m=0)=>{c(),d(m)},setConfig:th,setSteps:m=>{nb(),th({...he(),steps:m})},getConfig:he,getState:ge,getActiveIndex:()=>ge("activeIndex"),isFirstStep:()=>ge("activeIndex")===0,isLastStep:()=>{const m=he("steps")||[],p=ge("activeIndex");return p!==void 0&&p===m.length-1},getActiveStep:()=>ge("activeStep"),getActiveElement:()=>ge("activeElement"),getPreviousElement:()=>ge("previousElement"),getPreviousStep:()=>ge("previousStep"),moveNext:r,movePrevious:a,moveTo:i,hasNextStep:()=>{const m=he("steps")||[],p=ge("activeIndex");return p!==void 0&&!!m[p+1]},hasPreviousStep:()=>{const m=he("steps")||[],p=ge("activeIndex");return p!==void 0&&!!m[p-1]},highlight:m=>{c(),rb({...m,popover:m.popover?{showButtons:[],showProgress:!1,progressText:"",...m.popover}:void 0})},destroy:()=>{u(!1)}};return Qz(f),f}const gV={GBP:"",USD:"$",EUR:""};function xV(){const[e,t]=h.useState(""),[n,r]=h.useState(""),[a,i]=h.useState(""),[o,l]=Wt(),{theme:c}=B_(),d=h.useRef(!1),u=h.useRef(null),{data:f,isLoading:m}=Ie({queryKey:["/api/jobs"],refetchInterval:5e3}),{data:p}=Ie({queryKey:["/api/auth/me"]}),{data:y,isLoading:g}=Ie({queryKey:["/api/subscription"]}),{data:w=[],isLoading:v}=Ie({queryKey:["/api/subscription-plans"]}),{data:x,isLoading:b}=Ie({queryKey:["/api/credits"],refetchOnMount:"always",refetchOnWindowFocus:!0});h.useEffect(()=>{if(typeof window>"u"||d.current||m||v||g||new URLSearchParams(window.location.search).get("tour")!=="signup")return;const F=window.setTimeout(()=>{const k=document.getElementById("tour-nav-contacts"),T=document.getElementById("tour-nav-templates"),B=document.getElementById("tour-create-job"),L=document.getElementById("tour-job-section"),_=[];if(k&&_.push({element:k,popover:{title:"Add Your Crew",description:"Start by adding or importing contacts so HeyTeam knows who to reach out to.",side:"bottom",align:"start"}}),T&&_.push({element:T,popover:{title:"Craft Your Templates",description:"Create or customise messaging templates so you can send polished updates in seconds.",side:"bottom",align:"start"}}),B&&_.push({element:B,popover:{title:"Set Up Your Next Job",description:"Create a job, set the requirements, and get everything ready for outreach.",side:"bottom",align:"center"}}),L&&_.push({element:L,popover:{title:"Send Invitations",description:"From each job, use 'Send Message' to invite the right crew and track responses in real time.",side:"top",align:"center"}}),!_.length)return;d.current=!0;const ae=pV({steps:_,showProgress:!0,overlayColor:c==="dark"?"rgba(15, 23, 42, 0.75)":"rgba(15, 23, 42, 0.45)",popoverClass:`driverjs-theme ${c==="dark"?"driverjs-theme-dark":"driverjs-theme-light"}`,stageRadius:12,stagePadding:6,onDestroyed:()=>{u.current=null}});u.current=ae,ae.drive()},500);return()=>{var k;window.clearTimeout(F),(k=u.current)==null||k.destroy()}},[m,v,g,o,c]);const N=h.useMemo(()=>{const R=(y==null?void 0:y.currency)??(p==null?void 0:p.currency)??"GBP",F=gV[R]??"",k=(x==null?void 0:x.available)??0;if(!y)return{planName:"Free Trial",planStatus:"trial",renewalDate:null,currencySymbol:F,price:null,availableCredits:k,monthlyCredits:null,usagePercent:null,hasActiveSubscription:!1};const T=w.find(z=>z.id===y.planId)??null,B=(T==null?void 0:T.monthlyCredits)??null,L=B&&B>0?Math.min(100,Math.max(0,Math.round((B-k)/B*100))):null,_=T?R==="USD"?T.priceUSD:R==="EUR"?T.priceEUR:T.priceGBP:null;return{planName:(T==null?void 0:T.name)??"Free Trial",planStatus:y.status??"trial",renewalDate:y.currentPeriodEnd?new Date(y.currentPeriodEnd):null,currencySymbol:F,price:_!==null?(_/100).toFixed(0):null,availableCredits:k,monthlyCredits:B,usagePercent:L,hasActiveSubscription:!0}},[x==null?void 0:x.available,w,y,p==null?void 0:p.currency]),C=R=>R.split("_").filter(Boolean).map(F=>F.charAt(0).toUpperCase()+F.slice(1)).join(" ")||"Status";if(m)return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})});const P=R=>{if(!n&&!a)return!0;const F=new Date(R.startTime),k=new Date(R.endTime);if(n){const T=new Date(n);if(T.setHours(0,0,0,0),k<T)return!1}if(a){const T=new Date(a);if(T.setHours(23,59,59,999),F>T)return!1}return!0},S=R=>{const F=R.filter(P);if(!e.trim())return F;const k=e.toLowerCase();return F.filter(T=>{var B;return T.name.toLowerCase().includes(k)||((B=T.location)==null?void 0:B.toLowerCase().includes(k))})},E=new Date,O=(f==null?void 0:f.filter(R=>new Date(R.endTime)>E))||[],j=(f==null?void 0:f.filter(R=>new Date(R.endTime)<=E))||[],D=S(O),I=S(j);return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold text-foreground","data-testid":"text-page-title",children:"Dashboard"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your jobs and crew coordination"})]}),s.jsx(Ye,{href:"/jobs/new",children:s.jsx("a",{"data-testid":"link-create-job",children:s.jsxs(U,{size:"default",className:"gap-2",id:"tour-create-job",children:[s.jsx(Fo,{className:"h-4 w-4"}),"Create Job"]})})})]}),f&&f.length>0&&s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{className:"relative max-w-md w-full",children:[s.jsx(Px,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(je,{type:"text",placeholder:"Search jobs by name or location...",value:e,onChange:R=>t(R.target.value),className:"pl-10","data-testid":"input-search-jobs"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 md:justify-end",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"From"}),s.jsx(je,{type:"date",value:n,onChange:R=>r(R.target.value),className:"h-9 w-[140px]","data-testid":"input-date-from"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"To"}),s.jsx(je,{type:"date",value:a,onChange:R=>i(R.target.value),className:"h-9 w-[140px]","data-testid":"input-date-to"})]}),(n||a)&&s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{r(""),i("")},"data-testid":"button-clear-date-filters",children:"Clear dates"})]})]}),s.jsx(ye,{children:s.jsx(Se,{className:"p-6 space-y-4",children:g||v?s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-primary border-t-transparent rounded-full","aria-label":"Loading billing"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Plan"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xl font-semibold","data-testid":"text-plan-name",children:N.planName}),s.jsx($e,{variant:N.planStatus==="active"?"default":"secondary",children:C(N.planStatus)})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[N.price!==null?`${N.currencySymbol}${N.price}/month`:N.hasActiveSubscription?"Custom billing":"Free plan",N.renewalDate&&s.jsxs("span",{className:"ml-2",children:[" Renews ",dt(N.renewalDate,"MMM d, yyyy")]})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"SMS Credits"}),s.jsxs("span",{className:"text-lg font-semibold","data-testid":"text-sms-credits",children:[N.availableCredits.toLocaleString(),N.monthlyCredits?` / ${N.monthlyCredits.toLocaleString()}`:""]})]}),s.jsx(U,{variant:"outline",size:"sm",onClick:()=>l("/billing"),"data-testid":"link-view-billing",children:N.hasActiveSubscription?"Manage Billing":"Set Up Billing"})]})]}),N.usagePercent!==null&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Yf,{value:100-N.usagePercent,className:"h-2"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.usagePercent,"% of monthly credits used"]})]}),!N.hasActiveSubscription&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"You're currently on the free trial. Set up billing to choose a plan."})]})})}),D.length===0&&I.length===0?s.jsx(ye,{id:"tour-job-section",children:s.jsxs(Se,{className:"p-12 text-center",children:[s.jsx(nn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.trim()?s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No jobs found"}),s.jsxs("p",{className:"text-muted-foreground mb-6",children:['No jobs match your search "',e,'". Try different keywords.']}),s.jsx(U,{variant:"outline",onClick:()=>t(""),"data-testid":"button-clear-search",children:"Clear Search"})]}):s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No jobs yet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first job to start coordinating your crew"}),s.jsx(Ye,{href:"/jobs/new",children:s.jsx("a",{"data-testid":"link-create-first-job",children:s.jsxs(U,{className:"gap-2",children:[s.jsx(Fo,{className:"h-4 w-4"}),"Create Your First Job"]})})})]})]})}):s.jsxs("div",{id:"tour-job-section",className:"space-y-6",children:[D.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Upcoming Jobs"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(R=>s.jsx(ob,{job:R},R.id))})]}),I.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Past Jobs"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map(R=>s.jsx(ob,{job:R},R.id))})]})]})]})}function ob({job:e}){const{toast:t}=St(),[n,r]=h.useState(!1),[a,i]=h.useState(""),o=e.requiredHeadcount?Math.round(e.availabilityCounts.confirmed/e.requiredHeadcount*100):0,l=new Date(e.endTime)<=new Date,c=tt({mutationFn:async()=>await rt("DELETE",`/api/jobs/${e.id}`),onSuccess:async()=>{await Ee.invalidateQueries({queryKey:["/api/jobs"]}),t({title:"Job deleted successfully"}),r(!1),i("")},onError:u=>{t({title:"Failed to delete job",description:u.message||"Could not delete job",variant:"destructive"})}}),d=()=>{a.toLowerCase()==="heyteam"&&c.mutate()};return s.jsxs(ye,{className:"hover-elevate","data-testid":`card-job-${e.id}`,children:[s.jsxs(ct,{className:"space-y-0 pb-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h3",{className:"font-semibold text-lg line-clamp-2","data-testid":`text-job-name-${e.id}`,children:e.name}),l&&s.jsx($e,{variant:"secondary",children:"Past"})]}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mt-2",children:[s.jsx(Ni,{className:"h-3.5 w-3.5"}),s.jsx("span",{className:"line-clamp-1",children:e.location})]})]}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(va,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:dt(new Date(e.startTime),"MMM d, h:mm a")})]}),e.requiredHeadcount&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Si,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"font-medium","data-testid":`text-fill-${e.id}`,children:[e.availabilityCounts.confirmed,"/",e.requiredHeadcount]})]}),s.jsxs("span",{className:"text-muted-foreground",children:[o,"%"]})]}),s.jsx(Yf,{value:o,className:"h-2"})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs($e,{variant:"secondary",className:"text-xs",children:[s.jsx("span",{className:"text-chart-2",children:e.availabilityCounts.confirmed}),s.jsx("span",{children:"Confirmed"})]}),e.availabilityCounts.maybe>0&&s.jsxs($e,{variant:"secondary",className:"text-xs",children:[s.jsx("span",{className:"text-chart-3",children:e.availabilityCounts.maybe}),s.jsx("span",{children:"Maybe"})]}),e.availabilityCounts.declined>0&&s.jsxs($e,{variant:"secondary",className:"text-xs",children:[s.jsx("span",{className:"text-chart-4",children:e.availabilityCounts.declined}),s.jsx("span",{children:"Declined"})]}),e.availabilityCounts.noReply>0&&s.jsx($e,{variant:"secondary",className:"text-xs",children:s.jsxs("span",{children:[e.availabilityCounts.noReply,"No Reply"]})})]})]}),s.jsxs(fv,{className:"flex gap-2 flex-wrap pt-4 border-t",children:[s.jsx(Ye,{href:`/jobs/${e.id}/schedule`,children:s.jsx("a",{className:"flex-1","data-testid":`link-view-roster-${e.id}`,children:s.jsx(U,{variant:"default",size:"sm",className:"w-full",children:"View Schedule"})})}),s.jsx(Ye,{href:`/jobs/${e.id}/edit`,children:s.jsx("a",{"data-testid":`link-edit-job-${e.id}`,children:s.jsx(U,{variant:"outline",size:"sm",children:"Edit"})})}),s.jsxs(tE,{open:n,onOpenChange:r,children:[s.jsx(nE,{asChild:!0,children:s.jsx(U,{variant:"outline",size:"sm",className:"gap-1","data-testid":`button-delete-job-${e.id}`,children:s.jsx(Tf,{className:"h-3.5 w-3.5"})})}),s.jsxs(pv,{children:[s.jsxs(gv,{children:[s.jsx(vv,{children:"Delete Job"}),s.jsxs(yv,{className:"space-y-4",children:[s.jsxs("p",{children:["This will permanently delete the job ",s.jsx("strong",{children:e.name})," and all associated data including availability responses and assignments."]}),s.jsxs("p",{children:["To confirm deletion, please type ",s.jsx("strong",{children:"heyteam"})," below:"]}),s.jsx(je,{value:a,onChange:u=>i(u.target.value),placeholder:"Type heyteam to confirm","data-testid":`input-delete-confirmation-${e.id}`})]})]}),s.jsxs(xv,{children:[s.jsx(bv,{onClick:()=>i(""),"data-testid":`button-cancel-delete-${e.id}`,children:"Cancel"}),s.jsx(wv,{onClick:d,disabled:a.toLowerCase()!=="heyteam"||c.isPending,className:"bg-destructive hover:bg-destructive/90","data-testid":`button-confirm-delete-${e.id}`,children:c.isPending?"Deleting...":"Delete Job"})]})]})]})]})]})}var Qc=e=>e.type==="checkbox",Ba=e=>e instanceof Date,kn=e=>e==null;const SE=e=>typeof e=="object";var $t=e=>!kn(e)&&!Array.isArray(e)&&SE(e)&&!Ba(e),CE=e=>$t(e)&&e.target?Qc(e.target)?e.target.checked:e.target.value:e,vV=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,kE=(e,t)=>e.has(vV(t)),yV=e=>{const t=e.constructor&&e.constructor.prototype;return $t(t)&&t.hasOwnProperty("isPrototypeOf")},Nv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _t(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Nv&&(e instanceof Blob||r))&&(n||$t(e)))if(t=n?[]:{},!n&&!yV(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=_t(e[a]));else return e;return t}var Gc=e=>Array.isArray(e)?e.filter(Boolean):[],bt=e=>e===void 0,ne=(e,t,n)=>{if(!t||!$t(e))return n;const r=Gc(t.split(/[,[\].]+?/)).reduce((a,i)=>kn(a)?a:a[i],e);return bt(r)||r===e?bt(e[t])?n:e[t]:r},qn=e=>typeof e=="boolean",Sv=e=>/^\w*$/.test(e),_E=e=>Gc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),lt=(e,t,n)=>{let r=-1;const a=Sv(t)?[t]:_E(t),i=a.length,o=i-1;for(;++r<i;){const l=a[r];let c=n;if(r!==o){const d=e[l];c=$t(d)||Array.isArray(d)?d:isNaN(+a[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Bu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ur={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ls={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},PE=G.createContext(null),Yc=()=>G.useContext(PE),wV=e=>{const{children:t,...n}=e;return G.createElement(PE.Provider,{value:n},t)};var EE=(e,t,n,r=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ur.all&&(t._proxyFormState[o]=!r||ur.all),n&&(n[o]=!0),e[o]}});return a};function bV(e){const t=Yc(),{control:n=t.control,disabled:r,name:a,exact:i}=e||{},[o,l]=G.useState(n._formState),c=G.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=G.useRef(a);return d.current=a,G.useEffect(()=>n._subscribe({name:d.current,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[n,r,i]),G.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),G.useMemo(()=>EE(o,n,c.current,!1),[o,n])}var Yr=e=>typeof e=="string",TE=(e,t,n,r,a)=>Yr(e)?(r&&t.watch.add(e),ne(n,e,a)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),ne(n,i))):(r&&(t.watchAll=!0),n);function jV(e){const t=Yc(),{control:n=t.control,name:r,defaultValue:a,disabled:i,exact:o}=e||{},l=G.useRef(r),c=G.useRef(a);l.current=r,G.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!i&&u(TE(l.current,n._names,f.values||n._formValues,!1,c.current))}),[n,i,o]);const[d,u]=G.useState(n._getWatch(r,a));return G.useEffect(()=>n._removeUnmounted()),d}function NV(e){const t=Yc(),{name:n,disabled:r,control:a=t.control,shouldUnregister:i}=e,o=kE(a._names.array,n),l=jV({control:a,name:n,defaultValue:ne(a._formValues,n,ne(a._defaultValues,n,e.defaultValue)),exact:!0}),c=bV({control:a,name:n,exact:!0}),d=G.useRef(e),u=G.useRef(a.register(n,{...e.rules,value:l,...qn(e.disabled)?{disabled:e.disabled}:{}})),f=G.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ne(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!ne(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ne(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ne(c.validatingFields,n)},error:{enumerable:!0,get:()=>ne(c.errors,n)}}),[c,n]),m=G.useCallback(w=>u.current.onChange({target:{value:CE(w),name:n},type:Bu.CHANGE}),[n]),p=G.useCallback(()=>u.current.onBlur({target:{value:ne(a._formValues,n),name:n},type:Bu.BLUR}),[n,a._formValues]),y=G.useCallback(w=>{const v=ne(a._fields,n);v&&w&&(v._f.ref={focus:()=>w.focus(),select:()=>w.select(),setCustomValidity:x=>w.setCustomValidity(x),reportValidity:()=>w.reportValidity()})},[a._fields,n]),g=G.useMemo(()=>({name:n,value:l,...qn(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:m,onBlur:p,ref:y}),[n,r,c.disabled,m,p,y,l]);return G.useEffect(()=>{const w=a._options.shouldUnregister||i;a.register(n,{...d.current.rules,...qn(d.current.disabled)?{disabled:d.current.disabled}:{}});const v=(x,b)=>{const N=ne(a._fields,x);N&&N._f&&(N._f.mount=b)};if(v(n,!0),w){const x=_t(ne(a._options.defaultValues,n));lt(a._defaultValues,n,x),bt(ne(a._formValues,n))&&lt(a._formValues,n,x)}return!o&&a.register(n),()=>{(o?w&&!a._state.action:w)?a.unregister(n):v(n,!1)}},[n,a,o,i]),G.useEffect(()=>{a._setDisabledField({disabled:r,name:n})},[r,n,a]),G.useMemo(()=>({field:g,formState:c,fieldState:f}),[g,c,f])}const SV=e=>e.render(NV(e));var ME=(e,t,n,r,a)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:a||!0}}:{},Fn=e=>Array.isArray(e)?e:[e],lb=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Kp=e=>kn(e)||!SE(e);function qs(e,t){if(Kp(e)||Kp(t))return e===t;if(Ba(e)&&Ba(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const a of n){const i=e[a];if(!r.includes(a))return!1;if(a!=="ref"){const o=t[a];if(Ba(i)&&Ba(o)||$t(i)&&$t(o)||Array.isArray(i)&&Array.isArray(o)?!qs(i,o):i!==o)return!1}}return!0}var xn=e=>$t(e)&&!Object.keys(e).length,Cv=e=>e.type==="file",Cr=e=>typeof e=="function",Hu=e=>{if(!Nv)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},RE=e=>e.type==="select-multiple",kv=e=>e.type==="radio",CV=e=>kv(e)||Qc(e),nh=e=>Hu(e)&&e.isConnected;function kV(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=bt(e)?r++:e[t[r++]];return e}function _V(e){for(const t in e)if(e.hasOwnProperty(t)&&!bt(e[t]))return!1;return!0}function Bt(e,t){const n=Array.isArray(t)?t:Sv(t)?[t]:_E(t),r=n.length===1?e:kV(e,n),a=n.length-1,i=n[a];return r&&delete r[i],a!==0&&($t(r)&&xn(r)||Array.isArray(r)&&_V(r))&&Bt(e,n.slice(0,-1)),e}var AE=e=>{for(const t in e)if(Cr(e[t]))return!0;return!1};function qu(e,t={}){const n=Array.isArray(e);if($t(e)||n)for(const r in e)Array.isArray(e[r])||$t(e[r])&&!AE(e[r])?(t[r]=Array.isArray(e[r])?[]:{},qu(e[r],t[r])):kn(e[r])||(t[r]=!0);return t}function IE(e,t,n){const r=Array.isArray(e);if($t(e)||r)for(const a in e)Array.isArray(e[a])||$t(e[a])&&!AE(e[a])?bt(t)||Kp(n[a])?n[a]=Array.isArray(e[a])?qu(e[a],[]):{...qu(e[a])}:IE(e[a],kn(t)?{}:t[a],n[a]):n[a]=!qs(e[a],t[a]);return n}var gl=(e,t)=>IE(e,t,qu(t));const cb={value:!1,isValid:!1},db={value:!0,isValid:!0};var DE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!bt(e[0].attributes.value)?bt(e[0].value)||e[0].value===""?db:{value:e[0].value,isValid:!0}:db:cb}return cb},OE=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>bt(e)?e:t?e===""?NaN:e&&+e:n&&Yr(e)?new Date(e):r?r(e):e;const ub={isValid:!1,value:null};var LE=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,ub):ub;function fb(e){const t=e.ref;return Cv(t)?t.files:kv(t)?LE(e.refs).value:RE(t)?[...t.selectedOptions].map(({value:n})=>n):Qc(t)?DE(e.refs).value:OE(bt(t.value)?e.ref.value:t.value,e)}var PV=(e,t,n,r)=>{const a={};for(const i of e){const o=ne(t,i);o&&lt(a,i,o._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:r}},Wu=e=>e instanceof RegExp,xl=e=>bt(e)?e:Wu(e)?e.source:$t(e)?Wu(e.value)?e.value.source:e.value:e,Yi=e=>({isOnSubmit:!e||e===ur.onSubmit,isOnBlur:e===ur.onBlur,isOnChange:e===ur.onChange,isOnAll:e===ur.all,isOnTouch:e===ur.onTouched});const mb="AsyncFunction";var EV=e=>!!e&&!!e.validate&&!!(Cr(e.validate)&&e.validate.constructor.name===mb||$t(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===mb)),TV=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Qp=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const co=(e,t,n,r)=>{for(const a of n||Object.keys(e)){const i=ne(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(co(l,t))break}else if($t(l)&&co(l,t))break}}};function hb(e,t,n){const r=ne(e,n);if(r||Sv(n))return{error:r,name:n};const a=n.split(".");for(;a.length;){const i=a.join("."),o=ne(t,i),l=ne(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:n}}var MV=(e,t,n,r)=>{n(e);const{name:a,...i}=e;return xn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||ur.all))},RV=(e,t,n)=>!e||!t||e===t||Fn(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),AV=(e,t,n,r,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?r.isOnBlur:a.isOnBlur)?!e:(n?r.isOnChange:a.isOnChange)?e:!0,IV=(e,t)=>!Gc(ne(e,t)).length&&Bt(e,t),FE=(e,t,n)=>{const r=Fn(ne(e,n));return lt(r,"root",t[n]),lt(e,n,r),e},Zd=e=>Yr(e);function pb(e,t,n="validate"){if(Zd(e)||Array.isArray(e)&&e.every(Zd)||qn(e)&&!e)return{type:n,message:Zd(e)?e:"",ref:t}}var Ii=e=>$t(e)&&!Wu(e)?e:{value:e,message:""},Gp=async(e,t,n,r,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:f,max:m,pattern:p,validate:y,name:g,valueAsNumber:w,mount:v}=e._f,x=ne(n,g);if(!v||t.has(g))return{};const b=l?l[0]:o,N=I=>{a&&b.reportValidity&&(b.setCustomValidity(qn(I)?"":I||""),b.reportValidity())},C={},P=kv(o),S=Qc(o),E=P||S,O=(w||Cv(o))&&bt(o.value)&&bt(x)||Hu(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,j=ME.bind(null,g,r,C),D=(I,R,F,k=ls.maxLength,T=ls.minLength)=>{const B=I?R:F;C[g]={type:I?k:T,message:B,ref:o,...j(I?k:T,B)}};if(i?!Array.isArray(x)||!x.length:c&&(!E&&(O||kn(x))||qn(x)&&!x||S&&!DE(l).isValid||P&&!LE(l).isValid)){const{value:I,message:R}=Zd(c)?{value:!!c,message:c}:Ii(c);if(I&&(C[g]={type:ls.required,message:R,ref:b,...j(ls.required,R)},!r))return N(R),C}if(!O&&(!kn(f)||!kn(m))){let I,R;const F=Ii(m),k=Ii(f);if(!kn(x)&&!isNaN(x)){const T=o.valueAsNumber||x&&+x;kn(F.value)||(I=T>F.value),kn(k.value)||(R=T<k.value)}else{const T=o.valueAsDate||new Date(x),B=z=>new Date(new Date().toDateString()+" "+z),L=o.type=="time",_=o.type=="week";Yr(F.value)&&x&&(I=L?B(x)>B(F.value):_?x>F.value:T>new Date(F.value)),Yr(k.value)&&x&&(R=L?B(x)<B(k.value):_?x<k.value:T<new Date(k.value))}if((I||R)&&(D(!!I,F.message,k.message,ls.max,ls.min),!r))return N(C[g].message),C}if((d||u)&&!O&&(Yr(x)||i&&Array.isArray(x))){const I=Ii(d),R=Ii(u),F=!kn(I.value)&&x.length>+I.value,k=!kn(R.value)&&x.length<+R.value;if((F||k)&&(D(F,I.message,R.message),!r))return N(C[g].message),C}if(p&&!O&&Yr(x)){const{value:I,message:R}=Ii(p);if(Wu(I)&&!x.match(I)&&(C[g]={type:ls.pattern,message:R,ref:o,...j(ls.pattern,R)},!r))return N(R),C}if(y){if(Cr(y)){const I=await y(x,n),R=pb(I,b);if(R&&(C[g]={...R,...j(ls.validate,R.message)},!r))return N(R.message),C}else if($t(y)){let I={};for(const R in y){if(!xn(I)&&!r)break;const F=pb(await y[R](x,n),b,R);F&&(I={...F,...j(R,F.message)},N(F.message),r&&(C[g]=I))}if(!xn(I)&&(C[g]={ref:b,...I},!r))return C}}return N(!0),C};const DV={mode:ur.onSubmit,reValidateMode:ur.onChange,shouldFocusError:!0};function OV(e={}){let t={...DV,...e},n={submitCount:0,isDirty:!1,isLoading:Cr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let a=$t(t.defaultValues)||$t(t.values)?_t(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:_t(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const m={array:lb(),state:lb()},p=Yi(t.mode),y=Yi(t.reValidateMode),g=t.criteriaMode===ur.all,w=M=>V=>{clearTimeout(d),d=setTimeout(M,V)},v=async M=>{if(!t.disabled&&(u.isValid||f.isValid||M)){const V=t.resolver?xn((await O()).errors):await D(r,!0);V!==n.isValid&&m.state.next({isValid:V})}},x=(M,V)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((M||Array.from(l.mount)).forEach(H=>{H&&(V?lt(n.validatingFields,H,V):Bt(n.validatingFields,H))}),m.state.next({validatingFields:n.validatingFields,isValidating:!xn(n.validatingFields)}))},b=(M,V=[],H,ce,ie=!0,ee=!0)=>{if(ce&&H&&!t.disabled){if(o.action=!0,ee&&Array.isArray(ne(r,M))){const pe=H(ne(r,M),ce.argA,ce.argB);ie&&lt(r,M,pe)}if(ee&&Array.isArray(ne(n.errors,M))){const pe=H(ne(n.errors,M),ce.argA,ce.argB);ie&&lt(n.errors,M,pe),IV(n.errors,M)}if((u.touchedFields||f.touchedFields)&&ee&&Array.isArray(ne(n.touchedFields,M))){const pe=H(ne(n.touchedFields,M),ce.argA,ce.argB);ie&&lt(n.touchedFields,M,pe)}(u.dirtyFields||f.dirtyFields)&&(n.dirtyFields=gl(a,i)),m.state.next({name:M,isDirty:R(M,V),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else lt(i,M,V)},N=(M,V)=>{lt(n.errors,M,V),m.state.next({errors:n.errors})},C=M=>{n.errors=M,m.state.next({errors:n.errors,isValid:!1})},P=(M,V,H,ce)=>{const ie=ne(r,M);if(ie){const ee=ne(i,M,bt(H)?ne(a,M):H);bt(ee)||ce&&ce.defaultChecked||V?lt(i,M,V?ee:fb(ie._f)):T(M,ee),o.mount&&v()}},S=(M,V,H,ce,ie)=>{let ee=!1,pe=!1;const ot={name:M};if(!t.disabled){if(!H||ce){(u.isDirty||f.isDirty)&&(pe=n.isDirty,n.isDirty=ot.isDirty=R(),ee=pe!==ot.isDirty);const Ut=qs(ne(a,M),V);pe=!!ne(n.dirtyFields,M),Ut?Bt(n.dirtyFields,M):lt(n.dirtyFields,M,!0),ot.dirtyFields=n.dirtyFields,ee=ee||(u.dirtyFields||f.dirtyFields)&&pe!==!Ut}if(H){const Ut=ne(n.touchedFields,M);Ut||(lt(n.touchedFields,M,H),ot.touchedFields=n.touchedFields,ee=ee||(u.touchedFields||f.touchedFields)&&Ut!==H)}ee&&ie&&m.state.next(ot)}return ee?ot:{}},E=(M,V,H,ce)=>{const ie=ne(n.errors,M),ee=(u.isValid||f.isValid)&&qn(V)&&n.isValid!==V;if(t.delayError&&H?(c=w(()=>N(M,H)),c(t.delayError)):(clearTimeout(d),c=null,H?lt(n.errors,M,H):Bt(n.errors,M)),(H?!qs(ie,H):ie)||!xn(ce)||ee){const pe={...ce,...ee&&qn(V)?{isValid:V}:{},errors:n.errors,name:M};n={...n,...pe},m.state.next(pe)}},O=async M=>{x(M,!0);const V=await t.resolver(i,t.context,PV(M||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return x(M),V},j=async M=>{const{errors:V}=await O(M);if(M)for(const H of M){const ce=ne(V,H);ce?lt(n.errors,H,ce):Bt(n.errors,H)}else n.errors=V;return V},D=async(M,V,H={valid:!0})=>{for(const ce in M){const ie=M[ce];if(ie){const{_f:ee,...pe}=ie;if(ee){const ot=l.array.has(ee.name),Ut=ie._f&&EV(ie._f);Ut&&u.validatingFields&&x([ce],!0);const mn=await Gp(ie,l.disabled,i,g,t.shouldUseNativeValidation&&!V,ot);if(Ut&&u.validatingFields&&x([ce]),mn[ee.name]&&(H.valid=!1,V))break;!V&&(ne(mn,ee.name)?ot?FE(n.errors,mn,ee.name):lt(n.errors,ee.name,mn[ee.name]):Bt(n.errors,ee.name))}!xn(pe)&&await D(pe,V,H)}}return H.valid},I=()=>{for(const M of l.unMount){const V=ne(r,M);V&&(V._f.refs?V._f.refs.every(H=>!nh(H)):!nh(V._f.ref))&&He(M)}l.unMount=new Set},R=(M,V)=>!t.disabled&&(M&&V&&lt(i,M,V),!qs(ae(),a)),F=(M,V,H)=>TE(M,l,{...o.mount?i:bt(V)?a:Yr(M)?{[M]:V}:V},H,V),k=M=>Gc(ne(o.mount?i:a,M,t.shouldUnregister?ne(a,M,[]):[])),T=(M,V,H={})=>{const ce=ne(r,M);let ie=V;if(ce){const ee=ce._f;ee&&(!ee.disabled&&lt(i,M,OE(V,ee)),ie=Hu(ee.ref)&&kn(V)?"":V,RE(ee.ref)?[...ee.ref.options].forEach(pe=>pe.selected=ie.includes(pe.value)):ee.refs?Qc(ee.ref)?ee.refs.length>1?ee.refs.forEach(pe=>(!pe.defaultChecked||!pe.disabled)&&(pe.checked=Array.isArray(ie)?!!ie.find(ot=>ot===pe.value):ie===pe.value)):ee.refs[0]&&(ee.refs[0].checked=!!ie):ee.refs.forEach(pe=>pe.checked=pe.value===ie):Cv(ee.ref)?ee.ref.value="":(ee.ref.value=ie,ee.ref.type||m.state.next({name:M,values:_t(i)})))}(H.shouldDirty||H.shouldTouch)&&S(M,ie,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&Y(M)},B=(M,V,H)=>{for(const ce in V){const ie=V[ce],ee=`${M}.${ce}`,pe=ne(r,ee);(l.array.has(M)||$t(ie)||pe&&!pe._f)&&!Ba(ie)?B(ee,ie,H):T(ee,ie,H)}},L=(M,V,H={})=>{const ce=ne(r,M),ie=l.array.has(M),ee=_t(V);lt(i,M,ee),ie?(m.array.next({name:M,values:_t(i)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&H.shouldDirty&&m.state.next({name:M,dirtyFields:gl(a,i),isDirty:R(M,ee)})):ce&&!ce._f&&!kn(ee)?B(M,ee,H):T(M,ee,H),Qp(M,l)&&m.state.next({...n}),m.state.next({name:o.mount?M:void 0,values:_t(i)})},_=async M=>{o.mount=!0;const V=M.target;let H=V.name,ce=!0;const ie=ne(r,H),ee=pe=>{ce=Number.isNaN(pe)||Ba(pe)&&isNaN(pe.getTime())||qs(pe,ne(i,H,pe))};if(ie){let pe,ot;const Ut=V.type?fb(ie._f):CE(M),mn=M.type===Bu.BLUR||M.type===Bu.FOCUS_OUT,NA=!TV(ie._f)&&!t.resolver&&!ne(n.errors,H)&&!ie._f.deps||AV(mn,ne(n.touchedFields,H),n.isSubmitted,y,p),sm=Qp(H,l,mn);lt(i,H,Ut),mn?(ie._f.onBlur&&ie._f.onBlur(M),c&&c(0)):ie._f.onChange&&ie._f.onChange(M);const am=S(H,Ut,mn),SA=!xn(am)||sm;if(!mn&&m.state.next({name:H,type:M.type,values:_t(i)}),NA)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?mn&&v():mn||v()),SA&&m.state.next({name:H,...sm?{}:am});if(!mn&&sm&&m.state.next({...n}),t.resolver){const{errors:zv}=await O([H]);if(ee(Ut),ce){const CA=hb(n.errors,r,H),Vv=hb(zv,r,CA.name||H);pe=Vv.error,H=Vv.name,ot=xn(zv)}}else x([H],!0),pe=(await Gp(ie,l.disabled,i,g,t.shouldUseNativeValidation))[H],x([H]),ee(Ut),ce&&(pe?ot=!1:(u.isValid||f.isValid)&&(ot=await D(r,!0)));ce&&(ie._f.deps&&Y(ie._f.deps),E(H,ot,pe,am))}},z=(M,V)=>{if(ne(n.errors,V)&&M.focus)return M.focus(),1},Y=async(M,V={})=>{let H,ce;const ie=Fn(M);if(t.resolver){const ee=await j(bt(M)?M:ie);H=xn(ee),ce=M?!ie.some(pe=>ne(ee,pe)):H}else M?(ce=(await Promise.all(ie.map(async ee=>{const pe=ne(r,ee);return await D(pe&&pe._f?{[ee]:pe}:pe)}))).every(Boolean),!(!ce&&!n.isValid)&&v()):ce=H=await D(r);return m.state.next({...!Yr(M)||(u.isValid||f.isValid)&&H!==n.isValid?{}:{name:M},...t.resolver||!M?{isValid:H}:{},errors:n.errors}),V.shouldFocus&&!ce&&co(r,z,M?ie:l.mount),ce},ae=M=>{const V={...o.mount?i:a};return bt(M)?V:Yr(M)?ne(V,M):M.map(H=>ne(V,H))},Me=(M,V)=>({invalid:!!ne((V||n).errors,M),isDirty:!!ne((V||n).dirtyFields,M),error:ne((V||n).errors,M),isValidating:!!ne(n.validatingFields,M),isTouched:!!ne((V||n).touchedFields,M)}),Ce=M=>{M&&Fn(M).forEach(V=>Bt(n.errors,V)),m.state.next({errors:M?n.errors:{}})},Ke=(M,V,H)=>{const ce=(ne(r,M,{_f:{}})._f||{}).ref,ie=ne(n.errors,M)||{},{ref:ee,message:pe,type:ot,...Ut}=ie;lt(n.errors,M,{...Ut,...V,ref:ce}),m.state.next({name:M,errors:n.errors,isValid:!1}),H&&H.shouldFocus&&ce&&ce.focus&&ce.focus()},De=(M,V)=>Cr(M)?m.state.subscribe({next:H=>M(F(void 0,V),H)}):F(M,V,!0),de=M=>m.state.subscribe({next:V=>{RV(M.name,V.name,M.exact)&&MV(V,M.formState||u,Ct,M.reRenderRoot)&&M.callback({values:{...i},...n,...V})}}).unsubscribe,_e=M=>(o.mount=!0,f={...f,...M.formState},de({...M,formState:f})),He=(M,V={})=>{for(const H of M?Fn(M):l.mount)l.mount.delete(H),l.array.delete(H),V.keepValue||(Bt(r,H),Bt(i,H)),!V.keepError&&Bt(n.errors,H),!V.keepDirty&&Bt(n.dirtyFields,H),!V.keepTouched&&Bt(n.touchedFields,H),!V.keepIsValidating&&Bt(n.validatingFields,H),!t.shouldUnregister&&!V.keepDefaultValue&&Bt(a,H);m.state.next({values:_t(i)}),m.state.next({...n,...V.keepDirty?{isDirty:R()}:{}}),!V.keepIsValid&&v()},Te=({disabled:M,name:V})=>{(qn(M)&&o.mount||M||l.disabled.has(V))&&(M?l.disabled.add(V):l.disabled.delete(V))},W=(M,V={})=>{let H=ne(r,M);const ce=qn(V.disabled)||qn(t.disabled);return lt(r,M,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:M}},name:M,mount:!0,...V}}),l.mount.add(M),H?Te({disabled:qn(V.disabled)?V.disabled:t.disabled,name:M}):P(M,!0,V.value),{...ce?{disabled:V.disabled||t.disabled}:{},...t.progressive?{required:!!V.required,min:xl(V.min),max:xl(V.max),minLength:xl(V.minLength),maxLength:xl(V.maxLength),pattern:xl(V.pattern)}:{},name:M,onChange:_,onBlur:_,ref:ie=>{if(ie){W(M,V),H=ne(r,M);const ee=bt(ie.value)&&ie.querySelectorAll&&ie.querySelectorAll("input,select,textarea")[0]||ie,pe=CV(ee),ot=H._f.refs||[];if(pe?ot.find(Ut=>Ut===ee):ee===H._f.ref)return;lt(r,M,{_f:{...H._f,...pe?{refs:[...ot.filter(nh),ee,...Array.isArray(ne(a,M))?[{}]:[]],ref:{type:ee.type,name:M}}:{ref:ee}}}),P(M,!1,void 0,ee)}else H=ne(r,M,{}),H._f&&(H._f.mount=!1),(t.shouldUnregister||V.shouldUnregister)&&!(kE(l.array,M)&&o.action)&&l.unMount.add(M)}}},Q=()=>t.shouldFocusError&&co(r,z,l.mount),le=M=>{qn(M)&&(m.state.next({disabled:M}),co(r,(V,H)=>{const ce=ne(r,H);ce&&(V.disabled=ce._f.disabled||M,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(ie=>{ie.disabled=ce._f.disabled||M}))},0,!1))},te=(M,V)=>async H=>{let ce;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let ie=_t(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:ee,values:pe}=await O();n.errors=ee,ie=pe}else await D(r);if(l.disabled.size)for(const ee of l.disabled)lt(ie,ee,void 0);if(Bt(n.errors,"root"),xn(n.errors)){m.state.next({errors:{}});try{await M(ie,H)}catch(ee){ce=ee}}else V&&await V({...n.errors},H),Q(),setTimeout(Q);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xn(n.errors)&&!ce,submitCount:n.submitCount+1,errors:n.errors}),ce)throw ce},ve=(M,V={})=>{ne(r,M)&&(bt(V.defaultValue)?L(M,_t(ne(a,M))):(L(M,V.defaultValue),lt(a,M,_t(V.defaultValue))),V.keepTouched||Bt(n.touchedFields,M),V.keepDirty||(Bt(n.dirtyFields,M),n.isDirty=V.defaultValue?R(M,_t(ne(a,M))):R()),V.keepError||(Bt(n.errors,M),u.isValid&&v()),m.state.next({...n}))},qe=(M,V={})=>{const H=M?_t(M):a,ce=_t(H),ie=xn(M),ee=ie?a:ce;if(V.keepDefaultValues||(a=H),!V.keepValues){if(V.keepDirtyValues){const pe=new Set([...l.mount,...Object.keys(gl(a,i))]);for(const ot of Array.from(pe))ne(n.dirtyFields,ot)?lt(ee,ot,ne(i,ot)):L(ot,ne(ee,ot))}else{if(Nv&&bt(M))for(const pe of l.mount){const ot=ne(r,pe);if(ot&&ot._f){const Ut=Array.isArray(ot._f.refs)?ot._f.refs[0]:ot._f.ref;if(Hu(Ut)){const mn=Ut.closest("form");if(mn){mn.reset();break}}}}for(const pe of l.mount)L(pe,ne(ee,pe))}i=_t(ee),m.array.next({values:{...ee}}),m.state.next({values:{...ee}})}l={mount:V.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!V.keepIsValid||!!V.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:V.keepSubmitCount?n.submitCount:0,isDirty:ie?!1:V.keepDirty?n.isDirty:!!(V.keepDefaultValues&&!qs(M,a)),isSubmitted:V.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ie?{}:V.keepDirtyValues?V.keepDefaultValues&&i?gl(a,i):n.dirtyFields:V.keepDefaultValues&&M?gl(a,M):V.keepDirty?n.dirtyFields:{},touchedFields:V.keepTouched?n.touchedFields:{},errors:V.keepErrors?n.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},q=(M,V)=>qe(Cr(M)?M(i):M,V),it=(M,V={})=>{const H=ne(r,M),ce=H&&H._f;if(ce){const ie=ce.refs?ce.refs[0]:ce.ref;ie.focus&&(ie.focus(),V.shouldSelect&&Cr(ie.select)&&ie.select())}},Ct=M=>{n={...n,...M}},Aa={control:{register:W,unregister:He,getFieldState:Me,handleSubmit:te,setError:Ke,_subscribe:de,_runSchema:O,_getWatch:F,_getDirty:R,_setValid:v,_setFieldArray:b,_setDisabledField:Te,_setErrors:C,_getFieldArray:k,_reset:qe,_resetDefaultValues:()=>Cr(t.defaultValues)&&t.defaultValues().then(M=>{q(M,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:le,_subjects:m,_proxyFormState:u,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(M){o=M},get _defaultValues(){return a},get _names(){return l},set _names(M){l=M},get _formState(){return n},get _options(){return t},set _options(M){t={...t,...M}}},subscribe:_e,trigger:Y,register:W,handleSubmit:te,watch:De,setValue:L,getValues:ae,reset:q,resetField:ve,clearErrors:Ce,unregister:He,setError:Ke,setFocus:it,getFieldState:Me};return{...Aa,formControl:Aa}}var Ls=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},rh=(e,t,n={})=>n.shouldFocus||bt(n.shouldFocus)?n.focusName||`${e}.${bt(n.focusIndex)?t:n.focusIndex}.`:"",sh=(e,t)=>[...e,...Fn(t)],ah=e=>Array.isArray(e)?e.map(()=>{}):void 0;function ih(e,t,n){return[...e.slice(0,t),...Fn(n),...e.slice(t)]}var oh=(e,t,n)=>Array.isArray(e)?(bt(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],lh=(e,t)=>[...Fn(t),...Fn(e)];function LV(e,t){let n=0;const r=[...e];for(const a of t)r.splice(a-n,1),n++;return Gc(r).length?r:[]}var ch=(e,t)=>bt(t)?[]:LV(e,Fn(t).sort((n,r)=>n-r)),dh=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]},gb=(e,t,n)=>(e[t]=n,e);function FV(e){const t=Yc(),{control:n=t.control,name:r,keyName:a="id",shouldUnregister:i,rules:o}=e,[l,c]=G.useState(n._getFieldArray(r)),d=G.useRef(n._getFieldArray(r).map(Ls)),u=G.useRef(l),f=G.useRef(r),m=G.useRef(!1);f.current=r,u.current=l,n._names.array.add(r),o&&n.register(r,o),G.useEffect(()=>n._subjects.array.subscribe({next:({values:P,name:S})=>{if(S===f.current||!S){const E=ne(P,f.current);Array.isArray(E)&&(c(E),d.current=E.map(Ls))}}}).unsubscribe,[n]);const p=G.useCallback(P=>{m.current=!0,n._setFieldArray(r,P)},[n,r]),y=(P,S)=>{const E=Fn(_t(P)),O=sh(n._getFieldArray(r),E);n._names.focus=rh(r,O.length-1,S),d.current=sh(d.current,E.map(Ls)),p(O),c(O),n._setFieldArray(r,O,sh,{argA:ah(P)})},g=(P,S)=>{const E=Fn(_t(P)),O=lh(n._getFieldArray(r),E);n._names.focus=rh(r,0,S),d.current=lh(d.current,E.map(Ls)),p(O),c(O),n._setFieldArray(r,O,lh,{argA:ah(P)})},w=P=>{const S=ch(n._getFieldArray(r),P);d.current=ch(d.current,P),p(S),c(S),!Array.isArray(ne(n._fields,r))&&lt(n._fields,r,void 0),n._setFieldArray(r,S,ch,{argA:P})},v=(P,S,E)=>{const O=Fn(_t(S)),j=ih(n._getFieldArray(r),P,O);n._names.focus=rh(r,P,E),d.current=ih(d.current,P,O.map(Ls)),p(j),c(j),n._setFieldArray(r,j,ih,{argA:P,argB:ah(S)})},x=(P,S)=>{const E=n._getFieldArray(r);dh(E,P,S),dh(d.current,P,S),p(E),c(E),n._setFieldArray(r,E,dh,{argA:P,argB:S},!1)},b=(P,S)=>{const E=n._getFieldArray(r);oh(E,P,S),oh(d.current,P,S),p(E),c(E),n._setFieldArray(r,E,oh,{argA:P,argB:S},!1)},N=(P,S)=>{const E=_t(S),O=gb(n._getFieldArray(r),P,E);d.current=[...O].map((j,D)=>!j||D===P?Ls():d.current[D]),p(O),c([...O]),n._setFieldArray(r,O,gb,{argA:P,argB:E},!0,!1)},C=P=>{const S=Fn(_t(P));d.current=S.map(Ls),p([...S]),c([...S]),n._setFieldArray(r,[...S],E=>E,{},!0,!1)};return G.useEffect(()=>{if(n._state.action=!1,Qp(r,n._names)&&n._subjects.state.next({...n._formState}),m.current&&(!Yi(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!Yi(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([r]).then(P=>{const S=ne(P.errors,r),E=ne(n._formState.errors,r);(E?!S&&E.type||S&&(E.type!==S.type||E.message!==S.message):S&&S.type)&&(S?lt(n._formState.errors,r,S):Bt(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const P=ne(n._fields,r);P&&P._f&&!(Yi(n._options.reValidateMode).isOnSubmit&&Yi(n._options.mode).isOnSubmit)&&Gp(P,n._names.disabled,n._formValues,n._options.criteriaMode===ur.all,n._options.shouldUseNativeValidation,!0).then(S=>!xn(S)&&n._subjects.state.next({errors:FE(n._formState.errors,S,r)}))}n._subjects.state.next({name:r,values:_t(n._formValues)}),n._names.focus&&co(n._fields,(P,S)=>{if(n._names.focus&&S.startsWith(n._names.focus)&&P.focus)return P.focus(),1}),n._names.focus="",n._setValid(),m.current=!1},[l,r,n]),G.useEffect(()=>(!ne(n._formValues,r)&&n._setFieldArray(r),()=>{const P=(S,E)=>{const O=ne(n._fields,S);O&&O._f&&(O._f.mount=E)};n._options.shouldUnregister||i?n.unregister(r):P(r,!1)}),[r,n,a,i]),{swap:G.useCallback(x,[p,r,n]),move:G.useCallback(b,[p,r,n]),prepend:G.useCallback(g,[p,r,n]),append:G.useCallback(y,[p,r,n]),remove:G.useCallback(w,[p,r,n]),insert:G.useCallback(v,[p,r,n]),update:G.useCallback(N,[p,r,n]),replace:G.useCallback(C,[p,r,n]),fields:G.useMemo(()=>l.map((P,S)=>({...P,[a]:d.current[S]||Ls()})),[l,a])}}function ua(e={}){const t=G.useRef(void 0),n=G.useRef(void 0),[r,a]=G.useState({isDirty:!1,isValidating:!1,isLoading:Cr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Cr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:OV(e),formState:r},e.formControl&&e.defaultValues&&!Cr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,G.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),G.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),G.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),G.useEffect(()=>{e.values&&!qs(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),G.useEffect(()=>{e.errors&&!xn(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),G.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),G.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=EE(r,i),t.current}const xb=(e,t,n)=>{if(e&&"reportValidity"in e){const r=ne(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},$E=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?xb(r.ref,n,e):r.refs&&r.refs.forEach(a=>xb(a,n,e))}},$V=(e,t)=>{t.shouldUseNativeValidation&&$E(e,t);const n={};for(const r in e){const a=ne(t.fields,r),i=Object.assign(e[r]||{},{ref:a&&a.ref});if(zV(t.names||Object.keys(e),r)){const o=Object.assign({},ne(n,r));lt(o,"root",i),lt(n,r,o)}else lt(n,r,i)}return n},zV=(e,t)=>e.some(n=>n.startsWith(t+"."));var VV=function(e,t){for(var n={};e.length;){var r=e[0],a=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:a};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=n[o].types,d=c&&c[r.code];n[o]=ME(o,t,n,a,d?[].concat(d,r.message):r.message)}e.shift()}return n},fa=function(e,t,n){return n===void 0&&(n={}),function(r,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(d){return i.shouldUseNativeValidation&&$E({},i),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:$V(VV(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},UV="Label",zE=h.forwardRef((e,t)=>s.jsx(Ne.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));zE.displayName=UV;var VE=zE;const BV=Yo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ot=h.forwardRef(({className:e,...t},n)=>s.jsx(VE,{ref:n,className:K(BV(),e),...t}));Ot.displayName=VE.displayName;const ma=wV,UE=h.createContext({}),ze=({...e})=>s.jsx(UE.Provider,{value:{name:e.name},children:s.jsx(SV,{...e})}),Zf=()=>{const e=h.useContext(UE),t=h.useContext(BE),{getFieldState:n,formState:r}=Yc(),a=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},BE=h.createContext({}),Le=h.forwardRef(({className:e,...t},n)=>{const r=h.useId();return s.jsx(BE.Provider,{value:{id:r},children:s.jsx("div",{ref:n,className:K("space-y-2",e),...t})})});Le.displayName="FormItem";const Fe=h.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:a}=Zf();return s.jsx(Ot,{ref:n,className:K(r&&"text-destructive",e),htmlFor:a,...t})});Fe.displayName="FormLabel";const Oe=h.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:a,formMessageId:i}=Zf();return s.jsx(gx,{ref:t,id:r,"aria-describedby":n?`${a} ${i}`:`${a}`,"aria-invalid":!!n,...e})});Oe.displayName="FormControl";const ar=h.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=Zf();return s.jsx("p",{ref:n,id:r,className:K("text-sm text-muted-foreground",e),...t})});ar.displayName="FormDescription";const Ve=h.forwardRef(({className:e,children:t,...n},r)=>{const{error:a,formMessageId:i}=Zf(),o=a?String((a==null?void 0:a.message)??""):t;return o?s.jsx("p",{ref:r,id:i,className:K("text-sm font-medium text-destructive",e),...n,children:o}):null});Ve.displayName="FormMessage";var nt;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(nt||(nt={}));var Yp;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Yp||(Yp={}));const fe=nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ms=e=>{switch(typeof e){case"undefined":return fe.undefined;case"string":return fe.string;case"number":return isNaN(e)?fe.nan:fe.number;case"boolean":return fe.boolean;case"function":return fe.function;case"bigint":return fe.bigint;case"symbol":return fe.symbol;case"object":return Array.isArray(e)?fe.array:e===null?fe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?fe.promise:typeof Map<"u"&&e instanceof Map?fe.map:typeof Set<"u"&&e instanceof Set?fe.set:typeof Date<"u"&&e instanceof Date?fe.date:fe.object;default:return fe.unknown}},J=nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),HV=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Jn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),r}static assert(t){if(!(t instanceof Jn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Jn.create=e=>new Jn(e);const Vo=(e,t)=>{let n;switch(e.code){case J.invalid_type:e.received===fe.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case J.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,nt.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:n=`Unrecognized key(s) in object: ${nt.joinValues(e.keys,", ")}`;break;case J.invalid_union:n="Invalid input";break;case J.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${nt.joinValues(e.options)}`;break;case J.invalid_enum_value:n=`Invalid enum value. Expected ${nt.joinValues(e.options)}, received '${e.received}'`;break;case J.invalid_arguments:n="Invalid function arguments";break;case J.invalid_return_type:n="Invalid function return type";break;case J.invalid_date:n="Invalid date";break;case J.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:nt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case J.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case J.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case J.custom:n="Invalid input";break;case J.invalid_intersection_types:n="Intersection results could not be merged";break;case J.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case J.not_finite:n="Number must be finite";break;default:n=t.defaultError,nt.assertNever(e)}return{message:n}};let HE=Vo;function qV(e){HE=e}function Ku(){return HE}const Qu=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},WV=[];function oe(e,t){const n=Ku(),r=Qu({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Vo?void 0:Vo].filter(a=>!!a)});e.common.issues.push(r)}class jn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const a of n){if(a.status==="aborted")return Ae;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const a of n){const i=await a.key,o=await a.value;r.push({key:i,value:o})}return jn.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const a of n){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Ae;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(r[i.value]=o.value)}return{status:t.value,value:r}}}const Ae=Object.freeze({status:"aborted"}),Zi=e=>({status:"dirty",value:e}),En=e=>({status:"valid",value:e}),Zp=e=>e.status==="aborted",Jp=e=>e.status==="dirty",gi=e=>e.status==="valid",mc=e=>typeof Promise<"u"&&e instanceof Promise;function Gu(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function qE(e,t,n,r,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var xe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(xe||(xe={}));var kl,_l;class ss{constructor(t,n,r,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const vb=(e,t)=>{if(gi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Jn(e.common.issues);return this._error=n,this._error}}};function Ue(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??n)!==null&&d!==void 0?d:l.defaultError}},description:a}}class Ge{get description(){return this._def.description}_getType(t){return ms(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ms(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new jn,ctx:{common:t.parent.common,data:t.data,parsedType:ms(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(mc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const a={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ms(t)},i=this._parseSync({data:t,path:a.path,parent:a});return vb(a,i)}"~validate"(t){var n,r;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ms(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return gi(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>gi(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ms(t)},a=this._parse({data:t,path:r.path,parent:r}),i=await(mc(a)?a:Promise.resolve(a));return vb(r,i)}refine(t,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:J.custom,...r(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,a)=>t(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(t){return new Fr({schema:this,typeName:Re.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ts.create(this,this._def)}nullable(){return ka.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mr.create(this)}promise(){return Bo.create(this,this._def)}or(t){return xc.create([this,t],this._def)}and(t){return vc.create(this,t,this._def)}transform(t){return new Fr({...Ue(this._def),schema:this,typeName:Re.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Nc({...Ue(this._def),innerType:this,defaultValue:n,typeName:Re.ZodDefault})}brand(){return new _v({typeName:Re.ZodBranded,type:this,...Ue(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Sc({...Ue(this._def),innerType:this,catchValue:n,typeName:Re.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Zc.create(this,t)}readonly(){return Cc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const KV=/^c[^\s-]{8,}$/i,QV=/^[0-9a-z]+$/,GV=/^[0-9A-HJKMNP-TV-Z]{26}$/i,YV=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ZV=/^[a-z0-9_-]{21}$/i,JV=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,XV=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,eU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,tU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let uh;const nU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,aU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,iU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,WE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",lU=new RegExp(`^${WE}$`);function KE(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function cU(e){return new RegExp(`^${KE(e)}$`)}function QE(e){let t=`${WE}T${KE(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function dU(e,t){return!!((t==="v4"||!t)&&nU.test(e)||(t==="v6"||!t)&&sU.test(e))}function uU(e,t){if(!JV.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function fU(e,t){return!!((t==="v4"||!t)&&rU.test(e)||(t==="v6"||!t)&&aU.test(e))}class kr extends Ge{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==fe.string){const i=this._getOrReturnCtx(t);return oe(i,{code:J.invalid_type,expected:fe.string,received:i.parsedType}),Ae}const r=new jn;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),oe(a,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),oe(a,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?oe(a,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&oe(a,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")eU.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"email",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")uh||(uh=new RegExp(tU,"u")),uh.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"emoji",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")YV.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"uuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")ZV.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"nanoid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")KV.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"cuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")QV.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"cuid2",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")GV.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"ulid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),oe(a,{validation:"url",code:J.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"regex",code:J.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),oe(a,{code:J.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),oe(a,{code:J.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),oe(a,{code:J.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?QE(i).test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{code:J.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?lU.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{code:J.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?cU(i).test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{code:J.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?XV.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"duration",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?dU(t.data,i.version)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"ip",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?uU(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"jwt",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?fU(t.data,i.version)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"cidr",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?iU.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"base64",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?oU.test(t.data)||(a=this._getOrReturnCtx(t,a),oe(a,{validation:"base64url",code:J.invalid_string,message:i.message}),r.dirty()):nt.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(a=>t.test(a),{validation:n,code:J.invalid_string,...xe.errToObj(r)})}_addCheck(t){return new kr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...xe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...xe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...xe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...xe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...xe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...xe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...xe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...xe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...xe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...xe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...xe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...xe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...xe.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...xe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...xe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...xe.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...xe.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...xe.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...xe.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...xe.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...xe.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...xe.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...xe.errToObj(n)})}nonempty(t){return this.min(1,xe.errToObj(t))}trim(){return new kr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new kr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new kr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}kr.create=e=>{var t;return new kr({checks:[],typeName:Re.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ue(e)})};function mU(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Na extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==fe.number){const i=this._getOrReturnCtx(t);return oe(i,{code:J.invalid_type,expected:fe.number,received:i.parsedType}),Ae}let r;const a=new jn;for(const i of this._def.checks)i.kind==="int"?nt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),oe(r,{code:J.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),oe(r,{code:J.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),oe(r,{code:J.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?mU(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),oe(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),oe(r,{code:J.not_finite,message:i.message}),a.dirty()):nt.assertNever(i);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,xe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,xe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,xe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,xe.toString(n))}setLimit(t,n,r,a){return new Na({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:xe.toString(a)}]})}_addCheck(t){return new Na({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:xe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:xe.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:xe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&nt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Na.create=e=>new Na({checks:[],typeName:Re.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ue(e)});class Sa extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==fe.bigint)return this._getInvalidInput(t);let r;const a=new jn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),oe(r,{code:J.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),oe(r,{code:J.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),oe(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):nt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return oe(n,{code:J.invalid_type,expected:fe.bigint,received:n.parsedType}),Ae}gte(t,n){return this.setLimit("min",t,!0,xe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,xe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,xe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,xe.toString(n))}setLimit(t,n,r,a){return new Sa({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:xe.toString(a)}]})}_addCheck(t){return new Sa({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:xe.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Sa.create=e=>{var t;return new Sa({checks:[],typeName:Re.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ue(e)})};class hc extends Ge{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==fe.boolean){const r=this._getOrReturnCtx(t);return oe(r,{code:J.invalid_type,expected:fe.boolean,received:r.parsedType}),Ae}return En(t.data)}}hc.create=e=>new hc({typeName:Re.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ue(e)});class xi extends Ge{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==fe.date){const i=this._getOrReturnCtx(t);return oe(i,{code:J.invalid_type,expected:fe.date,received:i.parsedType}),Ae}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return oe(i,{code:J.invalid_date}),Ae}const r=new jn;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),oe(a,{code:J.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),oe(a,{code:J.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):nt.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new xi({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:xe.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:xe.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}xi.create=e=>new xi({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Re.ZodDate,...Ue(e)});class Yu extends Ge{_parse(t){if(this._getType(t)!==fe.symbol){const r=this._getOrReturnCtx(t);return oe(r,{code:J.invalid_type,expected:fe.symbol,received:r.parsedType}),Ae}return En(t.data)}}Yu.create=e=>new Yu({typeName:Re.ZodSymbol,...Ue(e)});class pc extends Ge{_parse(t){if(this._getType(t)!==fe.undefined){const r=this._getOrReturnCtx(t);return oe(r,{code:J.invalid_type,expected:fe.undefined,received:r.parsedType}),Ae}return En(t.data)}}pc.create=e=>new pc({typeName:Re.ZodUndefined,...Ue(e)});class gc extends Ge{_parse(t){if(this._getType(t)!==fe.null){const r=this._getOrReturnCtx(t);return oe(r,{code:J.invalid_type,expected:fe.null,received:r.parsedType}),Ae}return En(t.data)}}gc.create=e=>new gc({typeName:Re.ZodNull,...Ue(e)});class Uo extends Ge{constructor(){super(...arguments),this._any=!0}_parse(t){return En(t.data)}}Uo.create=e=>new Uo({typeName:Re.ZodAny,...Ue(e)});class ni extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(t){return En(t.data)}}ni.create=e=>new ni({typeName:Re.ZodUnknown,...Ue(e)});class Ts extends Ge{_parse(t){const n=this._getOrReturnCtx(t);return oe(n,{code:J.invalid_type,expected:fe.never,received:n.parsedType}),Ae}}Ts.create=e=>new Ts({typeName:Re.ZodNever,...Ue(e)});class Zu extends Ge{_parse(t){if(this._getType(t)!==fe.undefined){const r=this._getOrReturnCtx(t);return oe(r,{code:J.invalid_type,expected:fe.void,received:r.parsedType}),Ae}return En(t.data)}}Zu.create=e=>new Zu({typeName:Re.ZodVoid,...Ue(e)});class Mr extends Ge{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),a=this._def;if(n.parsedType!==fe.array)return oe(n,{code:J.invalid_type,expected:fe.array,received:n.parsedType}),Ae;if(a.exactLength!==null){const o=n.data.length>a.exactLength.value,l=n.data.length<a.exactLength.value;(o||l)&&(oe(n,{code:o?J.too_big:J.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(oe(n,{code:J.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(oe(n,{code:J.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>a.type._parseAsync(new ss(n,o,n.path,l)))).then(o=>jn.mergeArray(r,o));const i=[...n.data].map((o,l)=>a.type._parseSync(new ss(n,o,n.path,l)));return jn.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new Mr({...this._def,minLength:{value:t,message:xe.toString(n)}})}max(t,n){return new Mr({...this._def,maxLength:{value:t,message:xe.toString(n)}})}length(t,n){return new Mr({...this._def,exactLength:{value:t,message:xe.toString(n)}})}nonempty(t){return this.min(1,t)}}Mr.create=(e,t)=>new Mr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Re.ZodArray,...Ue(t)});function Oi(e){if(e instanceof Et){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=ts.create(Oi(r))}return new Et({...e._def,shape:()=>t})}else return e instanceof Mr?new Mr({...e._def,type:Oi(e.element)}):e instanceof ts?ts.create(Oi(e.unwrap())):e instanceof ka?ka.create(Oi(e.unwrap())):e instanceof as?as.create(e.items.map(t=>Oi(t))):e}class Et extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=nt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==fe.object){const d=this._getOrReturnCtx(t);return oe(d,{code:J.invalid_type,expected:fe.object,received:d.parsedType}),Ae}const{status:r,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ts&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ss(a,f,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Ts){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(oe(a,{code:J.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ss(a,f,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,m=await u.value;d.push({key:f,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>jn.mergeObjectSync(r,d)):jn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return xe.errToObj,new Et({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=xe.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Et({...this._def,unknownKeys:"strip"})}passthrough(){return new Et({...this._def,unknownKeys:"passthrough"})}extend(t){return new Et({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Et({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Re.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Et({...this._def,catchall:t})}pick(t){const n={};return nt.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Et({...this._def,shape:()=>n})}omit(t){const n={};return nt.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Et({...this._def,shape:()=>n})}deepPartial(){return Oi(this)}partial(t){const n={};return nt.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];t&&!t[r]?n[r]=a:n[r]=a.optional()}),new Et({...this._def,shape:()=>n})}required(t){const n={};return nt.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ts;)i=i._def.innerType;n[r]=i}}),new Et({...this._def,shape:()=>n})}keyof(){return GE(nt.objectKeys(this.shape))}}Et.create=(e,t)=>new Et({shape:()=>e,unknownKeys:"strip",catchall:Ts.create(),typeName:Re.ZodObject,...Ue(t)});Et.strictCreate=(e,t)=>new Et({shape:()=>e,unknownKeys:"strict",catchall:Ts.create(),typeName:Re.ZodObject,...Ue(t)});Et.lazycreate=(e,t)=>new Et({shape:e,unknownKeys:"strip",catchall:Ts.create(),typeName:Re.ZodObject,...Ue(t)});class xc extends Ge{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Jn(l.ctx.common.issues));return oe(n,{code:J.invalid_union,unionErrors:o}),Ae}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Jn(c));return oe(n,{code:J.invalid_union,unionErrors:l}),Ae}}get options(){return this._def.options}}xc.create=(e,t)=>new xc({options:e,typeName:Re.ZodUnion,...Ue(t)});const ds=e=>e instanceof wc?ds(e.schema):e instanceof Fr?ds(e.innerType()):e instanceof bc?[e.value]:e instanceof Ca?e.options:e instanceof jc?nt.objectValues(e.enum):e instanceof Nc?ds(e._def.innerType):e instanceof pc?[void 0]:e instanceof gc?[null]:e instanceof ts?[void 0,...ds(e.unwrap())]:e instanceof ka?[null,...ds(e.unwrap())]:e instanceof _v||e instanceof Cc?ds(e.unwrap()):e instanceof Sc?ds(e._def.innerType):[];class Jf extends Ge{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==fe.object)return oe(n,{code:J.invalid_type,expected:fe.object,received:n.parsedType}),Ae;const r=this.discriminator,a=n.data[r],i=this.optionsMap.get(a);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(oe(n,{code:J.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ae)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const a=new Map;for(const i of n){const o=ds(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new Jf({typeName:Re.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:a,...Ue(r)})}}function Xp(e,t){const n=ms(e),r=ms(t);if(e===t)return{valid:!0,data:e};if(n===fe.object&&r===fe.object){const a=nt.objectKeys(t),i=nt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Xp(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===fe.array&&r===fe.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Xp(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===fe.date&&r===fe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class vc extends Ge{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=(i,o)=>{if(Zp(i)||Zp(o))return Ae;const l=Xp(i.value,o.value);return l.valid?((Jp(i)||Jp(o))&&n.dirty(),{status:n.value,value:l.data}):(oe(r,{code:J.invalid_intersection_types}),Ae)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}vc.create=(e,t,n)=>new vc({left:e,right:t,typeName:Re.ZodIntersection,...Ue(n)});class as extends Ge{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==fe.array)return oe(r,{code:J.invalid_type,expected:fe.array,received:r.parsedType}),Ae;if(r.data.length<this._def.items.length)return oe(r,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ae;!this._def.rest&&r.data.length>this._def.items.length&&(oe(r,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ss(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>jn.mergeArray(n,o)):jn.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new as({...this._def,rest:t})}}as.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new as({items:e,typeName:Re.ZodTuple,rest:null,...Ue(t)})};class yc extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==fe.object)return oe(r,{code:J.invalid_type,expected:fe.object,received:r.parsedType}),Ae;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in r.data)a.push({key:i._parse(new ss(r,l,r.path,l)),value:o._parse(new ss(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?jn.mergeObjectAsync(n,a):jn.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Ge?new yc({keyType:t,valueType:n,typeName:Re.ZodRecord,...Ue(r)}):new yc({keyType:kr.create(),valueType:t,typeName:Re.ZodRecord,...Ue(n)})}}class Ju extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==fe.map)return oe(r,{code:J.invalid_type,expected:fe.map,received:r.parsedType}),Ae;const a=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:a._parse(new ss(r,l,r.path,[d,"key"])),value:i._parse(new ss(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Ae;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Ae;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}}}}Ju.create=(e,t,n)=>new Ju({valueType:t,keyType:e,typeName:Re.ZodMap,...Ue(n)});class vi extends Ge{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==fe.set)return oe(r,{code:J.invalid_type,expected:fe.set,received:r.parsedType}),Ae;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(oe(r,{code:J.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(oe(r,{code:J.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Ae;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>i._parse(new ss(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new vi({...this._def,minSize:{value:t,message:xe.toString(n)}})}max(t,n){return new vi({...this._def,maxSize:{value:t,message:xe.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}vi.create=(e,t)=>new vi({valueType:e,minSize:null,maxSize:null,typeName:Re.ZodSet,...Ue(t)});class uo extends Ge{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==fe.function)return oe(n,{code:J.invalid_type,expected:fe.function,received:n.parsedType}),Ae;function r(l,c){return Qu({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ku(),Vo].filter(d=>!!d),issueData:{code:J.invalid_arguments,argumentsError:c}})}function a(l,c){return Qu({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ku(),Vo].filter(d=>!!d),issueData:{code:J.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Bo){const l=this;return En(async function(...c){const d=new Jn([]),u=await l._def.args.parseAsync(c,i).catch(p=>{throw d.addIssue(r(c,p)),d}),f=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(f,i).catch(p=>{throw d.addIssue(a(f,p)),d})})}else{const l=this;return En(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new Jn([r(c,d.error)]);const u=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(u,i);if(!f.success)throw new Jn([a(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new uo({...this._def,args:as.create(t).rest(ni.create())})}returns(t){return new uo({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new uo({args:t||as.create([]).rest(ni.create()),returns:n||ni.create(),typeName:Re.ZodFunction,...Ue(r)})}}class wc extends Ge{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}wc.create=(e,t)=>new wc({getter:e,typeName:Re.ZodLazy,...Ue(t)});class bc extends Ge{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return oe(n,{received:n.data,code:J.invalid_literal,expected:this._def.value}),Ae}return{status:"valid",value:t.data}}get value(){return this._def.value}}bc.create=(e,t)=>new bc({value:e,typeName:Re.ZodLiteral,...Ue(t)});function GE(e,t){return new Ca({values:e,typeName:Re.ZodEnum,...Ue(t)})}class Ca extends Ge{constructor(){super(...arguments),kl.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return oe(n,{expected:nt.joinValues(r),received:n.parsedType,code:J.invalid_type}),Ae}if(Gu(this,kl)||qE(this,kl,new Set(this._def.values)),!Gu(this,kl).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return oe(n,{received:n.data,code:J.invalid_enum_value,options:r}),Ae}return En(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ca.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ca.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}kl=new WeakMap;Ca.create=GE;class jc extends Ge{constructor(){super(...arguments),_l.set(this,void 0)}_parse(t){const n=nt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==fe.string&&r.parsedType!==fe.number){const a=nt.objectValues(n);return oe(r,{expected:nt.joinValues(a),received:r.parsedType,code:J.invalid_type}),Ae}if(Gu(this,_l)||qE(this,_l,new Set(nt.getValidEnumValues(this._def.values))),!Gu(this,_l).has(t.data)){const a=nt.objectValues(n);return oe(r,{received:r.data,code:J.invalid_enum_value,options:a}),Ae}return En(t.data)}get enum(){return this._def.values}}_l=new WeakMap;jc.create=(e,t)=>new jc({values:e,typeName:Re.ZodNativeEnum,...Ue(t)});class Bo extends Ge{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==fe.promise&&n.common.async===!1)return oe(n,{code:J.invalid_type,expected:fe.promise,received:n.parsedType}),Ae;const r=n.parsedType===fe.promise?n.data:Promise.resolve(n.data);return En(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Bo.create=(e,t)=>new Bo({type:e,typeName:Re.ZodPromise,...Ue(t)});class Fr extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{oe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Ae;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Ae:c.status==="dirty"||n.value==="dirty"?Zi(c.value):c});{if(n.value==="aborted")return Ae;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Ae:l.status==="dirty"||n.value==="dirty"?Zi(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Ae:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Ae:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(a.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!gi(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>gi(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:n.value,value:l})):o);nt.assertNever(a)}}Fr.create=(e,t,n)=>new Fr({schema:e,typeName:Re.ZodEffects,effect:t,...Ue(n)});Fr.createWithPreprocess=(e,t,n)=>new Fr({schema:t,effect:{type:"preprocess",transform:e},typeName:Re.ZodEffects,...Ue(n)});class ts extends Ge{_parse(t){return this._getType(t)===fe.undefined?En(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ts.create=(e,t)=>new ts({innerType:e,typeName:Re.ZodOptional,...Ue(t)});class ka extends Ge{_parse(t){return this._getType(t)===fe.null?En(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ka.create=(e,t)=>new ka({innerType:e,typeName:Re.ZodNullable,...Ue(t)});class Nc extends Ge{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===fe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Nc.create=(e,t)=>new Nc({innerType:e,typeName:Re.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ue(t)});class Sc extends Ge{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return mc(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Jn(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Jn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Sc.create=(e,t)=>new Sc({innerType:e,typeName:Re.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ue(t)});class Xu extends Ge{_parse(t){if(this._getType(t)!==fe.nan){const r=this._getOrReturnCtx(t);return oe(r,{code:J.invalid_type,expected:fe.nan,received:r.parsedType}),Ae}return{status:"valid",value:t.data}}}Xu.create=e=>new Xu({typeName:Re.ZodNaN,...Ue(e)});const hU=Symbol("zod_brand");class _v extends Ge{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Zc extends Ge{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ae:i.status==="dirty"?(n.dirty(),Zi(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ae:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,n){return new Zc({in:t,out:n,typeName:Re.ZodPipeline})}}class Cc extends Ge{_parse(t){const n=this._def.innerType._parse(t),r=a=>(gi(a)&&(a.value=Object.freeze(a.value)),a);return mc(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}Cc.create=(e,t)=>new Cc({innerType:e,typeName:Re.ZodReadonly,...Ue(t)});function yb(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function YE(e,t={},n){return e?Uo.create().superRefine((r,a)=>{var i,o;const l=e(r);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const f=yb(t,r),m=(u=(d=f.fatal)!==null&&d!==void 0?d:n)!==null&&u!==void 0?u:!0;a.addIssue({code:"custom",...f,fatal:m})}});if(!l){const c=yb(t,r),d=(o=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...c,fatal:d})}}):Uo.create()}const pU={object:Et.lazycreate};var Re;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Re||(Re={}));const gU=(e,t={message:`Input not instance of ${e.name}`})=>YE(n=>n instanceof e,t),ZE=kr.create,JE=Na.create,xU=Xu.create,vU=Sa.create,XE=hc.create,yU=xi.create,wU=Yu.create,bU=pc.create,jU=gc.create,NU=Uo.create,SU=ni.create,CU=Ts.create,kU=Zu.create,_U=Mr.create,PU=Et.create,EU=Et.strictCreate,TU=xc.create,MU=Jf.create,RU=vc.create,AU=as.create,IU=yc.create,DU=Ju.create,OU=vi.create,LU=uo.create,FU=wc.create,$U=bc.create,zU=Ca.create,VU=jc.create,UU=Bo.create,wb=Fr.create,BU=ts.create,HU=ka.create,qU=Fr.createWithPreprocess,WU=Zc.create,KU=()=>ZE().optional(),QU=()=>JE().optional(),GU=()=>XE().optional(),YU={string:e=>kr.create({...e,coerce:!0}),number:e=>Na.create({...e,coerce:!0}),boolean:e=>hc.create({...e,coerce:!0}),bigint:e=>Sa.create({...e,coerce:!0}),date:e=>xi.create({...e,coerce:!0})},ZU=Ae;var ke=Object.freeze({__proto__:null,defaultErrorMap:Vo,setErrorMap:qV,getErrorMap:Ku,makeIssue:Qu,EMPTY_PATH:WV,addIssueToContext:oe,ParseStatus:jn,INVALID:Ae,DIRTY:Zi,OK:En,isAborted:Zp,isDirty:Jp,isValid:gi,isAsync:mc,get util(){return nt},get objectUtil(){return Yp},ZodParsedType:fe,getParsedType:ms,ZodType:Ge,datetimeRegex:QE,ZodString:kr,ZodNumber:Na,ZodBigInt:Sa,ZodBoolean:hc,ZodDate:xi,ZodSymbol:Yu,ZodUndefined:pc,ZodNull:gc,ZodAny:Uo,ZodUnknown:ni,ZodNever:Ts,ZodVoid:Zu,ZodArray:Mr,ZodObject:Et,ZodUnion:xc,ZodDiscriminatedUnion:Jf,ZodIntersection:vc,ZodTuple:as,ZodRecord:yc,ZodMap:Ju,ZodSet:vi,ZodFunction:uo,ZodLazy:wc,ZodLiteral:bc,ZodEnum:Ca,ZodNativeEnum:jc,ZodPromise:Bo,ZodEffects:Fr,ZodTransformer:Fr,ZodOptional:ts,ZodNullable:ka,ZodDefault:Nc,ZodCatch:Sc,ZodNaN:Xu,BRAND:hU,ZodBranded:_v,ZodPipeline:Zc,ZodReadonly:Cc,custom:YE,Schema:Ge,ZodSchema:Ge,late:pU,get ZodFirstPartyTypeKind(){return Re},coerce:YU,any:NU,array:_U,bigint:vU,boolean:XE,date:yU,discriminatedUnion:MU,effect:wb,enum:zU,function:LU,instanceof:gU,intersection:RU,lazy:FU,literal:$U,map:DU,nan:xU,nativeEnum:VU,never:CU,null:jU,nullable:HU,number:JE,object:PU,oboolean:GU,onumber:QU,optional:BU,ostring:KU,pipeline:WU,preprocess:qU,promise:UU,record:IU,set:OU,strictObject:EU,string:ZE,symbol:wU,transformer:wb,tuple:AU,undefined:bU,union:TU,unknown:SU,void:kU,NEVER:ZU,ZodIssueCode:J,quotelessJson:HV,ZodError:Jn});const Z=Symbol.for("drizzle:entityKind");function an(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,Z))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(Z in n&&n[Z]===t[Z])return!0;n=Object.getPrototypeOf(n)}return!1}var Yb;Yb=Z;class Ho{constructor(t,n){$(this,"name");$(this,"keyAsName");$(this,"primary");$(this,"notNull");$(this,"default");$(this,"defaultFn");$(this,"onUpdateFn");$(this,"hasDefault");$(this,"isUnique");$(this,"uniqueName");$(this,"uniqueType");$(this,"dataType");$(this,"columnType");$(this,"enumValues");$(this,"generated");$(this,"generatedIdentity");$(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}$(Ho,Yb,"Column");var Zb;Zb=Z;class eT{constructor(t,n,r){$(this,"config");$(this,"$default",this.$defaultFn);$(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}$(eT,Zb,"ColumnBuilder");const fo=Symbol.for("drizzle:Name");var Jb;Jb=Z;class tT{constructor(t,n){$(this,"reference");$(this,"_onUpdate","no action");$(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:a,foreignColumns:i}=t();return{name:r,columns:a,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new nT(t,this)}}$(tT,Jb,"PgForeignKeyBuilder");var Xb;Xb=Z;class nT{constructor(t,n){$(this,"reference");$(this,"onUpdate");$(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:r}=this.reference(),a=n.map(l=>l.name),i=r.map(l=>l.name),o=[this.table[fo],...a,r[0].table[fo],...i];return t??`${o.join("_")}_fk`}}$(nT,Xb,"PgForeignKey");function JU(e,...t){return e(...t)}function XU(e,t){return`${e[fo]}_${t.join("_")}_unique`}function bb(e,t,n){for(let r=t;r<e.length;r++){const a=e[r];if(a==="\\"){r++;continue}if(a==='"')return[e.slice(t,r).replace(/\\/g,""),r+1];if(!n&&(a===","||a==="}"))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function rT(e,t=0){const n=[];let r=t,a=!1;for(;r<e.length;){const i=e[r];if(i===","){(a||r===t)&&n.push(""),a=!0,r++;continue}if(a=!1,i==="\\"){r+=2;continue}if(i==='"'){const[c,d]=bb(e,r+1,!0);n.push(c),r=d;continue}if(i==="}")return[n,r+1];if(i==="{"){const[c,d]=rT(e,r+1);n.push(c),r=d;continue}const[o,l]=bb(e,r,!1);n.push(o),r=l}return[n,r]}function e8(e){const[t]=rT(e,1);return t}function sT(e){return`{${e.map(t=>Array.isArray(t)?sT(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var e0,t0;class st extends(t0=eT,e0=Z,t0){constructor(){super(...arguments);$(this,"foreignKeyConfigs",[])}array(n){return new iT(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:a,actions:i})=>JU((o,l)=>{const c=new tT(()=>{const d=o();return{columns:[n],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(r)},a,i))}buildExtraConfigColumn(n){return new aT(n,this.config)}}$(st,e0,"PgColumnBuilder");var n0,r0;class Be extends(r0=Ho,n0=Z,r0){constructor(t,n){n.uniqueName||(n.uniqueName=XU(t,[n.name])),super(t,n),this.table=t}}$(Be,n0,"PgColumn");var s0,a0;class aT extends(a0=Be,s0=Z,a0){constructor(){super(...arguments);$(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});$(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}$(aT,s0,"ExtraConfigColumn");var i0,o0;class iT extends(o0=st,i0=Z,o0){constructor(t,n,r){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(t){const n=this.config.baseBuilder.build(t);return new eg(t,this.config,n)}}$(iT,i0,"PgArrayBuilder");var l0,c0;const af=class af extends(c0=Be,l0=Z,c0){constructor(n,r,a,i){super(n,r);$(this,"size");this.baseColumn=a,this.range=i,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=e8(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const a=n.map(i=>i===null?null:an(this.baseColumn,af)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?a:sT(a)}};$(af,l0,"PgArray");let eg=af;const jb=Symbol.for("drizzle:isPgEnum");function t8(e){return!!e&&typeof e=="function"&&jb in e&&e[jb]===!0}var d0;d0=Z;class Pv{constructor(t,n,r,a=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:r,isWith:a}}}$(Pv,d0,"Subquery");const n8={startActiveSpan(e,t){return t()}},mo=Symbol.for("drizzle:ViewBaseConfig"),fh=Symbol.for("drizzle:Schema"),Nb=Symbol.for("drizzle:Columns"),Sb=Symbol.for("drizzle:ExtraConfigColumns"),mh=Symbol.for("drizzle:OriginalName"),hh=Symbol.for("drizzle:BaseName"),ef=Symbol.for("drizzle:IsAlias"),Cb=Symbol.for("drizzle:ExtraConfigBuilder"),oT=Symbol.for("drizzle:IsDrizzleTable");var u0,f0,m0,h0,p0,g0,x0,v0,y0,w0,Rd;let Qn=(w0=Z,y0=fo,v0=mh,x0=fh,g0=Nb,p0=Sb,h0=hh,m0=ef,f0=oT,u0=Cb,Rd=class{constructor(t,n,r){$(this,y0);$(this,v0);$(this,x0);$(this,g0);$(this,p0);$(this,h0);$(this,m0,!1);$(this,f0,!0);$(this,u0);this[fo]=this[mh]=t,this[fh]=n,this[hh]=r}},$(Rd,w0,"Table"),$(Rd,"Symbol",{Name:fo,Schema:fh,OriginalName:mh,Columns:Nb,ExtraConfigColumns:Sb,BaseName:hh,IsAlias:ef,ExtraConfigBuilder:Cb}),Rd);function lT(e){return typeof e=="object"&&e!==null&&oT in e}function r8(e){return e!=null&&typeof e.getSQL=="function"}function s8(e){var n;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(n=r.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var b0;b0=Z;class lr{constructor(t){$(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Yt([this])}}$(lr,b0,"StringChunk");var j0;j0=Z;const Fa=class Fa{constructor(t){$(this,"decoder",cT);$(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return n8.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:a,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=r;return s8(t.map(u=>{var f;if(an(u,lr))return{sql:u.value.join(""),params:[]};if(an(u,tf))return{sql:i(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const m=[new lr("(")];for(const[p,y]of u.entries())m.push(y),p<u.length-1&&m.push(new lr(", "));return m.push(new lr(")")),this.buildQueryFromSourceParams(m,r)}if(an(u,Fa))return this.buildQueryFromSourceParams(u.queryChunks,{...r,inlineParams:c||u.shouldInlineParams});if(an(u,Qn)){const m=u[Qn.Symbol.Schema],p=u[Qn.Symbol.Name];return{sql:m===void 0||u[ef]?i(p):i(m)+"."+i(p),params:[]}}if(an(u,Ho)){const m=a.getColumnCasing(u);if(n.invokeSource==="indexes")return{sql:i(m),params:[]};const p=u.table[Qn.Symbol.Schema];return{sql:u.table[ef]||p===void 0?i(u.table[Qn.Symbol.Name])+"."+i(m):i(p)+"."+i(u.table[Qn.Symbol.Name])+"."+i(m),params:[]}}if(an(u,fT)){const m=u[mo].schema,p=u[mo].name;return{sql:m===void 0||u[mo].isAlias?i(p):i(m)+"."+i(p),params:[]}}if(an(u,Ev)){if(an(u.value,nf))return{sql:o(d.value++,u),params:[u],typings:["none"]};const m=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(an(m,Fa))return this.buildQueryFromSourceParams([m],r);if(c)return{sql:this.mapInlineParam(m,r),params:[]};let p=["none"];return l&&(p=[l(u.encoder)]),{sql:o(d.value++,m),params:[m],typings:p}}return an(u,nf)?{sql:o(d.value++,u),params:[u],typings:["none"]}:an(u,Fa.Aliased)&&u.fieldAlias!==void 0?{sql:i(u.fieldAlias),params:[]}:an(u,Pv)?u._.isWith?{sql:i(u._.alias),params:[]}:this.buildQueryFromSourceParams([new lr("("),u._.sql,new lr(") "),new tf(u._.alias)],r):t8(u)?u.schema?{sql:i(u.schema)+"."+i(u.enumName),params:[]}:{sql:i(u.enumName),params:[]}:r8(u)?(f=u.shouldOmitSQLParens)!=null&&f.call(u)?this.buildQueryFromSourceParams([u.getSQL()],r):this.buildQueryFromSourceParams([new lr("("),u.getSQL(),new lr(")")],r):c?{sql:this.mapInlineParam(u,r),params:[]}:{sql:o(d.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const r=t.toString();return n(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Fa.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};$(Fa,j0,"SQL");let Yt=Fa;var N0;N0=Z;class tf{constructor(t){$(this,"brand");this.value=t}getSQL(){return new Yt([this])}}$(tf,N0,"Name");const cT={mapFromDriverValue:e=>e},dT={mapToDriverValue:e=>e};({...cT,...dT});var S0;S0=Z;class Ev{constructor(t,n=dT){$(this,"brand");this.value=t,this.encoder=n}getSQL(){return new Yt([this])}}$(Ev,S0,"Param");function ht(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new lr(e[0]));for(const[r,a]of t.entries())n.push(a,new lr(e[r+1]));return new Yt(n)}(e=>{function t(){return new Yt([])}e.empty=t;function n(c){return new Yt(c)}e.fromList=n;function r(c){return new Yt([new lr(c)])}e.raw=r;function a(c,d){const u=[];for(const[f,m]of c.entries())f>0&&d!==void 0&&u.push(d),u.push(m);return new Yt(u)}e.join=a;function i(c){return new tf(c)}e.identifier=i;function o(c){return new nf(c)}e.placeholder=o;function l(c,d){return new Ev(c,d)}e.param=l})(ht||(ht={}));(e=>{var n;n=Z;const r=class r{constructor(i,o){$(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};$(r,n,"SQL.Aliased");let t=r;e.Aliased=t})(Yt||(Yt={}));var C0;C0=Z;class nf{constructor(t){this.name=t}getSQL(){return new Yt([this])}}$(nf,C0,"Placeholder");const uT=Symbol.for("drizzle:IsDrizzleView");var k0,_0,P0;P0=Z,_0=mo,k0=uT;class fT{constructor({name:t,schema:n,selectedFields:r,query:a}){$(this,_0);$(this,k0,!0);this[mo]={name:t,originalName:t,schema:n,selectedFields:r,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new Yt([this])}}$(fT,P0,"View");function a8(e){return typeof e=="object"&&e!==null&&uT in e}Ho.prototype.getSQL=function(){return new Yt([this])};Qn.prototype.getSQL=function(){return new Yt([this])};Pv.prototype.getSQL=function(){return new Yt([this])};function i8(e){return e[Qn.Symbol.Columns]}function o8(e){return e[mo].selectedFields}function rn(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var E0,T0;class Jc extends(T0=st,E0=Z,T0){generatedAlwaysAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}$(Jc,E0,"PgIntColumnBaseBuilder");var M0,R0;class mT extends(R0=Jc,M0=Z,R0){constructor(t){super(t,"number","PgBigInt53")}build(t){return new hT(t,this.config)}}$(mT,M0,"PgBigInt53Builder");var A0,I0;class hT extends(I0=Be,A0=Z,I0){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}$(hT,A0,"PgBigInt53");var D0,O0;class pT extends(O0=Jc,D0=Z,O0){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new gT(t,this.config)}}$(pT,D0,"PgBigInt64Builder");var L0,F0;class gT extends(F0=Be,L0=Z,F0){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}$(gT,L0,"PgBigInt64");function l8(e,t){const{name:n,config:r}=rn(e,t);return r.mode==="number"?new mT(n):new pT(n)}var $0,z0;class xT extends(z0=st,$0=Z,z0){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new vT(t,this.config)}}$(xT,$0,"PgBigSerial53Builder");var V0,U0;class vT extends(U0=Be,V0=Z,U0){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}$(vT,V0,"PgBigSerial53");var B0,H0;class yT extends(H0=st,B0=Z,H0){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new wT(t,this.config)}}$(yT,B0,"PgBigSerial64Builder");var q0,W0;class wT extends(W0=Be,q0=Z,W0){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}$(wT,q0,"PgBigSerial64");function c8(e,t){const{name:n,config:r}=rn(e,t);return r.mode==="number"?new xT(n):new yT(n)}var K0,Q0;class bT extends(Q0=st,K0=Z,Q0){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new jT(t,this.config)}}$(bT,K0,"PgBooleanBuilder");var G0,Y0;class jT extends(Y0=Be,G0=Z,Y0){getSQLType(){return"boolean"}}$(jT,G0,"PgBoolean");function On(e){return new bT(e??"")}var Z0,J0;class NT extends(J0=st,Z0=Z,J0){constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new ST(t,this.config)}}$(NT,Z0,"PgCharBuilder");var X0,ej;class ST extends(ej=Be,X0=Z,ej){constructor(){super(...arguments);$(this,"length",this.config.length);$(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}$(ST,X0,"PgChar");function d8(e,t={}){const{name:n,config:r}=rn(e,t);return new NT(n,r)}var tj,nj;class CT extends(nj=st,tj=Z,nj){constructor(t){super(t,"string","PgCidr")}build(t){return new kT(t,this.config)}}$(CT,tj,"PgCidrBuilder");var rj,sj;class kT extends(sj=Be,rj=Z,sj){getSQLType(){return"cidr"}}$(kT,rj,"PgCidr");function u8(e){return new CT(e??"")}var aj,ij;class _T extends(ij=st,aj=Z,ij){constructor(t,n,r){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(t){return new PT(t,this.config)}}$(_T,aj,"PgCustomColumnBuilder");var oj,lj;class PT extends(lj=Be,oj=Z,lj){constructor(n,r){super(n,r);$(this,"sqlName");$(this,"mapTo");$(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}$(PT,oj,"PgCustomColumn");function f8(e){return(t,n)=>{const{name:r,config:a}=rn(t,n);return new _T(r,a,e)}}var cj,dj;class nl extends(dj=st,cj=Z,dj){defaultNow(){return this.default(ht`now()`)}}$(nl,cj,"PgDateColumnBaseBuilder");var uj,fj;class ET extends(fj=nl,uj=Z,fj){constructor(t){super(t,"date","PgDate")}build(t){return new TT(t,this.config)}}$(ET,uj,"PgDateBuilder");var mj,hj;class TT extends(hj=Be,mj=Z,hj){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}$(TT,mj,"PgDate");var pj,gj;class MT extends(gj=nl,pj=Z,gj){constructor(t){super(t,"string","PgDateString")}build(t){return new RT(t,this.config)}}$(MT,pj,"PgDateStringBuilder");var xj,vj;class RT extends(vj=Be,xj=Z,vj){getSQLType(){return"date"}}$(RT,xj,"PgDateString");function m8(e,t){const{name:n,config:r}=rn(e,t);return(r==null?void 0:r.mode)==="date"?new ET(n):new MT(n)}var yj,wj;class AT extends(wj=st,yj=Z,wj){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new IT(t,this.config)}}$(AT,yj,"PgDoublePrecisionBuilder");var bj,jj;class IT extends(jj=Be,bj=Z,jj){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}$(IT,bj,"PgDoublePrecision");function h8(e){return new AT(e??"")}var Nj,Sj;class DT extends(Sj=st,Nj=Z,Sj){constructor(t){super(t,"string","PgInet")}build(t){return new OT(t,this.config)}}$(DT,Nj,"PgInetBuilder");var Cj,kj;class OT extends(kj=Be,Cj=Z,kj){getSQLType(){return"inet"}}$(OT,Cj,"PgInet");function p8(e){return new DT(e??"")}var _j,Pj;class LT extends(Pj=Jc,_j=Z,Pj){constructor(t){super(t,"number","PgInteger")}build(t){return new FT(t,this.config)}}$(LT,_j,"PgIntegerBuilder");var Ej,Tj;class FT extends(Tj=Be,Ej=Z,Tj){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}$(FT,Ej,"PgInteger");function jt(e){return new LT(e??"")}var Mj,Rj;class $T extends(Rj=st,Mj=Z,Rj){constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new zT(t,this.config)}}$($T,Mj,"PgIntervalBuilder");var Aj,Ij;class zT extends(Ij=Be,Aj=Z,Ij){constructor(){super(...arguments);$(this,"fields",this.config.intervalConfig.fields);$(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}$(zT,Aj,"PgInterval");function g8(e,t={}){const{name:n,config:r}=rn(e,t);return new $T(n,r)}var Dj,Oj;class VT extends(Oj=st,Dj=Z,Oj){constructor(t){super(t,"json","PgJson")}build(t){return new UT(t,this.config)}}$(VT,Dj,"PgJsonBuilder");var Lj,Fj;class UT extends(Fj=Be,Lj=Z,Fj){constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}$(UT,Lj,"PgJson");function x8(e){return new VT(e??"")}var $j,zj;class BT extends(zj=st,$j=Z,zj){constructor(t){super(t,"json","PgJsonb")}build(t){return new HT(t,this.config)}}$(BT,$j,"PgJsonbBuilder");var Vj,Uj;class HT extends(Uj=Be,Vj=Z,Uj){constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}$(HT,Vj,"PgJsonb");function v8(e){return new BT(e??"")}var Bj,Hj;class qT extends(Hj=st,Bj=Z,Hj){constructor(t){super(t,"array","PgLine")}build(t){return new WT(t,this.config)}}$(qT,Bj,"PgLineBuilder");var qj,Wj;class WT extends(Wj=Be,qj=Z,Wj){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,a]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(a)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}$(WT,qj,"PgLine");var Kj,Qj;class KT extends(Qj=st,Kj=Z,Qj){constructor(t){super(t,"json","PgLineABC")}build(t){return new QT(t,this.config)}}$(KT,Kj,"PgLineABCBuilder");var Gj,Yj;class QT extends(Yj=Be,Gj=Z,Yj){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,a]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(a)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}$(QT,Gj,"PgLineABC");function y8(e,t){const{name:n,config:r}=rn(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new qT(n):new KT(n)}var Zj,Jj;class GT extends(Jj=st,Zj=Z,Jj){constructor(t){super(t,"string","PgMacaddr")}build(t){return new YT(t,this.config)}}$(GT,Zj,"PgMacaddrBuilder");var Xj,eN;class YT extends(eN=Be,Xj=Z,eN){getSQLType(){return"macaddr"}}$(YT,Xj,"PgMacaddr");function w8(e){return new GT(e??"")}var tN,nN;class ZT extends(nN=st,tN=Z,nN){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new JT(t,this.config)}}$(ZT,tN,"PgMacaddr8Builder");var rN,sN;class JT extends(sN=Be,rN=Z,sN){getSQLType(){return"macaddr8"}}$(JT,rN,"PgMacaddr8");function b8(e){return new ZT(e??"")}var aN,iN;class XT extends(iN=st,aN=Z,iN){constructor(t,n,r){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(t){return new eM(t,this.config)}}$(XT,aN,"PgNumericBuilder");var oN,lN;class eM extends(lN=Be,oN=Z,lN){constructor(n,r){super(n,r);$(this,"precision");$(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}$(eM,oN,"PgNumeric");function j8(e,t){const{name:n,config:r}=rn(e,t);return new XT(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}var cN,dN;class tM extends(dN=st,cN=Z,dN){constructor(t){super(t,"array","PgPointTuple")}build(t){return new nM(t,this.config)}}$(tM,cN,"PgPointTupleBuilder");var uN,fN;class nM extends(fN=Be,uN=Z,fN){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}$(nM,uN,"PgPointTuple");var mN,hN;class rM extends(hN=st,mN=Z,hN){constructor(t){super(t,"json","PgPointObject")}build(t){return new sM(t,this.config)}}$(rM,mN,"PgPointObjectBuilder");var pN,gN;class sM extends(gN=Be,pN=Z,gN){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}$(sM,pN,"PgPointObject");function N8(e,t){const{name:n,config:r}=rn(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new tM(n):new rM(n)}function S8(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function kb(e,t){const n=new ArrayBuffer(8),r=new DataView(n);for(let a=0;a<8;a++)r.setUint8(a,e[t+a]);return r.getFloat64(0,!0)}function aM(e){const t=S8(e);let n=0;const r=t[n];n+=1;const a=new DataView(t.buffer),i=a.getUint32(n,r===1);if(n+=4,i&536870912&&(a.getUint32(n,r===1),n+=4),(i&65535)===1){const o=kb(t,n);n+=8;const l=kb(t,n);return n+=8,[o,l]}throw new Error("Unsupported geometry type")}var xN,vN;class iM extends(vN=st,xN=Z,vN){constructor(t){super(t,"array","PgGeometry")}build(t){return new oM(t,this.config)}}$(iM,xN,"PgGeometryBuilder");var yN,wN;class oM extends(wN=Be,yN=Z,wN){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return aM(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}$(oM,yN,"PgGeometry");var bN,jN;class lM extends(jN=st,bN=Z,jN){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new cM(t,this.config)}}$(lM,bN,"PgGeometryObjectBuilder");var NN,SN;class cM extends(SN=Be,NN=Z,SN){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=aM(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}$(cM,NN,"PgGeometryObject");function C8(e,t){const{name:n,config:r}=rn(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new iM(n):new lM(n)}var CN,kN;class dM extends(kN=st,CN=Z,kN){constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new uM(t,this.config)}}$(dM,CN,"PgRealBuilder");var _N,PN;class uM extends(PN=Be,_N=Z,PN){constructor(n,r){super(n,r);$(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}$(uM,_N,"PgReal");function k8(e){return new dM(e??"")}var EN,TN;class fM extends(TN=st,EN=Z,TN){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new mM(t,this.config)}}$(fM,EN,"PgSerialBuilder");var MN,RN;class mM extends(RN=Be,MN=Z,RN){getSQLType(){return"serial"}}$(mM,MN,"PgSerial");function _8(e){return new fM(e??"")}var AN,IN;class hM extends(IN=Jc,AN=Z,IN){constructor(t){super(t,"number","PgSmallInt")}build(t){return new pM(t,this.config)}}$(hM,AN,"PgSmallIntBuilder");var DN,ON;class pM extends(ON=Be,DN=Z,ON){constructor(){super(...arguments);$(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}$(pM,DN,"PgSmallInt");function P8(e){return new hM(e??"")}var LN,FN;class gM extends(FN=st,LN=Z,FN){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new xM(t,this.config)}}$(gM,LN,"PgSmallSerialBuilder");var $N,zN;class xM extends(zN=Be,$N=Z,zN){getSQLType(){return"smallserial"}}$(xM,$N,"PgSmallSerial");function E8(e){return new gM(e??"")}var VN,UN;class vM extends(UN=st,VN=Z,UN){constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new yM(t,this.config)}}$(vM,VN,"PgTextBuilder");var BN,HN;class yM extends(HN=Be,BN=Z,HN){constructor(){super(...arguments);$(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}$(yM,BN,"PgText");function re(e,t={}){const{name:n,config:r}=rn(e,t);return new vM(n,r)}var qN,WN;class wM extends(WN=nl,qN=Z,WN){constructor(t,n,r){super(t,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(t){return new bM(t,this.config)}}$(wM,qN,"PgTimeBuilder");var KN,QN;class bM extends(QN=Be,KN=Z,QN){constructor(n,r){super(n,r);$(this,"withTimezone");$(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}$(bM,KN,"PgTime");function T8(e,t={}){const{name:n,config:r}=rn(e,t);return new wM(n,r.withTimezone??!1,r.precision)}var GN,YN;class jM extends(YN=nl,GN=Z,YN){constructor(t,n,r){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(t){return new NM(t,this.config)}}$(jM,GN,"PgTimestampBuilder");var ZN,JN;class NM extends(JN=Be,ZN=Z,JN){constructor(n,r){super(n,r);$(this,"withTimezone");$(this,"precision");$(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));$(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}$(NM,ZN,"PgTimestamp");var XN,e1;class SM extends(e1=nl,XN=Z,e1){constructor(t,n,r){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(t){return new CM(t,this.config)}}$(SM,XN,"PgTimestampStringBuilder");var t1,n1;class CM extends(n1=Be,t1=Z,n1){constructor(n,r){super(n,r);$(this,"withTimezone");$(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}$(CM,t1,"PgTimestampString");function Ze(e,t={}){const{name:n,config:r}=rn(e,t);return(r==null?void 0:r.mode)==="string"?new SM(n,r.withTimezone??!1,r.precision):new jM(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var r1,s1;class kM extends(s1=st,r1=Z,s1){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(ht`gen_random_uuid()`)}build(t){return new _M(t,this.config)}}$(kM,r1,"PgUUIDBuilder");var a1,i1;class _M extends(i1=Be,a1=Z,i1){getSQLType(){return"uuid"}}$(_M,a1,"PgUUID");function M8(e){return new kM(e??"")}var o1,l1;class PM extends(l1=st,o1=Z,l1){constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new EM(t,this.config)}}$(PM,o1,"PgVarcharBuilder");var c1,d1;class EM extends(d1=Be,c1=Z,d1){constructor(){super(...arguments);$(this,"length",this.config.length);$(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}$(EM,c1,"PgVarchar");function we(e,t={}){const{name:n,config:r}=rn(e,t);return new PM(n,r)}var u1,f1;class TM extends(f1=st,u1=Z,f1){constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new MM(t,this.config)}}$(TM,u1,"PgBinaryVectorBuilder");var m1,h1;class MM extends(h1=Be,m1=Z,h1){constructor(){super(...arguments);$(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}$(MM,m1,"PgBinaryVector");function R8(e,t){const{name:n,config:r}=rn(e,t);return new TM(n,r)}var p1,g1;class RM extends(g1=st,p1=Z,g1){constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new AM(t,this.config)}}$(RM,p1,"PgHalfVectorBuilder");var x1,v1;class AM extends(v1=Be,x1=Z,v1){constructor(){super(...arguments);$(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}$(AM,x1,"PgHalfVector");function A8(e,t){const{name:n,config:r}=rn(e,t);return new RM(n,r)}var y1,w1;class IM extends(w1=st,y1=Z,w1){constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new DM(t,this.config)}}$(IM,y1,"PgSparseVectorBuilder");var b1,j1;class DM extends(j1=Be,b1=Z,j1){constructor(){super(...arguments);$(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}$(DM,b1,"PgSparseVector");function I8(e,t){const{name:n,config:r}=rn(e,t);return new IM(n,r)}var N1,S1;class OM extends(S1=st,N1=Z,S1){constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new LM(t,this.config)}}$(OM,N1,"PgVectorBuilder");var C1,k1;class LM extends(k1=Be,C1=Z,k1){constructor(){super(...arguments);$(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}$(LM,C1,"PgVector");function D8(e,t){const{name:n,config:r}=rn(e,t);return new OM(n,r)}function O8(){return{bigint:l8,bigserial:c8,boolean:On,char:d8,cidr:u8,customType:f8,date:m8,doublePrecision:h8,inet:p8,integer:jt,interval:g8,json:x8,jsonb:v8,line:y8,macaddr:w8,macaddr8:b8,numeric:j8,point:N8,geometry:C8,real:k8,serial:_8,smallint:P8,smallserial:E8,text:re,time:T8,timestamp:Ze,uuid:M8,varchar:we,bit:R8,halfvec:A8,sparsevec:I8,vector:D8}}const tg=Symbol.for("drizzle:PgInlineForeignKeys"),_b=Symbol.for("drizzle:EnableRLS");var _1,P1,E1,T1,M1;class rf extends(M1=Qn,T1=Z,E1=tg,P1=_b,_1=Qn.Symbol.ExtraConfigBuilder,M1){constructor(){super(...arguments);$(this,E1,[]);$(this,P1,!1);$(this,_1)}}$(rf,T1,"PgTable"),$(rf,"Symbol",Object.assign({},Qn.Symbol,{InlineForeignKeys:tg,EnableRLS:_b}));function L8(e,t,n,r,a=e){const i=new rf(e,r,a),o=typeof t=="function"?t(O8()):t,l=Object.fromEntries(Object.entries(o).map(([u,f])=>{const m=f;m.setName(u);const p=m.build(i);return i[tg].push(...m.buildForeignKeys(p,i)),[u,p]})),c=Object.fromEntries(Object.entries(o).map(([u,f])=>{const m=f;m.setName(u);const p=m.buildExtraConfigColumn(i);return[u,p]})),d=Object.assign(i,l);return d[Qn.Symbol.Columns]=l,d[Qn.Symbol.ExtraConfigColumns]=c,Object.assign(d,{enableRLS:()=>(d[rf.Symbol.EnableRLS]=!0,d)})}const zt=(e,t,n)=>L8(e,t,n,void 0),Pt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Lt(e,t){return t.includes(e.columnType)}function F8(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const $8=ke.union([ke.string(),ke.number(),ke.boolean(),ke.null()]),z8=ke.union([$8,ke.record(ke.any()),ke.array(ke.any())]),V8=ke.custom(e=>e instanceof Buffer);function FM(e,t){const n=(t==null?void 0:t.zodInstance)??ke,r=(t==null?void 0:t.coerce)??{};let a;return F8(e)&&(a=e.enumValues.length?n.enum(e.enumValues):n.string()),a||(Lt(e,["PgGeometry","PgPointTuple"])?a=n.tuple([n.number(),n.number()]):Lt(e,["PgGeometryObject","PgPointObject"])?a=n.object({x:n.number(),y:n.number()}):Lt(e,["PgHalfVector","PgVector"])?(a=n.array(n.number()),a=e.dimensions?a.length(e.dimensions):a):Lt(e,["PgLine"])?a=n.tuple([n.number(),n.number(),n.number()]):Lt(e,["PgLineABC"])?a=n.object({a:n.number(),b:n.number(),c:n.number()}):Lt(e,["PgArray"])?(a=n.array(FM(e.baseColumn,n)),a=e.size?a.length(e.size):a):e.dataType==="array"?a=n.array(n.any()):e.dataType==="number"?a=U8(e,n,r):e.dataType==="bigint"?a=B8(e,n,r):e.dataType==="boolean"?a=r===!0||r.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?a=r===!0||r.date?n.coerce.date():n.date():e.dataType==="string"?a=H8(e,n,r):e.dataType==="json"?a=z8:e.dataType==="custom"?a=n.any():e.dataType==="buffer"&&(a=V8)),a||(a=n.any()),a}function U8(e,t,n){let r=e.getSQLType().includes("unsigned"),a,i,o=!1;Lt(e,["MySqlTinyInt","SingleStoreTinyInt"])?(a=r?0:Pt.INT8_MIN,i=r?Pt.INT8_UNSIGNED_MAX:Pt.INT8_MAX,o=!0):Lt(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=r?0:Pt.INT16_MIN,i=r?Pt.INT16_UNSIGNED_MAX:Pt.INT16_MAX,o=!0):Lt(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=r?0:Pt.INT24_MIN,i=r?Pt.INT24_UNSIGNED_MAX:Pt.INT24_MAX,o=Lt(e,["MySqlMediumInt","SingleStoreMediumInt"])):Lt(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=r?0:Pt.INT32_MIN,i=r?Pt.INT32_UNSIGNED_MAX:Pt.INT32_MAX,o=!0):Lt(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=r?0:Pt.INT48_MIN,i=r?Pt.INT48_UNSIGNED_MAX:Pt.INT48_MAX):Lt(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||Lt(e,["MySqlSerial","SingleStoreSerial"]),a=r?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):Lt(e,["MySqlYear","SingleStoreYear"])?(a=1901,i=2155,o=!0):(a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=n===!0||n!=null&&n.number?t.coerce.number():t.number();return l=l.min(a).max(i),o?l.int():l}function B8(e,t,n){const r=e.getSQLType().includes("unsigned"),a=r?0n:Pt.INT64_MIN,i=r?Pt.INT64_UNSIGNED_MAX:Pt.INT64_MAX;return(n===!0||n!=null&&n.bigint?t.coerce.bigint():t.bigint()).min(a).max(i)}function H8(e,t,n){if(Lt(e,["PgUUID"]))return t.string().uuid();let r,a,i=!1;Lt(e,["PgVarchar","SQLiteText"])?r=e.length:Lt(e,["MySqlVarChar","SingleStoreVarChar"])?r=e.length??Pt.INT16_UNSIGNED_MAX:Lt(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?r=Pt.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?r=Pt.INT24_UNSIGNED_MAX:e.textType==="text"?r=Pt.INT16_UNSIGNED_MAX:r=Pt.INT8_UNSIGNED_MAX),Lt(e,["PgChar","MySqlChar","SingleStoreChar"])&&(r=e.length,i=!0),Lt(e,["PgBinaryVector"])&&(a=/^[01]+$/,r=e.dimensions);let o=n===!0||n!=null&&n.string?t.coerce.string():t.string();return o=a?o.regex(a):o,r&&i?o.length(r):r?o.max(r):o}function $M(e){return lT(e)?i8(e):o8(e)}function zM(e,t,n,r){const a={};for(const[i,o]of Object.entries(e)){if(!an(o,Ho)&&!an(o,Yt)&&!an(o,Yt.Aliased)&&typeof o=="object"){const f=lT(o)||a8(o)?$M(o):o;a[i]=zM(f,t[i]??{},n,r);continue}const l=t[i];if(l!==void 0&&typeof l!="function"){a[i]=l;continue}const c=an(o,Ho)?o:void 0,d=c?FM(c,r):ke.any(),u=typeof l=="function"?l(d):d;n.never(c)||(a[i]=u,c&&(n.nullable(c)&&(a[i]=a[i].nullable()),n.optional(c)&&(a[i]=a[i].optional())))}return ke.object(a)}const q8={never:e=>{var t,n;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((n=e==null?void 0:e.generatedIdentity)==null?void 0:n.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Vt=(e,t)=>{const n=$M(e);return zM(n,{},q8)},zr=zt("organizations",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),name:re("name").notNull(),createdAt:Ze("created_at").notNull().defaultNow(),updatedAt:Ze("updated_at").notNull().defaultNow()}),W8=zt("admin_users",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),name:re("name").notNull(),email:re("email").notNull().unique(),password:re("password").notNull(),createdAt:Ze("created_at").notNull().defaultNow()}),Xf=zt("resellers",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),name:re("name").notNull(),email:re("email").notNull().unique(),commissionRate:jt("commission_rate").notNull().default(20),referralCode:re("referral_code").notNull().unique(),status:re("status").notNull().default("active"),createdAt:Ze("created_at").notNull().defaultNow(),updatedAt:Ze("updated_at").notNull().defaultNow()}),xr=zt("users",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),username:re("username").notNull().unique(),firstName:re("first_name"),lastName:re("last_name"),password:re("password").notNull(),email:re("email").notNull(),countryCode:re("country_code").default("US"),mobileNumber:re("mobile_number"),emailVerified:On("email_verified").notNull().default(!1),mobileVerified:On("mobile_verified").notNull().default(!1),currency:re("currency").notNull().default("GBP"),organizationId:we("organization_id").references(()=>zr.id,{onDelete:"cascade"}),teamRole:re("team_role").notNull().default("member"),isAdmin:On("is_admin").notNull().default(!1),isActive:On("is_active").notNull().default(!0),stripeCustomerId:re("stripe_customer_id"),stripeSubscriptionId:re("stripe_subscription_id"),resellerId:we("reseller_id").references(()=>Xf.id,{onDelete:"set null"}),referralCode:re("referral_code"),createdAt:Ze("created_at").notNull().defaultNow()}),Tv=zt("contacts",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),organizationId:we("organization_id").notNull().references(()=>zr.id,{onDelete:"cascade"}),userId:we("user_id").notNull().references(()=>xr.id,{onDelete:"cascade"}),firstName:re("first_name").notNull(),lastName:re("last_name").notNull(),countryCode:re("country_code").notNull().default("US"),phone:re("phone").notNull(),email:re("email"),address:re("address"),profilePicture:re("profile_picture"),notes:re("notes"),skills:re("skills").array().default(ht`ARRAY[]::text[]`),qualifications:re("qualifications").array().default(ht`ARRAY[]::text[]`),blackoutPeriods:re("blackout_periods").array().default(ht`ARRAY[]::text[]`),isOptedOut:On("is_opted_out").notNull().default(!1),quietHoursStart:re("quiet_hours_start").default("22:00"),quietHoursEnd:re("quiet_hours_end").default("07:00"),tags:re("tags").array().default(ht`ARRAY[]::text[]`),status:re("status").notNull().default("free"),rosterToken:we("roster_token").unique(),createdAt:Ze("created_at").notNull().defaultNow(),updatedAt:Ze("updated_at").notNull().defaultNow()}),Xc=zt("jobs",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),organizationId:we("organization_id").notNull().references(()=>zr.id,{onDelete:"cascade"}),userId:we("user_id").notNull().references(()=>xr.id,{onDelete:"cascade"}),name:re("name").notNull(),location:re("location").notNull(),startTime:Ze("start_time").notNull(),endTime:Ze("end_time").notNull(),requiredHeadcount:jt("required_headcount"),notes:re("notes"),createdAt:Ze("created_at").notNull().defaultNow(),updatedAt:Ze("updated_at").notNull().defaultNow()}),K8=zt("job_skill_requirements",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),jobId:we("job_id").notNull().references(()=>Xc.id,{onDelete:"cascade"}),skill:re("skill").notNull(),headcount:jt("headcount").notNull().default(1),notes:re("notes"),createdAt:Ze("created_at").notNull().defaultNow(),updatedAt:Ze("updated_at").notNull().defaultNow()}),VM=zt("templates",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),organizationId:we("organization_id").notNull().references(()=>zr.id,{onDelete:"cascade"}),userId:we("user_id").notNull().references(()=>xr.id,{onDelete:"cascade"}),name:re("name").notNull(),content:re("content").notNull(),type:re("type").notNull().default("standard"),includeRosterLink:On("include_roster_link").notNull().default(!1),createdAt:Ze("created_at").notNull().defaultNow()}),UM=zt("campaigns",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),organizationId:we("organization_id").notNull().references(()=>zr.id,{onDelete:"cascade"}),userId:we("user_id").notNull().references(()=>xr.id,{onDelete:"cascade"}),jobId:we("job_id").notNull().references(()=>Xc.id,{onDelete:"cascade"}),templateId:we("template_id").notNull().references(()=>VM.id),sentAt:Ze("sent_at").notNull().defaultNow()}),BM=zt("messages",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),organizationId:we("organization_id").notNull().references(()=>zr.id,{onDelete:"cascade"}),userId:we("user_id").notNull().references(()=>xr.id,{onDelete:"cascade"}),contactId:we("contact_id").notNull().references(()=>Tv.id,{onDelete:"cascade"}),jobId:we("job_id").references(()=>Xc.id,{onDelete:"set null"}),campaignId:we("campaign_id").references(()=>UM.id,{onDelete:"set null"}),direction:re("direction").notNull(),content:re("content").notNull(),status:re("status").notNull().default("queued"),twilioSid:re("twilio_sid"),createdAt:Ze("created_at").notNull().defaultNow(),updatedAt:Ze("updated_at").notNull().defaultNow()}),Q8=zt("availability",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),jobId:we("job_id").notNull().references(()=>Xc.id,{onDelete:"cascade"}),contactId:we("contact_id").notNull().references(()=>Tv.id,{onDelete:"cascade"}),status:re("status").notNull().default("no_reply"),shiftPreference:re("shift_preference"),updatedAt:Ze("updated_at").notNull().defaultNow()}),Mv=zt("subscription_plans",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),name:re("name").notNull(),description:re("description"),targetAudience:re("target_audience").notNull().default(""),featureBullets:re("feature_bullets").notNull().default(""),useCase:re("use_case").notNull().default(""),monthlyCredits:jt("monthly_credits").notNull(),supportLevel:re("support_level").notNull().default("email"),customTemplates:On("custom_templates").notNull().default(!1),autoFollowUp:On("auto_follow_up").notNull().default(!1),multiManager:On("multi_manager").notNull().default(!1),aiFeatures:On("ai_features").notNull().default(!1),dedicatedNumber:On("dedicated_number").notNull().default(!1),priceGBP:jt("price_gbp").notNull(),priceUSD:jt("price_usd").notNull(),priceEUR:jt("price_eur").notNull(),stripePriceIdGBP:re("stripe_price_id_gbp"),stripePriceIdUSD:re("stripe_price_id_usd"),stripePriceIdEUR:re("stripe_price_id_eur"),isActive:On("is_active").notNull().default(!0),createdAt:Ze("created_at").notNull().defaultNow()}),G8=zt("sms_bundles",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),planId:we("plan_id").references(()=>Mv.id,{onDelete:"cascade"}),name:re("name").notNull(),description:re("description"),credits:jt("credits").notNull(),priceGBP:jt("price_gbp").notNull(),priceUSD:jt("price_usd").notNull(),priceEUR:jt("price_eur").notNull(),stripePriceIdGBP:re("stripe_price_id_gbp"),stripePriceIdUSD:re("stripe_price_id_usd"),stripePriceIdEUR:re("stripe_price_id_eur"),isActive:On("is_active").notNull().default(!0),createdAt:Ze("created_at").notNull().defaultNow()}),HM=zt("credit_grants",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),organizationId:we("organization_id").notNull().references(()=>zr.id,{onDelete:"cascade"}),userId:we("user_id").notNull().references(()=>xr.id,{onDelete:"cascade"}),sourceType:re("source_type").notNull(),sourceRef:re("source_ref"),creditsGranted:jt("credits_granted").notNull(),creditsConsumed:jt("credits_consumed").notNull().default(0),creditsRemaining:jt("credits_remaining").notNull(),expiresAt:Ze("expires_at"),createdAt:Ze("created_at").notNull().defaultNow()}),Y8=zt("credit_transactions",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),organizationId:we("organization_id").notNull().references(()=>zr.id,{onDelete:"cascade"}),userId:we("user_id").notNull().references(()=>xr.id,{onDelete:"cascade"}),grantId:we("grant_id").notNull().references(()=>HM.id,{onDelete:"cascade"}),messageId:we("message_id").references(()=>BM.id,{onDelete:"set null"}),delta:jt("delta").notNull(),reason:re("reason").notNull(),createdAt:Ze("created_at").notNull().defaultNow()}),Z8=zt("subscriptions",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),organizationId:we("organization_id").notNull().references(()=>zr.id,{onDelete:"cascade"}),userId:we("user_id").notNull().references(()=>xr.id,{onDelete:"cascade"}),planId:we("plan_id").references(()=>Mv.id),status:re("status").notNull().default("trial"),currency:re("currency").notNull().default("GBP"),trialEndsAt:Ze("trial_ends_at"),currentPeriodStart:Ze("current_period_start"),currentPeriodEnd:Ze("current_period_end"),stripeSubscriptionId:re("stripe_subscription_id"),createdAt:Ze("created_at").notNull().defaultNow(),updatedAt:Ze("updated_at").notNull().defaultNow()}),J8=zt("password_reset_tokens",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),userId:we("user_id").notNull().references(()=>xr.id,{onDelete:"cascade"}),token:re("token").notNull().unique(),expiresAt:Ze("expires_at").notNull(),createdAt:Ze("created_at").notNull().defaultNow()}),X8=zt("reseller_transactions",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),resellerId:we("reseller_id").notNull().references(()=>Xf.id,{onDelete:"cascade"}),userId:we("user_id").notNull().references(()=>xr.id,{onDelete:"cascade"}),stripeEventId:re("stripe_event_id").unique(),stripeInvoiceId:re("stripe_invoice_id"),stripeCheckoutId:re("stripe_checkout_id"),type:re("type").notNull(),amount:jt("amount").notNull(),currency:re("currency").notNull(),commissionAmount:jt("commission_amount").notNull(),occurredAt:Ze("occurred_at").notNull().defaultNow(),createdAt:Ze("created_at").notNull().defaultNow()}),eB=zt("reseller_payouts",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),resellerId:we("reseller_id").notNull().references(()=>Xf.id,{onDelete:"cascade"}),month:jt("month").notNull(),year:jt("year").notNull(),newRevenue:jt("new_revenue").notNull().default(0),recurringRevenue:jt("recurring_revenue").notNull().default(0),totalRevenue:jt("total_revenue").notNull().default(0),commissionAmount:jt("commission_amount").notNull().default(0),currency:re("currency").notNull().default("GBP"),transactionCount:jt("transaction_count").notNull().default(0),status:re("status").notNull().default("pending"),lastCalculatedAt:Ze("last_calculated_at").notNull().defaultNow(),createdAt:Ze("created_at").notNull().defaultNow(),updatedAt:Ze("updated_at").notNull().defaultNow()}),tB=zt("feedback",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),organizationId:we("organization_id").notNull().references(()=>zr.id,{onDelete:"cascade"}),userId:we("user_id").notNull().references(()=>xr.id,{onDelete:"cascade"}),message:re("message").notNull(),status:re("status").notNull().default("new"),createdAt:Ze("created_at").notNull().defaultNow()}),nB=zt("platform_settings",{id:we("id").primaryKey().default(ht`gen_random_uuid()`),feedbackEmail:re("feedback_email").notNull().default("Feedback@HeyTeam.ai"),supportEmail:re("support_email").notNull().default("support@heyteam.ai"),updatedAt:Ze("updated_at").notNull().defaultNow()});Vt(zr).omit({id:!0,createdAt:!0,updatedAt:!0});Vt(xr).pick({username:!0,password:!0,email:!0,countryCode:!0,mobileNumber:!0,firstName:!0,lastName:!0,resellerId:!0});const rB=Vt(Tv).omit({id:!0,userId:!0,organizationId:!0,createdAt:!0,updatedAt:!0}).extend({status:ke.enum(["free","on_job","off_shift"]).default("free")}),sB=Vt(Xc).omit({id:!0,userId:!0,organizationId:!0,createdAt:!0,updatedAt:!0}),aB=Vt(K8).omit({id:!0,createdAt:!0,updatedAt:!0});aB.omit({jobId:!0});const iB=Vt(VM).omit({id:!0,userId:!0,organizationId:!0,createdAt:!0});Vt(UM).omit({id:!0,userId:!0,organizationId:!0,sentAt:!0});Vt(BM).omit({id:!0,userId:!0,organizationId:!0,createdAt:!0,updatedAt:!0});Vt(Q8).omit({id:!0,updatedAt:!0});Vt(Mv).omit({id:!0,createdAt:!0});Vt(G8).omit({id:!0,createdAt:!0});Vt(HM).omit({id:!0,createdAt:!0});Vt(Y8).omit({id:!0,createdAt:!0});Vt(Z8).omit({id:!0,userId:!0,organizationId:!0,createdAt:!0,updatedAt:!0});Vt(nB).omit({id:!0,updatedAt:!0}).extend({feedbackEmail:ke.string().email(),supportEmail:ke.string().email()});Vt(J8).omit({id:!0,createdAt:!0});Vt(W8).omit({id:!0,createdAt:!0});Vt(Xf).omit({id:!0,createdAt:!0,updatedAt:!0});Vt(X8).omit({id:!0,createdAt:!0});Vt(eB).omit({id:!0,createdAt:!0,updatedAt:!0});Vt(tB).omit({id:!0,userId:!0,organizationId:!0,createdAt:!0,status:!0});const oB="initGoogleMaps";let vl=null;const lB=({apiKey:e,libraries:t=[],language:n,region:r})=>{const a=new URLSearchParams({key:e,callback:oB});return t.length&&a.set("libraries",t.join(",")),n&&a.set("language",n),r&&a.set("region",r),a.set("loading","async"),`https://maps.googleapis.com/maps/api/js?${a.toString()}`},cB=e=>{var t;return typeof window>"u"?Promise.reject(new Error("Google Maps API can only be loaded in the browser")):(t=window.google)!=null&&t.maps?Promise.resolve(window.google.maps):e.apiKey?(vl||(vl=new Promise((n,r)=>{const a=lB(e);let i=document.querySelector("script[data-heyteam-google-maps]");i?i.src!==a&&(i.src=a):(i=document.createElement("script"),i.async=!0,i.defer=!0,i.dataset.heyteamGoogleMaps="true",i.src=a,document.head.appendChild(i)),i.onerror=o=>{vl=null,console.error("Failed to load Google Maps script",o),r(new Error("Failed to load Google Maps script"))},window.initGoogleMaps=()=>{var o;if(!((o=window.google)!=null&&o.maps)){vl=null,r(new Error("Google Maps failed to initialize"));return}n(window.google.maps),window.initGoogleMaps=void 0}})),vl):Promise.reject(new Error("Google Maps API key is missing"))},dB={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GOOGLE_API_KEY:"AIzaSyDIqb3FH1I2KcF-4AcAjvzwVHlzes-JhvQ"},Td={lat:51.509865,lng:-.118092},Di=5,Md=14,uB=()=>{if(typeof window<"u"){const t=window.__GOOGLE_API_KEY__;if(t)return t}const e=dB??{};return e.VITE_GOOGLE_API_KEY??e.GOOGLE_API_KEY??""};function qM({value:e,onChange:t,onBlur:n,id:r,placeholder:a="Search for an address",className:i,inputProps:o}){const l=G.useRef(null),c=G.useRef(null),d=G.useRef(null),u=G.useRef(),f=G.useRef(null),m=G.useRef(null),p=G.useRef(null),y=G.useRef(null),g=G.useRef(null),w=G.useRef(),[v,x]=G.useState(!1),[b,N]=G.useState(null),[C,P]=G.useState(null),[S,E]=G.useState(null),O=G.useRef(""),[j,D]=G.useState(!1),[I,R]=G.useState([]),[F,k]=G.useState(!1),T=G.useRef(null),[B,L]=G.useState(null),_=G.useCallback(()=>{if(!l.current){L(null);return}const W=l.current.getBoundingClientRect();L(W)},[]);G.useEffect(()=>{if(!I.length&&!F){L(null);return}_();const W=()=>_();return window.addEventListener("scroll",W,!0),window.addEventListener("resize",W),()=>{window.removeEventListener("scroll",W,!0),window.removeEventListener("resize",W)}},[F,I.length,_]);const z=G.useCallback(W=>{var Q;if(!(!u.current||!d.current)){if(!W){(Q=f.current)==null||Q.setMap(null);return}f.current?(f.current.setMap(d.current),f.current.setPosition(W)):f.current=new u.current.Marker({map:d.current,position:W})}},[]),Y=G.useCallback(W=>{if(!d.current)return;const Q=d.current;Q.panTo(W),(Q.getZoom()??Di)<Md&&Q.setZoom(Md)},[]),ae=G.useCallback(()=>new Promise((W,Q)=>{if(!navigator.geolocation){Q(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(le=>{const{latitude:te,longitude:ve}=le.coords;W({lat:te,lng:ve})},le=>{Q(le)},{maximumAge:6e4,timeout:5e3,enableHighAccuracy:!0})}),[]),Me=G.useCallback(async W=>{var Q;if(m.current)try{const le=await m.current.geocode({location:W}),te=le==null?void 0:le.results,ve=((Q=te==null?void 0:te[0])==null?void 0:Q.formatted_address)??`${W.lat.toFixed(5)}, ${W.lng.toFixed(5)}`;O.current=ve,t(ve),R([]),k(!1)}catch(le){console.error("Failed to reverse geocode location",le);const te=`${W.lat.toFixed(5)}, ${W.lng.toFixed(5)}`;O.current=te,t(te),R([]),k(!1)}},[t]),Ce=G.useCallback(W=>{if(!c.current){console.log("[JobLocationPicker] Cannot initialize map: mapNodeRef.current is null");return}if(d.current){console.log("[JobLocationPicker] Map already initialized, skipping");return}console.log("[JobLocationPicker] Initializing map...");const Q=new W.Map(c.current,{center:Td,zoom:Di,streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!0,zoomControl:!0});if(console.log("[JobLocationPicker] Map instance created:",Q),p.current=Q.addListener("click",le=>{var ve;const te=(ve=le.latLng)==null?void 0:ve.toJSON();te&&(P(te),z(te),Y(te),Me(te))}),!y.current){const le=document.createElement("div");le.style.padding="10px";const te=document.createElement("button");te.type="button",te.style.background="#fff",te.style.border="1px solid #dadce0",te.style.borderRadius="50%",te.style.boxShadow="0 1px 4px rgba(0,0,0,0.3)",te.style.width="40px",te.style.height="40px",te.style.cursor="pointer",te.style.display="flex",te.style.alignItems="center",te.style.justifyContent="center",te.style.padding="0";const ve=document.createElement("span");ve.style.border="2px solid #4285f4",ve.style.borderRadius="50%",ve.style.width="18px",ve.style.height="18px",ve.style.display="block",ve.style.position="relative";const qe=document.createElement("span");qe.style.backgroundColor="#4285f4",qe.style.borderRadius="50%",qe.style.width="6px",qe.style.height="6px",qe.style.position="absolute",qe.style.top="50%",qe.style.left="50%",qe.style.transform="translate(-50%, -50%)",ve.appendChild(qe),te.appendChild(ve),te.addEventListener("click",q=>{var it;q.preventDefault(),(it=w.current)==null||it.call(w)}),te.title="Use current location",le.appendChild(te),Q.controls[W.ControlPosition.RIGHT_BOTTOM].push(le),y.current=le}if(!g.current){const le=document.createElement("div");le.style.padding="10px";const te=document.createElement("div");te.style.display="flex",te.style.flexDirection="column",te.style.background="#fff",te.style.border="1px solid #dadce0",te.style.borderRadius="8px",te.style.boxShadow="0 1px 4px rgba(0,0,0,0.3)",te.style.overflow="hidden";const ve=(it,Ct)=>{const ut=document.createElement("button");return ut.type="button",ut.textContent=it,ut.style.border="none",ut.style.background="transparent",ut.style.width="32px",ut.style.height="32px",ut.style.cursor="pointer",ut.style.fontSize="18px",ut.style.display="flex",ut.style.alignItems="center",ut.style.justifyContent="center",ut.addEventListener("click",Aa=>{Aa.preventDefault();const M=Q.getZoom()??Di;Q.setZoom(M+Ct)}),ut},qe=ve("+",1),q=ve("",-1);te.appendChild(qe),te.appendChild(q),le.appendChild(te),Q.controls[W.ControlPosition.RIGHT_BOTTOM].push(le),g.current=le}d.current=Q},[Y,Me,z]),Ke=G.useCallback(async W=>{var Q,le,te;if(!(!m.current||!W))try{const ve=await m.current.geocode({address:W}),qe=ve==null?void 0:ve.results,q=qe==null?void 0:qe[0];if(!q)return;const it=(te=(le=(Q=q==null?void 0:q.geometry)==null?void 0:Q.location)==null?void 0:le.toJSON)==null?void 0:te.call(le);if(!it)return;P(it),z(it),Y(it),q.formatted_address&&q.formatted_address!==e?(O.current=q.formatted_address,t(q.formatted_address),R([]),k(!1)):O.current=W}catch(ve){console.error("Failed to geocode address",ve)}},[Y,t,z,e]);G.useEffect(()=>{const W=uB();if(!W){N("GOOGLE_API_KEY is not configured. Please add it to your environment.");return}let Q=!1;return cB({apiKey:W,libraries:["places"]}).then(le=>{Q||(u.current=le,m.current=new le.Geocoder,x(!0))}).catch(le=>{Q||(console.error("Failed to load Google Maps API",le),N(le instanceof Error?le.message:"Failed to load Google Maps API"))}),()=>{var le,te;if(Q=!0,(le=p.current)==null||le.remove(),(te=f.current)==null||te.setMap(null),y.current&&d.current&&u.current){const ve=d.current.controls[u.current.ControlPosition.RIGHT_BOTTOM],qe=ve.getArray().indexOf(y.current);qe>-1&&ve.removeAt(qe),y.current.remove(),y.current=null}d.current=null,m.current=null}},[]),G.useEffect(()=>{if(!u.current||!j){console.log("[JobLocationPicker] Dialog effect skipped:",{hasMapsApi:!!u.current,isDialogOpen:j});return}console.log("[JobLocationPicker] Dialog opened, scheduling map initialization...");const W=window.setTimeout(()=>{console.log("[JobLocationPicker] Timer fired, checking refs:",{hasMapNode:!!c.current,hasMapRef:!!d.current}),!C&&e&&Ke(e),c.current&&!d.current&&Ce(u.current)},100);return()=>window.clearTimeout(W)},[Ke,Ce,j,C,e]),G.useEffect(()=>{if(!j)return;Y(C??S??Td)},[Y,j,C,S]),G.useEffect(()=>{var W,Q;if(!j&&!(!d.current||!u.current))try{if((W=p.current)==null||W.remove(),p.current=null,(Q=f.current)==null||Q.setMap(null),f.current=null,y.current){const le=d.current.controls[u.current.ControlPosition.RIGHT_BOTTOM],te=le.getArray().indexOf(y.current);te>-1&&le.removeAt(te),y.current.remove(),y.current=null}if(g.current){const le=d.current.controls[u.current.ControlPosition.RIGHT_BOTTOM],te=le.getArray().indexOf(g.current);te>-1&&le.removeAt(te),g.current.remove(),g.current=null}}catch(le){console.warn("[JobLocationPicker] Error cleaning up map on dialog close:",le)}finally{d.current=null}},[j]),G.useEffect(()=>{if(!j||!u.current||!d.current)return;const W=u.current,Q=d.current,le=window.setTimeout(()=>{var ve,qe,q,it,Ct,ut;(qe=(ve=W.event)==null?void 0:ve.trigger)==null||qe.call(ve,Q,"resize");const te=C??S??Td;(q=Q.setCenter)==null||q.call(Q,te),C||S?(((it=Q.getZoom)==null?void 0:it.call(Q))??Di)<Md&&((Ct=Q.setZoom)==null||Ct.call(Q,Md)):(ut=Q.setZoom)==null||ut.call(Q,Di)},75);return()=>window.clearTimeout(le)},[Y,j,C,S]),G.useEffect(()=>{var Q,le,te,ve;if(!e){P(null),z(null),O.current="",(le=(Q=d.current)==null?void 0:Q.setCenter)==null||le.call(Q,Td),(ve=(te=d.current)==null?void 0:te.setZoom)==null||ve.call(te,Di);return}if(e===O.current)return;const W=window.setTimeout(()=>{Ke(e)},350);return()=>window.clearTimeout(W)},[Ke,z,e]),G.useEffect(()=>{!v||S||ae().then(W=>{E(W),!C&&!e&&(P(W),z(W),Y(W))}).catch(()=>{})},[Y,v,ae,C,z,S,e]);const De=G.useCallback(()=>{ae().then(W=>{E(W),P(W),z(W),Y(W),Me(W),R([]),k(!1)}).catch(W=>{console.error("Unable to retrieve current location",W)})},[Y,ae,Me,z]);G.useEffect(()=>{w.current=De},[De]),G.useEffect(()=>()=>{T.current&&window.clearTimeout(T.current)},[]);const{className:de,onBlur:_e,onChange:He,...Te}=o??{};return b?s.jsxs("div",{className:K("space-y-2",i),children:[s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[s.jsx(je,{ref:l,id:r,value:e,placeholder:a,onChange:W=>{O.current="",t(W.target.value),He==null||He(W)},onBlur:W=>{n==null||n(),_e==null||_e(W)},className:K("sm:flex-1",de),...Te}),s.jsx(U,{type:"button",variant:"outline",disabled:!0,children:"Choose on map"})]}),s.jsx("p",{className:"text-sm text-destructive",children:b})]}):s.jsxs("div",{className:K("space-y-2",i),children:[s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[s.jsxs("div",{className:"relative sm:flex-1",children:[s.jsx(je,{ref:l,id:r,value:e,placeholder:a,onChange:W=>{var le,te;const Q=W.target.value;if(O.current="",t(Q),He==null||He(W),T.current&&window.clearTimeout(T.current),!Q){R([]),k(!1);return}if(!((te=(le=u.current)==null?void 0:le.places)!=null&&te.AutocompleteSuggestion)){L(null);return}k(!0),_(),T.current=window.setTimeout(async()=>{try{const{suggestions:ve}=await u.current.places.AutocompleteSuggestion.fetchAutocompleteSuggestions({input:Q,includedPrimaryTypes:["geocode","street_address","route","locality"]}),qe=ve.map(q=>{var it,Ct,ut;return{placeId:((it=q.placePrediction)==null?void 0:it.placeId)??"",description:((ut=(Ct=q.placePrediction)==null?void 0:Ct.text)==null?void 0:ut.toString())??Q}});R(qe),_(),k(!1)}catch(ve){console.error("Autocomplete error:",ve),R([]),k(!1)}},250)},onBlur:W=>{n==null||n(),_e==null||_e(W);const Q=W.target.value.trim();window.setTimeout(()=>{R([]),k(!1),L(null)},150),Q&&Ke(Q)},onFocus:()=>{(I.length>0||F)&&!B&&_()},className:K("sm:flex-1",de),...Te}),(!!I.length||F)&&B&&typeof document<"u"&&Ta.createPortal(s.jsxs("div",{className:"z-[9999] overflow-hidden rounded-md border bg-background shadow-md",style:{position:"fixed",top:B.bottom+4,left:B.left,width:B.width},children:[I.map(W=>s.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm hover:bg-muted",onMouseDown:Q=>{Q.preventDefault()},onClick:async()=>{var Q,le,te,ve;if(R([]),O.current=W.description,t(W.description),!((le=(Q=u.current)==null?void 0:Q.places)!=null&&le.Place)||!W.placeId){L(null);return}try{const qe=new u.current.places.Place({id:W.placeId});await qe.fetchFields({fields:["displayName","formattedAddress","location"]});const q=(ve=(te=qe.location)==null?void 0:te.toJSON)==null?void 0:ve.call(te);q&&(P(q),z(q),Y(q));const it=qe.formattedAddress??W.description;O.current=it,t(it),R([]),k(!1),_()}catch(qe){console.error("Error fetching place details:",qe),R([]),k(!1)}},children:W.description},W.placeId||W.description)),F&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-xs text-muted-foreground",children:[s.jsx(bL,{className:"h-3 w-3 animate-spin"}),"Searching..."]})]}),document.body)]}),s.jsx(U,{type:"button",variant:"outline",onClick:()=>{R([]),k(!1),D(!0)},children:"Choose on map"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Start typing to search the address or choose a spot directly on the map."}),s.jsx(on,{open:j,onOpenChange:D,modal:!1,children:s.jsxs(en,{className:"max-w-3xl",children:[s.jsxs(yn,{children:[s.jsx(wn,{children:"Select location on map"}),s.jsx(Pn,{children:"Search for a place or click anywhere on the map to set the job location. Well fill the address into the field automatically."})]}),s.jsx("div",{ref:c,className:K("h-[420px] w-full overflow-hidden rounded-md border border-input bg-muted",!v&&"animate-pulse")}),s.jsxs(Un,{className:"gap-2",children:[s.jsx(U,{variant:"outline",type:"button",onClick:()=>D(!1),children:"Cancel"}),s.jsx(U,{type:"button",onClick:()=>D(!1),disabled:!C&&!e,children:"Use this location"})]})]})})]})}function Pb(e,[t,n]){return Math.min(n,Math.max(t,e))}function em(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var fB=[" ","Enter","ArrowUp","ArrowDown"],mB=[" ","Enter"],ed="Select",[tm,nm,hB]=kf(ed),[rl,PH]=fn(ed,[hB,el]),rm=el(),[pB,Ma]=rl(ed),[gB,xB]=rl(ed),WM=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:m,required:p,form:y}=e,g=rm(t),[w,v]=h.useState(null),[x,b]=h.useState(null),[N,C]=h.useState(!1),P=Hc(d),[S=!1,E]=Dr({prop:r,defaultProp:a,onChange:i}),[O,j]=Dr({prop:o,defaultProp:l,onChange:c}),D=h.useRef(null),I=w?y||!!w.closest("form"):!0,[R,F]=h.useState(new Set),k=Array.from(R).map(T=>T.props.value).join(";");return s.jsx($x,{...g,children:s.jsxs(pB,{required:p,scope:t,trigger:w,onTriggerChange:v,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:N,onValueNodeHasChildrenChange:C,contentId:Tr(),value:O,onValueChange:j,open:S,onOpenChange:E,dir:P,triggerPointerDownPosRef:D,disabled:m,children:[s.jsx(tm.Provider,{scope:t,children:s.jsx(gB,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(T=>{F(B=>new Set(B).add(T))},[]),onNativeOptionRemove:h.useCallback(T=>{F(B=>{const L=new Set(B);return L.delete(T),L})},[]),children:n})}),I?s.jsxs(xR,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:O,onChange:T=>j(T.target.value),disabled:m,form:y,children:[O===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},k):null]})})};WM.displayName=ed;var KM="SelectTrigger",QM=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=rm(n),o=Ma(KM,n),l=o.disabled||r,c=Je(t,o.onTriggerChange),d=nm(n),u=h.useRef("touch"),[f,m,p]=vR(g=>{const w=d().filter(b=>!b.disabled),v=w.find(b=>b.value===o.value),x=yR(w,g,v);x!==void 0&&o.onValueChange(x.value)}),y=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(zx,{asChild:!0,...i,children:s.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":gR(o.value)?"":void 0,...a,ref:c,onClick:se(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&y(g)}),onPointerDown:se(a.onPointerDown,g=>{u.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:se(a.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(w&&g.key===" ")&&fB.includes(g.key)&&(y(),g.preventDefault())})})})});QM.displayName=KM;var GM="SelectValue",YM=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=e,c=Ma(GM,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=Je(t,c.onValueNodeChange);return Zt(()=>{d(u)},[d,u]),s.jsx(Ne.span,{...l,ref:f,style:{pointerEvents:"none"},children:gR(c.value)?s.jsx(s.Fragment,{children:o}):i})});YM.displayName=GM;var vB="SelectIcon",ZM=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(Ne.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});ZM.displayName=vB;var yB="SelectPortal",JM=e=>s.jsx(Lc,{asChild:!0,...e});JM.displayName=yB;var yi="SelectContent",XM=h.forwardRef((e,t)=>{const n=Ma(yi,e.__scopeSelect),[r,a]=h.useState();if(Zt(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?Ta.createPortal(s.jsx(eR,{scope:e.__scopeSelect,children:s.jsx(tm.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(tR,{...e,ref:t})});XM.displayName=yi;var yr=10,[eR,Ra]=rl(yi),wB="SelectContentImpl",bB=di("SelectContent.RemoveScroll"),tR=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:w,...v}=e,x=Ma(yi,n),[b,N]=h.useState(null),[C,P]=h.useState(null),S=Je(t,de=>N(de)),[E,O]=h.useState(null),[j,D]=h.useState(null),I=nm(n),[R,F]=h.useState(!1),k=h.useRef(!1);h.useEffect(()=>{if(b)return Wx(b)},[b]),qx();const T=h.useCallback(de=>{const[_e,...He]=I().map(Q=>Q.ref.current),[Te]=He.slice(-1),W=document.activeElement;for(const Q of de)if(Q===W||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===_e&&C&&(C.scrollTop=0),Q===Te&&C&&(C.scrollTop=C.scrollHeight),Q==null||Q.focus(),document.activeElement!==W))return},[I,C]),B=h.useCallback(()=>T([E,b]),[T,E,b]);h.useEffect(()=>{R&&B()},[R,B]);const{onOpenChange:L,triggerPointerDownPosRef:_}=x;h.useEffect(()=>{if(b){let de={x:0,y:0};const _e=Te=>{var W,Q;de={x:Math.abs(Math.round(Te.pageX)-(((W=_.current)==null?void 0:W.x)??0)),y:Math.abs(Math.round(Te.pageY)-(((Q=_.current)==null?void 0:Q.y)??0))}},He=Te=>{de.x<=10&&de.y<=10?Te.preventDefault():b.contains(Te.target)||L(!1),document.removeEventListener("pointermove",_e),_.current=null};return _.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",He,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",He,{capture:!0})}}},[b,L,_]),h.useEffect(()=>{const de=()=>L(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[L]);const[z,Y]=vR(de=>{const _e=I().filter(W=>!W.disabled),He=_e.find(W=>W.ref.current===document.activeElement),Te=yR(_e,de,He);Te&&setTimeout(()=>Te.ref.current.focus())}),ae=h.useCallback((de,_e,He)=>{const Te=!k.current&&!He;(x.value!==void 0&&x.value===_e||Te)&&(O(de),Te&&(k.current=!0))},[x.value]),Me=h.useCallback(()=>b==null?void 0:b.focus(),[b]),Ce=h.useCallback((de,_e,He)=>{const Te=!k.current&&!He;(x.value!==void 0&&x.value===_e||Te)&&D(de)},[x.value]),Ke=r==="popper"?ng:nR,De=Ke===ng?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:w}:{};return s.jsx(eR,{scope:n,content:b,viewport:C,onViewportChange:P,itemRefCallback:ae,selectedItem:E,onItemLeave:Me,itemTextRefCallback:Ce,focusSelectedItem:B,selectedItemText:j,position:r,isPositioned:R,searchRef:z,children:s.jsx(Vf,{as:bB,allowPinchZoom:!0,children:s.jsx($f,{asChild:!0,trapped:x.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:se(a,de=>{var _e;(_e=x.trigger)==null||_e.focus({preventScroll:!0}),de.preventDefault()}),children:s.jsx(Go,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(Ke,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:de=>de.preventDefault(),...v,...De,onPlaced:()=>F(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:se(v.onKeyDown,de=>{const _e=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!_e&&de.key.length===1&&Y(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let Te=I().filter(W=>!W.disabled).map(W=>W.ref.current);if(["ArrowUp","End"].includes(de.key)&&(Te=Te.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const W=de.target,Q=Te.indexOf(W);Te=Te.slice(Q+1)}setTimeout(()=>T(Te)),de.preventDefault()}})})})})})})});tR.displayName=wB;var jB="SelectItemAlignedPosition",nR=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=Ma(yi,n),o=Ra(yi,n),[l,c]=h.useState(null),[d,u]=h.useState(null),f=Je(t,S=>u(S)),m=nm(n),p=h.useRef(!1),y=h.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:v,focusSelectedItem:x}=o,b=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&w&&v){const S=i.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),j=v.getBoundingClientRect();if(i.dir!=="rtl"){const W=j.left-E.left,Q=O.left-W,le=S.left-Q,te=S.width+le,ve=Math.max(te,E.width),qe=window.innerWidth-yr,q=Pb(Q,[yr,Math.max(yr,qe-ve)]);l.style.minWidth=te+"px",l.style.left=q+"px"}else{const W=E.right-j.right,Q=window.innerWidth-O.right-W,le=window.innerWidth-S.right-Q,te=S.width+le,ve=Math.max(te,E.width),qe=window.innerWidth-yr,q=Pb(Q,[yr,Math.max(yr,qe-ve)]);l.style.minWidth=te+"px",l.style.right=q+"px"}const D=m(),I=window.innerHeight-yr*2,R=g.scrollHeight,F=window.getComputedStyle(d),k=parseInt(F.borderTopWidth,10),T=parseInt(F.paddingTop,10),B=parseInt(F.borderBottomWidth,10),L=parseInt(F.paddingBottom,10),_=k+T+R+L+B,z=Math.min(w.offsetHeight*5,_),Y=window.getComputedStyle(g),ae=parseInt(Y.paddingTop,10),Me=parseInt(Y.paddingBottom,10),Ce=S.top+S.height/2-yr,Ke=I-Ce,De=w.offsetHeight/2,de=w.offsetTop+De,_e=k+T+de,He=_-_e;if(_e<=Ce){const W=D.length>0&&w===D[D.length-1].ref.current;l.style.bottom="0px";const Q=d.clientHeight-g.offsetTop-g.offsetHeight,le=Math.max(Ke,De+(W?Me:0)+Q+B),te=_e+le;l.style.height=te+"px"}else{const W=D.length>0&&w===D[0].ref.current;l.style.top="0px";const le=Math.max(Ce,k+g.offsetTop+(W?ae:0)+De)+He;l.style.height=le+"px",g.scrollTop=_e-Ce+g.offsetTop}l.style.margin=`${yr}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,g,w,v,i.dir,r]);Zt(()=>b(),[b]);const[N,C]=h.useState();Zt(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const P=h.useCallback(S=>{S&&y.current===!0&&(b(),x==null||x(),y.current=!1)},[b,x]);return s.jsx(SB,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(Ne.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});nR.displayName=jB;var NB="SelectPopperPosition",ng=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=yr,...i}=e,o=rm(n);return s.jsx(Vx,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ng.displayName=NB;var[SB,Rv]=rl(yi,{}),rg="SelectViewport",rR=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=Ra(rg,n),o=Rv(rg,n),l=Je(t,i.onViewportChange),c=h.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(tm.Slot,{scope:n,children:s.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:se(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const p=Math.abs(c.current-u.scrollTop);if(p>0){const y=window.innerHeight-yr*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),v=Math.max(g,w);if(v<y){const x=v+p,b=Math.min(y,x),N=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});rR.displayName=rg;var sR="SelectGroup",[CB,kB]=rl(sR),_B=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Tr();return s.jsx(CB,{scope:n,id:a,children:s.jsx(Ne.div,{role:"group","aria-labelledby":a,...r,ref:t})})});_B.displayName=sR;var aR="SelectLabel",iR=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=kB(aR,n);return s.jsx(Ne.div,{id:a.id,...r,ref:t})});iR.displayName=aR;var sf="SelectItem",[PB,oR]=rl(sf),lR=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=Ma(sf,n),c=Ra(sf,n),d=l.value===r,[u,f]=h.useState(i??""),[m,p]=h.useState(!1),y=Je(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,r,a)}),g=Tr(),w=h.useRef("touch"),v=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(PB,{scope:n,value:r,disabled:a,textId:g,isSelected:d,onItemTextChange:h.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(tm.ItemSlot,{scope:n,value:r,disabled:a,textValue:u,children:s.jsx(Ne.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:se(o.onFocus,()=>p(!0)),onBlur:se(o.onBlur,()=>p(!1)),onClick:se(o.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:se(o.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:se(o.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:se(o.onPointerMove,x=>{var b;w.current=x.pointerType,a?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:se(o.onKeyDown,x=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&x.key===" "||(mB.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});lR.displayName=sf;var Pl="SelectItemText",cR=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=Ma(Pl,n),l=Ra(Pl,n),c=oR(Pl,n),d=xB(Pl,n),[u,f]=h.useState(null),m=Je(t,v=>f(v),c.onItemTextChange,v=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,v,c.value,c.disabled)}),p=u==null?void 0:u.textContent,y=h.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=d;return Zt(()=>(g(y),()=>w(y)),[g,w,y]),s.jsxs(s.Fragment,{children:[s.jsx(Ne.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ta.createPortal(i.children,o.valueNode):null]})});cR.displayName=Pl;var dR="SelectItemIndicator",uR=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return oR(dR,n).isSelected?s.jsx(Ne.span,{"aria-hidden":!0,...r,ref:t}):null});uR.displayName=dR;var sg="SelectScrollUpButton",fR=h.forwardRef((e,t)=>{const n=Ra(sg,e.__scopeSelect),r=Rv(sg,e.__scopeSelect),[a,i]=h.useState(!1),o=Je(t,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(hR,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});fR.displayName=sg;var ag="SelectScrollDownButton",mR=h.forwardRef((e,t)=>{const n=Ra(ag,e.__scopeSelect),r=Rv(ag,e.__scopeSelect),[a,i]=h.useState(!1),o=Je(t,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(hR,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});mR.displayName=ag;var hR=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=Ra("SelectScrollButton",n),o=h.useRef(null),l=nm(n),c=h.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Zt(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ne.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:se(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:se(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:se(a.onPointerLeave,()=>{c()})})}),EB="SelectSeparator",pR=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Ne.div,{"aria-hidden":!0,...r,ref:t})});pR.displayName=EB;var ig="SelectArrow",TB=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=rm(n),i=Ma(ig,n),o=Ra(ig,n);return i.open&&o.position==="popper"?s.jsx(Ux,{...a,...r,ref:t}):null});TB.displayName=ig;function gR(e){return e===""||e===void 0}var xR=h.forwardRef((e,t)=>{const{value:n,...r}=e,a=h.useRef(null),i=Je(t,a),o=em(n);return h.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&u){const f=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(f)}},[o,n]),s.jsx(Fc,{asChild:!0,children:s.jsx("select",{...r,ref:i,defaultValue:n})})});xR.displayName="BubbleSelect";function vR(e){const t=un(e),n=h.useRef(""),r=h.useRef(0),a=h.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function yR(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=MB(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function MB(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var RB=WM,wR=QM,AB=YM,IB=ZM,DB=JM,bR=XM,OB=rR,jR=iR,NR=lR,LB=cR,FB=uR,SR=fR,CR=mR,kR=pR;const ns=RB,vs=AB,Rr=h.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(wR,{ref:r,className:K("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(IB,{asChild:!0,children:s.jsx(ui,{className:"h-4 w-4 opacity-50"})})]}));Rr.displayName=wR.displayName;const _R=h.forwardRef(({className:e,...t},n)=>s.jsx(SR,{ref:n,className:K("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(_p,{className:"h-4 w-4"})}));_R.displayName=SR.displayName;const PR=h.forwardRef(({className:e,...t},n)=>s.jsx(CR,{ref:n,className:K("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ui,{className:"h-4 w-4"})}));PR.displayName=CR.displayName;const Ar=h.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(DB,{children:s.jsxs(bR,{ref:a,className:K("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(_R,{}),s.jsx(OB,{className:K("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(PR,{})]})}));Ar.displayName=bR.displayName;const $B=h.forwardRef(({className:e,...t},n)=>s.jsx(jR,{ref:n,className:K("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));$B.displayName=jR.displayName;const Mt=h.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(NR,{ref:r,className:K("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(FB,{children:s.jsx(Ss,{className:"h-4 w-4"})})}),s.jsx(LB,{children:t})]}));Mt.displayName=NR.displayName;const zB=h.forwardRef(({className:e,...t},n)=>s.jsx(kR,{ref:n,className:K("-mx-1 my-1 h-px bg-muted",e),...t}));zB.displayName=kR.displayName;const VB=ke.object({skill:ke.string({required_error:"Skill is required"}).trim().min(1,"Skill is required"),headcount:ke.coerce.number({invalid_type_error:"Headcount must be a number"}).int("Headcount must be a whole number").min(1,"Headcount must be at least 1"),notes:ke.union([ke.string(),ke.null(),ke.undefined()]).transform(e=>e??"")}),UB=sB.extend({skillRequirements:ke.array(VB).default([])});function Eb(){const[,e]=Wt(),[,t]=Sf("/jobs/:id/edit"),{toast:n}=St(),r=!!(t!=null&&t.id),[a,i]=G.useState(!1),[o,l]=G.useState(!1),{data:c,isLoading:d}=Ie({queryKey:["/api/jobs",t==null?void 0:t.id],enabled:r}),u=()=>{const j=new Date;return j.setHours(9,0,0,0),j},f=()=>{const j=new Date;return j.setHours(17,0,0,0),j},m=ua({resolver:fa(UB),defaultValues:{name:"",location:"",startTime:u(),endTime:f(),requiredHeadcount:void 0,notes:"",skillRequirements:[]}}),{data:p}=Ie({queryKey:["/api/skills/availability"]}),{fields:y,append:g,remove:w}=FV({control:m.control,name:"skillRequirements"}),v=m.watch("skillRequirements")??[];G.useEffect(()=>{const j=v.reduce((D,I)=>{const R=Number((I==null?void 0:I.headcount)??0);return D+(isNaN(R)?0:R)},0);j>0&&m.setValue("requiredHeadcount",j)},[v,m]);const x=G.useMemo(()=>{const j=new Map;return p==null||p.skills.forEach(D=>{j.set(D.skill.toLowerCase(),D)}),j},[p]),b=G.useMemo(()=>{const j=new Set;return p==null||p.skills.forEach(D=>{var R;const I=(R=D.skill)==null?void 0:R.trim();I&&j.add(I)}),v.forEach(D=>{var R;const I=(R=D==null?void 0:D.skill)==null?void 0:R.trim();I&&j.add(I)}),Array.from(j).sort((D,I)=>D.localeCompare(I))},[p,v]),[N,C]=G.useState({});G.useEffect(()=>{C(j=>{const D={};y.forEach((F,k)=>{const T=m.getValues(`skillRequirements.${k}.skill`)??"",B=T.trim().toLowerCase(),L=b.find(_=>_.toLowerCase()===B);D[F.id]=Object.prototype.hasOwnProperty.call(j,F.id)?j[F.id]:T.trim().length>0&&!L});const I=Object.keys(j),R=Object.keys(D);return I.length===R.length&&R.every(k=>j[k]===D[k])?j:D})},[y,b,m]);const P=tt({mutationFn:j=>rt("POST","/api/jobs",j),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/jobs"]}),n({title:"Job Created",description:"Your job has been created successfully"}),e("/")},onError:()=>{n({title:"Error",description:"Failed to create job",variant:"destructive"})}}),S=tt({mutationFn:async j=>{const D=await rt("PATCH",`/api/jobs/${t==null?void 0:t.id}`,j);try{return await D.json()}catch{return null}},onSuccess:async j=>{var k,T,B,L,_;await Ee.invalidateQueries({queryKey:["/api/jobs"]}),await Ee.invalidateQueries({queryKey:["/api/jobs",t==null?void 0:t.id]}),n({title:"Job Updated",description:"Your job has been updated successfully"});const D=(k=j==null?void 0:j.reschedule)==null?void 0:k.triggered,I=((T=j==null?void 0:j.reschedule)==null?void 0:T.notifiedCount)??0,R=((B=j==null?void 0:j.reschedule)==null?void 0:B.removedContactsCount)??0,F=((L=j==null?void 0:j.reschedule)==null?void 0:L.replacementInvitesSent)??0;if(D){let z="";R>0?(z=`${R} contact${R===1?" was":"s were"} unavailable on the new date and removed from this job.`,F>0&&(z+=` Invited ${F} replacement contact${F===1?"":"s"}.`),I>0&&(z+=` Notified ${I} available contact${I===1?"":"s"} about the reschedule.`),n({title:"Job Rescheduled",description:z,variant:"default"})):I>0?(z=`Notified ${I} contact${I===1?"":"s"} about the new schedule.`,n({title:"Reschedule notices sent",description:z})):n({title:"Job Updated",description:"No SMS notifications were sent (Twilio not configured or no confirmed contacts)."})}if((_=j==null?void 0:j.conflicts)!=null&&_.length){const z=j.conflicts.map(Y=>{const ae=`${Y.contact.firstName} ${Y.contact.lastName}`.trim(),Me=Y.jobs.map(Ce=>Ce.name).join(", ");return`${ae}: ${Me}`}).join("  ");n({title:"Heads up  scheduling conflicts detected",description:z,variant:"destructive"})}e("/")},onError:j=>{n({title:"Error",description:(j==null?void 0:j.message)||"Failed to update job",variant:"destructive"})}}),E=G.useCallback(async()=>{if(t!=null&&t.id)try{l(!0);const j=await rt("DELETE",`/api/jobs/${t.id}`);let D=null;try{D=await j.json()}catch{D=null}const I=(D==null?void 0:D.notifiedCount)??0;await Ee.invalidateQueries({queryKey:["/api/jobs"]}),await Ee.invalidateQueries({queryKey:["/api/jobs",t.id]}),await Ee.invalidateQueries({queryKey:["/api/contacts"]}),n({title:"Job cancelled",description:I>0?`Notified ${I} contact${I===1?"":"s"} about the cancellation.`:"The job was removed and no confirmed contacts required notification."}),e("/")}catch(j){n({title:"Failed to cancel job",description:(j==null?void 0:j.message)||"Unable to cancel this job right now",variant:"destructive"})}finally{l(!1),i(!1)}},[t==null?void 0:t.id,e,n]);if(G.useEffect(()=>{var j;r&&c&&m.reset({name:c.name,location:c.location,startTime:new Date(c.startTime),endTime:new Date(c.endTime),requiredHeadcount:c.requiredHeadcount||void 0,notes:c.notes||"",skillRequirements:((j=c.skillRequirements)==null?void 0:j.map(D=>({skill:D.skill??"",headcount:D.headcount??1,notes:D.notes??""})))??[]})},[c,r,m]),r&&d)return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})});const O=j=>{const D=j.skillRequirements.map(k=>{const T=k.skill.trim(),B=k.notes.trim();return{skill:T,headcount:Number(k.headcount),notes:B.length?B:null}}).filter(k=>k.skill.length>0),I=typeof j.notes=="string"?j.notes.trim():"",R=I.length?I:null,F={...j,notes:R,skillRequirements:D};r?S.mutate(F):P.mutate(F)};return s.jsxs("div",{className:"max-w-2xl",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(U,{variant:"ghost",size:"sm",className:"gap-2 mb-4",onClick:()=>e("/"),"data-testid":"link-back-dashboard",children:[s.jsx(bx,{className:"h-4 w-4"}),"Back to Dashboard"]}),s.jsx("h1",{className:"text-3xl font-semibold","data-testid":"text-page-title",children:r?"Edit Job":"Create New Job"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:r?"Update job details and notify your crew of changes":"Set up a new job and coordinate your crew"})]}),s.jsx(ye,{children:s.jsx(ma,{...m,children:s.jsxs("form",{onSubmit:m.handleSubmit(O),children:[s.jsx(ct,{children:s.jsx("h2",{className:"text-lg font-semibold",children:"Job Details"})}),s.jsxs(Se,{className:"space-y-6",children:[s.jsx(ze,{control:m.control,name:"name",render:({field:j})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Job Name"}),s.jsx(Oe,{children:s.jsx(je,{placeholder:"e.g., Downtown Construction Site",...j,"data-testid":"input-job-name"})}),s.jsx(Ve,{})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-medium",children:"Skill Requirements"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add the skills and headcount you need for this job. Availability is based on your contacts."})]}),s.jsxs(U,{type:"button",variant:"outline",size:"sm",onClick:()=>g({skill:"",headcount:1,notes:""}),"data-testid":"button-add-skill-requirement",children:[s.jsx(Fo,{className:"mr-2 h-4 w-4"}),"Add Skill"]})]}),s.jsx("div",{className:"space-y-4",children:y.length===0?s.jsx("div",{className:"rounded-lg border border-dashed px-4 py-6 text-sm text-muted-foreground",children:"No skill requirements yet. Click Add Skill to create one."}):y.map((j,D)=>{var Me;const I=v==null?void 0:v[D],R=((Me=I==null?void 0:I.skill)==null?void 0:Me.trim())??"",F=R.toLowerCase(),k=F?x.get(F):void 0,T=Number((I==null?void 0:I.headcount)??0),B=R.length>0,L=(k==null?void 0:k.availableCount)??0,z=B&&!!p&&T>L&&T>0,Y=B?k?L===0?`No available contacts with ${k.skill}.`:`Only ${k.availableCount} ${k.availableCount===1?"person is":"people are"} currently available for ${k.skill}.`:`No availability data for ${R}.`:"",ae=B?p?k?`${k.availableCount}/${k.totalCount} available`:"No availability data found":"Loading availability...":"Select a skill to view availability";return s.jsxs("div",{className:"space-y-4 rounded-lg border p-4","data-testid":`skill-requirement-${D}`,children:[s.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start",children:[s.jsx(ze,{control:m.control,name:`skillRequirements.${D}.skill`,render:({field:Ce})=>{const Ke=Ce.value??"",De=Ke.trim().toLowerCase(),de=b.find(Te=>Te.toLowerCase()===De),_e=N[j.id]??(Ke.trim().length>0&&!de),He=_e?"__other__":de??"";return s.jsxs(Le,{className:"flex-1",children:[s.jsx(Fe,{children:"Skill"}),s.jsx(Oe,{children:s.jsxs(ns,{value:He,onValueChange:Te=>{Te==="__other__"?(C(W=>({...W,[j.id]:!0})),de&&Ce.onChange("")):(C(W=>({...W,[j.id]:!1})),Ce.onChange(Te))},children:[s.jsx(Rr,{"data-testid":`skill-requirement-skill-${D}`,children:s.jsx(vs,{placeholder:"Select a skill"})}),s.jsxs(Ar,{children:[b.map(Te=>s.jsx(Mt,{value:Te,children:Te},Te)),s.jsx(Mt,{value:"__other__",children:"Other"})]})]})}),_e&&s.jsx("div",{className:"mt-3",children:s.jsx(Oe,{children:s.jsx(je,{placeholder:"Type a custom skill",value:Ke,onChange:Te=>Ce.onChange(Te.target.value),"data-testid":`skill-requirement-custom-${D}`})})}),s.jsx(Ve,{})]})}}),s.jsx(ze,{control:m.control,name:`skillRequirements.${D}.headcount`,render:({field:Ce})=>s.jsxs(Le,{className:"w-full sm:w-32",children:[s.jsx(Fe,{children:"Headcount"}),s.jsx(Oe,{children:s.jsx(je,{type:"number",min:1,...Ce,value:Ce.value??"",onChange:Ke=>{const De=Ke.target.value;Ce.onChange(De===""?void 0:Number(De))},"data-testid":`skill-requirement-headcount-${D}`})}),s.jsx(Ve,{})]})}),s.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"self-start text-muted-foreground",onClick:()=>{C(Ce=>{const Ke={...Ce};return delete Ke[j.id],Ke}),w(D)},"data-testid":`button-remove-skill-${D}`,"aria-label":`Remove skill requirement ${D+1}`,children:s.jsx(Xr,{className:"h-4 w-4"})})]}),s.jsx(ze,{control:m.control,name:`skillRequirements.${D}.notes`,render:({field:Ce})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Skill-Specific Notes (Optional)"}),s.jsx(Oe,{children:s.jsx(je,{placeholder:"Add any additional details for this skill...",...Ce,value:Ce.value??"",onChange:Ke=>Ce.onChange(Ke.target.value),"data-testid":`skill-requirement-notes-${D}`})}),s.jsx(Ve,{})]})}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-muted-foreground",children:ae}),z&&s.jsx("p",{className:"mt-1 text-destructive",role:"alert",children:Y})]})]},j.id)})})]}),s.jsx(ze,{control:m.control,name:"location",render:({field:j})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Location"}),s.jsx(Oe,{children:s.jsx(qM,{value:j.value,onChange:j.onChange,onBlur:j.onBlur,id:"job-location",placeholder:"Search or choose on map",inputProps:{"data-testid":"input-job-location"}})}),s.jsx(Ve,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsx(ze,{control:m.control,name:"startTime",render:({field:j})=>{const D=I=>{if(!I)return"";const R=I instanceof Date?I:new Date(I);if(isNaN(R.getTime()))return"";const F=R.getFullYear(),k=String(R.getMonth()+1).padStart(2,"0"),T=String(R.getDate()).padStart(2,"0"),B=String(R.getHours()).padStart(2,"0"),L=String(R.getMinutes()).padStart(2,"0");return`${F}-${k}-${T}T${B}:${L}`};return s.jsxs(Le,{children:[s.jsx(Fe,{children:"Start Time"}),s.jsx(Oe,{children:s.jsx(je,{type:"datetime-local",value:D(j.value),onChange:I=>{const R=I.target.value;if(R){const F=new Date(R);isNaN(F.getTime())||j.onChange(F)}else j.onChange(void 0)},"data-testid":"input-start-time"})}),s.jsx(Ve,{})]})}}),s.jsx(ze,{control:m.control,name:"endTime",render:({field:j})=>{const D=I=>{if(!I)return"";const R=I instanceof Date?I:new Date(I);if(isNaN(R.getTime()))return"";const F=R.getFullYear(),k=String(R.getMonth()+1).padStart(2,"0"),T=String(R.getDate()).padStart(2,"0"),B=String(R.getHours()).padStart(2,"0"),L=String(R.getMinutes()).padStart(2,"0");return`${F}-${k}-${T}T${B}:${L}`};return s.jsxs(Le,{children:[s.jsx(Fe,{children:"End Time"}),s.jsx(Oe,{children:s.jsx(je,{type:"datetime-local",value:D(j.value),onChange:I=>{const R=I.target.value;if(R){const F=new Date(R);isNaN(F.getTime())||j.onChange(F)}else j.onChange(void 0)},"data-testid":"input-end-time"})}),s.jsx(Ve,{})]})}})]}),s.jsx(ze,{control:m.control,name:"requiredHeadcount",render:({field:j})=>{const D=v.reduce((I,R)=>{const F=Number((R==null?void 0:R.headcount)??0);return I+(isNaN(F)?0:F)},0);return s.jsxs(Le,{children:[s.jsx(Fe,{children:"Required Headcount"}),s.jsx(Oe,{children:s.jsx(je,{type:"number",placeholder:"e.g., 6",...j,value:j.value||"",onChange:I=>j.onChange(I.target.value?parseInt(I.target.value):void 0),"data-testid":"input-required-headcount",disabled:D>0})}),D>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Auto-calculated from skill requirements: ",D," people"]}),s.jsx(Ve,{})]})}}),s.jsx(ze,{control:m.control,name:"notes",render:({field:j})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Notes (Optional)"}),s.jsx(Oe,{children:s.jsx(Ps,{placeholder:"Add any additional details about the job...",className:"resize-none h-24",...j,value:j.value??"","data-testid":"input-notes"})}),s.jsx(Ve,{})]})})]}),s.jsxs(fv,{className:"flex flex-col gap-4 border-t pt-6 sm:flex-row sm:items-center sm:justify-between",children:[r&&s.jsxs(tE,{open:a,onOpenChange:i,children:[s.jsx(nE,{asChild:!0,children:s.jsx(U,{type:"button",variant:"destructive",className:"w-full sm:w-auto","data-testid":"button-cancel-job",children:"Cancel Job"})}),s.jsxs(pv,{children:[s.jsxs(gv,{children:[s.jsx(vv,{children:"Cancel this job?"}),s.jsx(yv,{children:"Confirmed crew members will receive an SMS and the job will be removed from their schedules."})]}),s.jsxs(xv,{children:[s.jsx(bv,{disabled:o,children:"Keep Job"}),s.jsx(wv,{onClick:E,disabled:o,children:o?"Cancelling...":"Confirm Cancellation"})]})]})]}),s.jsxs("div",{className:"flex w-full justify-end gap-3 sm:w-auto",children:[s.jsx(U,{type:"button",variant:"outline",onClick:()=>e("/"),"data-testid":"link-cancel",children:"Cancel"}),s.jsxs(U,{type:"submit",disabled:P.isPending||S.isPending,"data-testid":"button-submit-job",children:[(P.isPending||S.isPending)&&s.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-primary-foreground border-t-transparent"}),r?"Update Job":"Create Job"]})]})]})]})})})]})}const Tb=[{id:"confirmed",label:"Confirmed",variant:"default"},{id:"maybe",label:"Maybe",variant:"secondary"},{id:"declined",label:"Declined",variant:"secondary"},{id:"no_reply",label:"No Reply",variant:"secondary"}];function BB({columnId:e,label:t,variant:n,availability:r,onSelect:a,onDrop:i}){const[o,l]=h.useState(!1),c=f=>{f.preventDefault(),f.dataTransfer.dropEffect="move",f.dataTransfer.getData("currentStatus")!==e&&l(!0)},d=()=>{l(!1)},u=f=>{f.preventDefault(),l(!1);const m=f.dataTransfer.getData("availabilityId"),p=f.dataTransfer.getData("currentStatus");m&&p!==e&&i(m,e)};return s.jsxs(ye,{className:`${o?"ring-2 ring-primary":""}`,"data-testid":`column-${e}`,onDragOver:c,onDragLeave:d,onDrop:u,children:[s.jsx(ct,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold",children:t}),s.jsx($e,{variant:n,"data-testid":`badge-count-${e}`,children:r.length})]})}),s.jsx(Se,{className:"space-y-3",children:r.length===0?s.jsx("div",{className:`text-center py-8 text-sm text-muted-foreground border-2 border-dashed rounded-lg ${o?"border-primary bg-primary/5":""}`,children:o?"Drop here":"No contacts"}):r.map(f=>s.jsx(KB,{availability:f,onSelect:()=>a(f.contact),onStatusChange:m=>i(f.id,m)},f.id))})]})}const ph=e=>(e==null?void 0:e.trim().toLowerCase())??"";function HB(){const[,e]=Sf("/jobs/:id/schedule"),[t,n]=h.useState(null),{toast:r}=St(),{data:a,isLoading:i}=Ie({queryKey:["/api/jobs",e==null?void 0:e.id,"roster"],refetchInterval:5e3}),{data:o}=Ie({queryKey:["/api/messages",t==null?void 0:t.id],enabled:!!t}),l=tt({mutationFn:({availabilityId:m,status:p})=>rt("PATCH",`/api/availability/${m}`,{status:p}),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/jobs",e==null?void 0:e.id,"roster"]}),Ee.invalidateQueries({queryKey:["/api/jobs"]}),r({title:"Status Updated",description:"Contact availability status has been updated"})}}),c=((a==null?void 0:a.skillRequirements)??[]).filter(m=>!!ph(m.skill)&&(m.headcount??0)>0),d=h.useMemo(()=>(a==null?void 0:a.availability.filter(m=>m.status==="confirmed"))??[],[a==null?void 0:a.availability]),u=h.useMemo(()=>c.length?c.map(m=>{var w;const p=ph(m.skill),y=m.headcount??0,g=p?d.reduce((v,x)=>{const b=x.contact;return b&&(b.skills??[]).map(ph).includes(p)?v+1:v},0):0;return{key:p,label:((w=m.skill)==null?void 0:w.trim())||"Skill",required:y,confirmed:g,remaining:Math.max(y-g,0),notes:m.notes??""}}):[],[c,d]);if(i)return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})});if(!a)return s.jsx("div",{children:"Job not found"});const f=Tb.reduce((m,p)=>(m[p.id]=a.availability.filter(y=>y.status===p.id),m),{});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Ye,{href:"/",children:s.jsx("a",{"data-testid":"link-back-dashboard",children:s.jsxs(U,{variant:"ghost",size:"sm",className:"gap-2 mb-4",children:[s.jsx(bx,{className:"h-4 w-4"}),"Back to Dashboard"]})})}),s.jsx("h1",{className:"text-3xl font-semibold","data-testid":"text-job-name",children:a.name}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:[dt(new Date(a.startTime),"MMMM d, yyyy 'at' h:mm a")," - ",a.location]})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(Ye,{href:`/jobs/${a.id}/send`,children:s.jsx("a",{"data-testid":"link-send-message",children:s.jsxs(U,{className:"gap-2",children:[s.jsx(Cs,{className:"h-4 w-4"}),"Send Message"]})})}),s.jsx(Ye,{href:`/jobs/${a.id}/edit`,children:s.jsx("a",{"data-testid":"link-edit-job",children:s.jsx(U,{variant:"outline",children:"Edit Job"})})}),s.jsxs(U,{variant:"outline",className:"gap-2",onClick:()=>qB(a,f.confirmed||[]),"data-testid":"button-export-csv",children:[s.jsx(Sx,{className:"h-4 w-4"}),"Export CSV"]}),s.jsxs(U,{variant:"outline",className:"gap-2",onClick:()=>WB(a.id),"data-testid":"button-download-calendar",children:[s.jsx(nn,{className:"h-4 w-4"}),"Calendar Invite"]})]}),u.length>0&&s.jsxs(ye,{children:[s.jsx(ct,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Skill Requirements"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Coverage based on confirmed crew members"})]})}),s.jsx(Se,{children:s.jsx("div",{className:"grid gap-2","data-testid":"skill-requirement-summary",children:u.map((m,p)=>s.jsxs("div",{className:"flex items-center justify-between rounded-md border border-border bg-muted/40 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:m.label}),m.notes&&s.jsx("span",{className:"text-xs text-muted-foreground",children:m.notes})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:m.remaining>0?"font-semibold text-destructive":"font-semibold text-emerald-600",children:[m.confirmed,"/",m.required]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:m.remaining>0?`${m.remaining} more needed`:"Requirement met"})]})]},`${m.key}-${p}`))})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Tb.map(m=>s.jsx(BB,{columnId:m.id,label:m.label,variant:m.variant,availability:f[m.id]||[],onSelect:n,onDrop:(p,y)=>{l.mutate({availabilityId:p,status:y})}},m.id))}),s.jsx(ev,{open:!!t,onOpenChange:m=>!m&&n(null),children:s.jsx(Bf,{className:"w-full sm:max-w-lg overflow-y-auto",children:t&&s.jsxs(s.Fragment,{children:[s.jsx(Hf,{children:s.jsxs(qf,{className:"flex items-center gap-3",children:[s.jsx(rr,{children:s.jsxs(sr,{children:[t.firstName[0],t.lastName[0]]})}),s.jsxs("div",{children:[s.jsxs("div",{"data-testid":"text-contact-name",children:[t.firstName," ",t.lastName]}),s.jsx("div",{className:"text-sm font-normal text-muted-foreground",children:"Contact Details"})]})]})}),s.jsxs("div",{className:"mt-6 space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(_u,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{"data-testid":"text-contact-phone",children:t.phone})]}),t.email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Lo,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{"data-testid":"text-contact-email",children:t.email})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Message Thread"}),o&&o.length>0?s.jsx("div",{className:"space-y-3",children:o.map(m=>s.jsxs("div",{className:`p-3 rounded-lg ${m.direction==="outbound"?"bg-primary/10 ml-8":"bg-card mr-8"}`,"data-testid":`message-${m.id}`,children:[s.jsx("p",{className:"text-sm",children:m.content}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:dt(new Date(m.createdAt),"MMM d, h:mm a")}),m.direction==="outbound"&&s.jsx($e,{variant:"secondary",className:"text-xs",children:m.status})]})]},m.id))}):s.jsx("div",{className:"text-center py-8 text-sm text-muted-foreground border-2 border-dashed rounded-lg",children:"No messages yet"})]})]})]})})})]})}function qB(e,t){const n=d=>`"${d.replace(/"/g,'""')}"`,r=["First Name","Last Name","Phone","Email","Shift Preference","Status"],a=t.map(d=>[d.contact.firstName,d.contact.lastName,d.contact.phone,d.contact.email||"",d.shiftPreference||"",d.status]),i=[r.map(n).join(","),...a.map(d=>d.map(n).join(","))].join(`
`),o=new Blob([i],{type:"text/csv"}),l=window.URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=`${e.name.replace(/\s+/g,"_")}_roster_${dt(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(l)}function WB(e){const t=document.createElement("a");t.href=`/api/jobs/${e}/calendar-invite`,t.download="",document.body.appendChild(t),t.click(),document.body.removeChild(t)}function KB({availability:e,onSelect:t,onStatusChange:n}){const{contact:r}=e,[a,i]=h.useState(!1),o=c=>{c.dataTransfer.effectAllowed="move",c.dataTransfer.setData("availabilityId",e.id),c.dataTransfer.setData("currentStatus",e.status),i(!0)},l=()=>{i(!1)};return s.jsx(ye,{draggable:!0,onDragStart:o,onDragEnd:l,className:`hover-elevate cursor-move ${a?"opacity-50":""}`,onClick:t,"data-testid":`card-contact-${r.id}`,children:s.jsxs(Se,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(rr,{className:"h-10 w-10",children:s.jsxs(sr,{className:"text-xs",children:[r.firstName[0],r.lastName[0]]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"font-medium text-sm truncate",children:[r.firstName," ",r.lastName]}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:r.phone})]})]}),e.shiftPreference&&s.jsx($e,{variant:"secondary",className:"mt-2 text-xs",children:e.shiftPreference})]})})}var Av="Checkbox",[QB,EH]=fn(Av),[GB,YB]=QB(Av),ER=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,p]=h.useState(null),y=Je(t,N=>p(N)),g=h.useRef(!1),w=m?u||!!m.closest("form"):!0,[v=!1,x]=Dr({prop:a,defaultProp:i,onChange:d}),b=h.useRef(v);return h.useEffect(()=>{const N=m==null?void 0:m.form;if(N){const C=()=>x(b.current);return N.addEventListener("reset",C),()=>N.removeEventListener("reset",C)}},[m,x]),s.jsxs(GB,{scope:n,state:v,disabled:l,children:[s.jsx(Ne.button,{type:"button",role:"checkbox","aria-checked":ha(v)?"mixed":v,"aria-required":o,"data-state":RR(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onKeyDown:se(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:se(e.onClick,N=>{x(C=>ha(C)?!0:!C),w&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})}),w&&s.jsx(ZB,{control:m,bubbles:!g.current,name:r,value:c,checked:v,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:ha(i)?!1:i})]})});ER.displayName=Av;var TR="CheckboxIndicator",MR=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=YB(TR,n);return s.jsx(nr,{present:r||ha(i.state)||i.state===!0,children:s.jsx(Ne.span,{"data-state":RR(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});MR.displayName=TR;var ZB=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:a,...i}=e,o=h.useRef(null),l=em(n),c=If(t);h.useEffect(()=>{const u=o.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&p){const y=new Event("click",{bubbles:r});u.indeterminate=ha(n),p.call(u,ha(n)?!1:n),u.dispatchEvent(y)}},[l,n,r]);const d=h.useRef(ha(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ha(e){return e==="indeterminate"}function RR(e){return ha(e)?"indeterminate":e?"checked":"unchecked"}var AR=ER,JB=MR;const Iv=h.forwardRef(({className:e,...t},n)=>s.jsx(AR,{ref:n,className:K("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(JB,{className:K("flex items-center justify-center text-current"),children:s.jsx(Ss,{className:"h-4 w-4"})})}));Iv.displayName=AR.displayName;function XB(){var L;const[,e]=Sf("/jobs/:id/send"),[,t]=Wt(),{toast:n}=St(),[r,a]=h.useState(""),[i,o]=h.useState([]),[l,c]=h.useState(""),[d,u]=h.useState(""),[f,m]=h.useState([]),[p,y]=h.useState([]),{data:g}=Ie({queryKey:["/api/jobs",e==null?void 0:e.id]}),{data:w}=Ie({queryKey:["/api/templates"],refetchOnMount:"always"}),{data:v}=Ie({queryKey:["/api/contacts"]}),x=tt({mutationFn:async _=>await(await rt("POST","/api/send-message",_)).json(),onSuccess:_=>{Ee.invalidateQueries({queryKey:["/api/jobs"]}),Ee.invalidateQueries({queryKey:["/api/jobs",e==null?void 0:e.id,"roster"]}),Ee.invalidateQueries({queryKey:["/api/messages"]}),Ee.invalidateQueries({queryKey:["/api/contacts"]}),n({title:"Messages queued",description:(_==null?void 0:_.totalQueued)!=null?`Optimised batches of ${Math.min(5,_.totalQueued)} will begin sending immediately. Additional batches (up to ${_.totalQueued} contacts) follow every 2 minutes until the job is filled or credits run out.`:"Messages will be sent in smart batches of 5 every 2 minutes until the job is filled or credits run out."}),t(`/jobs/${e==null?void 0:e.id}/schedule`)},onError:()=>{n({title:"Error",description:"Failed to send messages",variant:"destructive"})}}),b=_=>{a(_);const z=w==null?void 0:w.find(Y=>Y.id===_);z&&c(z.content)},N=_=>{o(z=>z.includes(_)?z.filter(Y=>Y!==_):[...z,_])},C=_=>(_==null?void 0:_.trim().toLowerCase())??"",P=h.useMemo(()=>{const _=new Map;return v==null||v.forEach(z=>{_.set(z.id,z)}),_},[v]),S=((L=g==null?void 0:g.skillRequirements)==null?void 0:L.filter(_=>!!C(_.skill)&&(_.headcount??0)>0))??[],E=h.useMemo(()=>{if(!v)return[];const _=new Set;return v.forEach(z=>{!z.isOptedOut&&z.status&&_.add(z.status)}),Array.from(_)},[v]),O=h.useMemo(()=>S.length?S.map(_=>{var Me;const z=C(_.skill),Y=_.headcount??0,ae=z?i.reduce((Ce,Ke)=>{const De=P.get(Ke);return De&&(De.skills??[]).map(C).includes(z)?Ce+1:Ce},0):0;return{key:z,label:((Me=_.skill)==null?void 0:Me.trim())||"Skill",required:Y,selected:ae,remaining:Math.max(Y-ae,0),notes:_.notes??""}}):[],[S,i,P]),j=h.useMemo(()=>new Set(O.filter(_=>_.remaining>0).map(_=>_.key).filter(Boolean)),[O]),D=h.useMemo(()=>{if(!v)return[];const _=d.trim().toLowerCase();return v.filter(z=>!z.isOptedOut).filter(z=>{var Y;if(f.length){const ae=(z.skills??[]).map(C);if(!f.every(Ce=>ae.includes(Ce)))return!1}if(p.length){const ae=z.status??"";if(!p.includes(ae))return!1}if(_){const ae=`${z.firstName} ${z.lastName}`.toLowerCase(),Me=((Y=z.phone)==null?void 0:Y.toLowerCase())??"",Ce=(z.skills??[]).join(" ").toLowerCase();if(![ae,Me,Ce].some(Ke=>Ke.includes(_)))return!1}return!0})},[v,d,f,p]),I=_=>{y(z=>z.includes(_)?z.filter(Y=>Y!==_):[...z,_])},R=_=>{m(z=>z.includes(_)?z.filter(Y=>Y!==_):[...z,_])},F=()=>{y([]),m([]),u("")},k=()=>{D.length&&o(D.map(_=>_.id))},T=()=>{o([])},B=()=>{if(!(e!=null&&e.id)||!r||i.length===0){n({title:"Validation Error",description:"Please select a template and at least one contact",variant:"destructive"});return}x.mutate({jobId:e.id,templateId:r,contactIds:i})};return s.jsxs("div",{className:"max-w-4xl space-y-6",children:[s.jsxs("div",{children:[s.jsx(Ye,{href:`/jobs/${e==null?void 0:e.id}/schedule`,children:s.jsx("a",{"data-testid":"link-back-roster",children:s.jsxs(U,{variant:"ghost",size:"sm",className:"gap-2 mb-4",children:[s.jsx(bx,{className:"h-4 w-4"}),"Back to Schedule"]})})}),s.jsx("h1",{className:"text-3xl font-semibold","data-testid":"text-page-title",children:"Send Message"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:[g==null?void 0:g.name," - Broadcast to your crew"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ye,{children:[s.jsxs(ct,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"1. Select Recipients"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"sm",onClick:k,"data-testid":"button-select-all",children:"Select All"}),s.jsx(U,{variant:"outline",size:"sm",onClick:T,"data-testid":"button-deselect-all",children:"Deselect All"})]})]}),s.jsxs($e,{variant:"secondary",className:"w-fit mt-2",children:[i.length," selected"]}),E.length>0&&s.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:E.map(_=>{const z=p.includes(_),Y=_.split("_").map(ae=>ae.charAt(0).toUpperCase()+ae.slice(1)).join(" ");return s.jsx(U,{variant:z?"default":"outline",size:"sm",onClick:()=>I(_),className:"h-7 px-3 text-xs",children:Y},_)})}),S.length>0&&s.jsxs("div",{className:"mt-4 space-y-2","data-testid":"skill-requirement-summary",children:[s.jsx("div",{className:"text-sm font-medium",children:"Skill requirements"}),s.jsx("div",{className:"grid gap-2",children:O.map((_,z)=>s.jsxs("div",{role:"button",tabIndex:0,onClick:()=>{_.key&&R(_.key)},onKeyDown:Y=>{(Y.key==="Enter"||Y.key===" ")&&_.key&&R(_.key)},className:`flex items-center justify-between rounded-md border px-3 py-2 text-sm transition ${_.key&&f.includes(_.key)?"border-primary bg-primary/10":"border-border bg-muted/40 hover:border-primary"}`,children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:_.label}),_.notes&&s.jsx("span",{className:"text-xs text-muted-foreground",children:_.notes})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:_.remaining>0?"font-semibold text-destructive":"font-semibold text-emerald-600",children:[_.selected,"/",_.required]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:_.remaining>0?`${_.remaining} more needed`:"Requirement met"})]})]},`${_.key}-${z}`))})]})]}),s.jsx(Se,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[s.jsx(je,{value:d,onChange:_=>u(_.target.value),placeholder:"Search by name, phone, or skill",className:"text-sm sm:max-w-xs","data-testid":"input-search-contacts"}),(p.length>0||f.length>0||d.trim().length>0)&&s.jsx(U,{variant:"ghost",size:"sm",onClick:F,className:"h-8 px-3 text-xs self-start sm:self-auto",children:"Clear Filters"})]}),s.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[D.map(_=>s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border hover-elevate cursor-pointer ${_.skills&&_.skills.length>0&&_.skills.map(C).some(z=>j.has(z))?"border-primary bg-primary/5":""}`,onClick:()=>N(_.id),"data-testid":`contact-item-${_.id}`,children:[s.jsx(Iv,{checked:i.includes(_.id),onCheckedChange:()=>N(_.id)}),s.jsxs(rr,{className:"h-10 w-10",children:[_.profilePicture&&s.jsx(Gf,{src:_.profilePicture,alt:`${_.firstName} ${_.lastName}`}),s.jsxs(sr,{children:[_.firstName[0],_.lastName[0]]})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"font-medium text-sm",children:[_.firstName," ",_.lastName]}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:_.phone}),s.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:(_.skills??[]).length>0?(_.skills??[]).map(z=>s.jsx($e,{variant:"outline",className:"text-xs font-normal",children:z},`${_.id}-${z}`)):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"No skills added"})})]})]},_.id)),v&&D.length===0&&s.jsx("div",{className:"text-sm text-muted-foreground py-4 text-center",children:"No contacts match the current filters."})]})]})})]}),s.jsxs(ye,{children:[s.jsx(ct,{children:s.jsx("h2",{className:"text-lg font-semibold",children:"2. Select Template"})}),s.jsx(Se,{children:s.jsxs(ns,{value:r,onValueChange:b,children:[s.jsx(Rr,{"data-testid":"select-template",children:s.jsx(vs,{placeholder:"Choose a message template"})}),s.jsx(Ar,{children:w==null?void 0:w.map(_=>s.jsx(Mt,{value:_.id,children:_.name},_.id))})]})})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs(ye,{children:[s.jsx(ct,{children:s.jsx("h2",{className:"text-lg font-semibold",children:"3. Preview & Send"})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message Preview"}),s.jsx("div",{className:"bg-muted/50 p-4 rounded-lg min-h-32",children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:l||"Select a template to preview the message"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Recipients:"}),s.jsx("span",{className:"font-medium",children:i.length})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Estimated Credits:"}),s.jsx("span",{className:"font-medium",children:i.length})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages are dispatched in batches of 5 every 2 minutes, prioritising local and available contractors until the job is filled."})]}),s.jsxs(U,{className:"w-full gap-2",onClick:B,disabled:!r||i.length===0||x.isPending,"data-testid":"button-send-messages",children:[x.isPending?s.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full"}):s.jsx(Vl,{className:"h-4 w-4"}),"Send to ",i.length," Contact",i.length!==1?"s":""]})]})]})})]})]})}var Dv="Tabs",[e9,TH]=fn(Dv,[tl]),IR=tl(),[t9,Ov]=e9(Dv),DR=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Hc(l),[f,m]=Dr({prop:r,onChange:a,defaultProp:i});return s.jsx(t9,{scope:n,baseId:Tr(),value:f,onValueChange:m,orientation:o,dir:u,activationMode:c,children:s.jsx(Ne.div,{dir:u,"data-orientation":o,...d,ref:t})})});DR.displayName=Dv;var OR="TabsList",LR=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=Ov(OR,n),o=IR(n);return s.jsx(tv,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:s.jsx(Ne.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});LR.displayName=OR;var FR="TabsTrigger",$R=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=Ov(FR,n),l=IR(n),c=UR(o.baseId,r),d=BR(o.baseId,r),u=r===o.value;return s.jsx(nv,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(Ne.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:se(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:se(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:se(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(r)})})})});$R.displayName=FR;var zR="TabsContent",VR=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=Ov(zR,n),c=UR(l.baseId,r),d=BR(l.baseId,r),u=r===l.value,f=h.useRef(u);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(nr,{present:a||u,children:({present:m})=>s.jsx(Ne.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});VR.displayName=zR;function UR(e,t){return`${e}-trigger-${t}`}function BR(e,t){return`${e}-content-${t}`}var n9=DR,HR=LR,qR=$R,WR=VR;const r9=n9,KR=h.forwardRef(({className:e,...t},n)=>s.jsx(HR,{ref:n,className:K("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));KR.displayName=HR.displayName;const og=h.forwardRef(({className:e,...t},n)=>s.jsx(qR,{ref:n,className:K("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));og.displayName=qR.displayName;const lg=h.forwardRef(({className:e,...t},n)=>s.jsx(WR,{ref:n,className:K("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));lg.displayName=WR.displayName;const kc=[{code:"US",name:"United States",dialCode:"+1"},{code:"CA",name:"Canada",dialCode:"+1"},{code:"GB",name:"United Kingdom",dialCode:"+44"},{code:"AU",name:"Australia",dialCode:"+61"},{code:"NZ",name:"New Zealand",dialCode:"+64"},{code:"IE",name:"Ireland",dialCode:"+353"},{code:"IN",name:"India",dialCode:"+91"},{code:"SG",name:"Singapore",dialCode:"+65"},{code:"MX",name:"Mexico",dialCode:"+52"},{code:"DE",name:"Germany",dialCode:"+49"},{code:"FR",name:"France",dialCode:"+33"},{code:"ES",name:"Spain",dialCode:"+34"},{code:"IT",name:"Italy",dialCode:"+39"}];function s9(){const[e,t]=h.useState(""),[n,r]=h.useState(""),[a,i]=h.useState(""),[o,l]=h.useState(""),[c,d]=h.useState(""),[u,f]=h.useState(!1),[m,p]=h.useState(!1),[y,g]=h.useState(!1),[w,v]=h.useState(!1),[x,b]=h.useState(!1),[N,C]=h.useState(null),[P,S]=h.useState(!1),[E,O]=h.useState(null),[j,D]=h.useState(""),[I,R]=h.useState(!1),[F,k]=h.useState(null),[T,B]=h.useState(""),[L,_]=h.useState(!1),[z,Y]=h.useState(!1),[ae,Me]=h.useState(""),[Ce,Ke]=h.useState(""),{toast:De}=St(),de=async()=>{try{_(!0);const q=await fetch("/api/reports/resource-allocation");if(!q.ok)throw new Error("Failed to generate report");const it=await q.blob(),Ct=window.URL.createObjectURL(it),ut=document.createElement("a");ut.href=Ct,ut.download=`resource-allocation-${new Date().toISOString().split("T")[0]}.pdf`,document.body.appendChild(ut),ut.click(),window.URL.revokeObjectURL(Ct),document.body.removeChild(ut),De({title:"Report downloaded",description:"Resource allocation report has been downloaded successfully."})}catch{De({title:"Error",description:"Failed to download report. Please try again.",variant:"destructive"})}finally{_(!1)}},{data:_e,isLoading:He}=Ie({queryKey:["/api/contacts"]}),{data:Te,isLoading:W}=Ie({queryKey:["/api/organization/members"]}),{data:Q}=Ie({queryKey:["/api/auth/me"]}),le=Array.from(new Set((_e==null?void 0:_e.flatMap(q=>q.skills||[]))||[])),te=Array.from(new Set((_e==null?void 0:_e.flatMap(q=>q.qualifications||[]))||[])),ve=_e==null?void 0:_e.filter(q=>{var ce;const it=`${q.firstName} ${q.lastName}`.toLowerCase(),Ct=e.toLowerCase(),ut=it.includes(Ct)||q.phone.includes(Ct)||((ce=q.email)==null?void 0:ce.includes(Ct)),Aa=!n||q.skills&&q.skills.includes(n),M=!a||q.qualifications&&q.qualifications.includes(a),V=!o||q.address&&q.address.toLowerCase().includes(o.toLowerCase()),H=!c||q.status===c;return ut&&Aa&&M&&V&&H}),qe=tt({mutationFn:async q=>(await rt("POST",`/api/organization/members/${q}/password-reminder`,{})).json(),onSuccess:q=>{Me(q.tempPassword),Ke(q.username),Y(!0),De({title:"Password reminder sent",description:`Temporary password generated for ${q.username}`})},onError:q=>{De({title:"Failed to send password reminder",description:q.message,variant:"destructive"})}});return He?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold","data-testid":"text-page-title",children:"Contacts"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your crew members and their details"})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(U,{variant:"outline",className:"gap-2",onClick:de,disabled:L,"data-testid":"button-download-report",children:[s.jsx(Sx,{className:"h-4 w-4"}),L?"Generating...":"Download Report"]}),s.jsxs(on,{open:y,onOpenChange:g,children:[s.jsx(ei,{asChild:!0,children:s.jsxs(U,{variant:"outline",className:"gap-2","data-testid":"button-import-csv",children:[s.jsx(n_,{className:"h-4 w-4"}),"Import CSV"]})}),s.jsx(en,{className:"max-w-2xl",children:s.jsx(o9,{onSuccess:()=>g(!1)})})]}),s.jsxs(on,{open:w,onOpenChange:v,children:[s.jsx(ei,{asChild:!0,children:s.jsxs(U,{variant:"outline",className:"gap-2","data-testid":"button-import-phone",children:[s.jsx(Rp,{className:"h-4 w-4"}),"Import from Phone"]})}),s.jsx(en,{className:"max-w-2xl",children:s.jsx(l9,{onSuccess:()=>v(!1)})})]}),s.jsxs(on,{open:m,onOpenChange:q=>{p(q),q||C(null)},children:[s.jsx(ei,{asChild:!0,children:s.jsxs(U,{className:"gap-2","data-testid":"button-add-contact",children:[s.jsx(Fo,{className:"h-4 w-4"}),"Add Contact"]})}),s.jsx(en,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:s.jsx(i9,{contact:N,onSuccess:()=>{p(!1),C(null)}})})]})]})]}),s.jsx(on,{open:x,onOpenChange:b,children:s.jsx(en,{className:"max-w-lg",children:s.jsx(c9,{contacts:ve||[],onSuccess:()=>b(!1)})})}),s.jsx(on,{open:P,onOpenChange:S,children:s.jsxs(en,{children:[s.jsxs(yn,{children:[s.jsxs(wn,{children:["Message ",E==null?void 0:E.username]}),s.jsx(Pn,{children:"Send a direct message to this team member"})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{htmlFor:"message",children:"Message"}),s.jsx(Ps,{id:"message",placeholder:"Type your message here...",value:j,onChange:q=>D(q.target.value),rows:5,"data-testid":"input-message-content"})]})}),s.jsx(Un,{children:s.jsxs(U,{onClick:async()=>{try{await rt("POST","/api/messages/team",{recipientId:E==null?void 0:E.id,content:j}),De({title:"Message sent successfully"}),S(!1),D("")}catch(q){De({title:"Failed to send message",description:q.message,variant:"destructive"})}},disabled:!j.trim(),"data-testid":"button-send-message",children:[s.jsx(Vl,{className:"h-4 w-4 mr-2"}),"Send Message"]})})]})}),s.jsx(on,{open:I,onOpenChange:R,children:s.jsxs(en,{children:[s.jsxs(yn,{children:[s.jsxs(wn,{children:["Message ",F==null?void 0:F.firstName," ",F==null?void 0:F.lastName]}),s.jsx(Pn,{children:"Send an SMS message to this contact"})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{htmlFor:"contact-message",children:"Message"}),s.jsx(Ps,{id:"contact-message",placeholder:"Type your SMS message here...",value:T,onChange:q=>B(q.target.value),rows:5,"data-testid":"input-contact-message-content"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Message will be sent via SMS to ",F==null?void 0:F.phone]})]})}),s.jsxs(Un,{children:[s.jsx(U,{variant:"outline",onClick:()=>{R(!1),B("")},children:"Cancel"}),s.jsxs(U,{onClick:async()=>{if(F)try{await rt("POST","/api/messages/bulk-sms",{contactIds:[F.id],message:T}),R(!1),B(""),setTimeout(()=>{De({title:"Message sent successfully",description:`SMS sent to ${F.firstName} ${F.lastName}`})},150)}catch(q){let it=q.message||"An error occurred";try{const Ct=it.split(": ");if(Ct.length>1){const ut=Ct.slice(1).join(": ");it=JSON.parse(ut).message||it}}catch{}De({title:"Failed to send message",description:it,variant:"destructive"})}},disabled:!T.trim(),"data-testid":"button-send-contact-message",children:[s.jsx(Vl,{className:"h-4 w-4 mr-2"}),"Send SMS"]})]})]})}),s.jsx(on,{open:z,onOpenChange:Y,children:s.jsxs(en,{children:[s.jsxs(yn,{children:[s.jsx(wn,{children:"Password Reminder Generated"}),s.jsxs(Pn,{children:["A temporary password has been generated for ",Ce]})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{children:"Temporary Password"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(je,{value:ae,readOnly:!0,className:"font-mono text-lg","data-testid":"input-temp-password"}),s.jsx(U,{variant:"outline",size:"icon",onClick:()=>{navigator.clipboard.writeText(ae),De({title:"Copied to clipboard"})},"data-testid":"button-copy-password",children:s.jsx(xL,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Share this password with the team member. They should change it after logging in."})]})}),s.jsx(Un,{children:s.jsx(U,{onClick:()=>{Y(!1),Me(""),Ke("")},"data-testid":"button-close-password-dialog",children:"Done"})})]})}),s.jsxs(r9,{defaultValue:"crew",className:"space-y-4",children:[s.jsxs(KR,{"data-testid":"tabs-contacts",children:[s.jsx(og,{value:"crew","data-testid":"tab-crew",children:"Crew Contacts"}),s.jsx(og,{value:"team","data-testid":"tab-team",children:"Team Members"})]}),s.jsx(lg,{value:"crew",className:"space-y-4",children:s.jsxs(ye,{children:[s.jsx(ct,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Px,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(je,{placeholder:"Search contacts by name, phone, or email...",value:e,onChange:q=>t(q.target.value),className:"pl-9","data-testid":"input-search-contacts"})]}),s.jsx(U,{variant:"outline",size:"icon",onClick:()=>f(!u),"data-testid":"button-toggle-filters",children:s.jsx(vL,{className:"h-4 w-4"})}),ve&&ve.length>0&&s.jsxs(U,{className:"gap-2",onClick:()=>b(!0),"data-testid":"button-bulk-sms",children:[s.jsx(Vl,{className:"h-4 w-4"}),"Bulk SMS (",ve.length,")"]})]}),u&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 pt-2 border-t",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Filter by Status"}),s.jsxs(ns,{value:c||"all",onValueChange:q=>d(q==="all"?"":q),children:[s.jsx(Rr,{"data-testid":"select-status-filter",children:s.jsx(vs,{placeholder:"All statuses"})}),s.jsxs(Ar,{children:[s.jsx(Mt,{value:"all",children:"All statuses"}),s.jsx(Mt,{value:"free",children:"Free"}),s.jsx(Mt,{value:"on_job",children:"On Job"}),s.jsx(Mt,{value:"off_shift",children:"Off Shift"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Filter by Skill"}),s.jsxs(ns,{value:n||"all",onValueChange:q=>r(q==="all"?"":q),children:[s.jsx(Rr,{"data-testid":"select-skill-filter",children:s.jsx(vs,{placeholder:"All skills"})}),s.jsxs(Ar,{children:[s.jsx(Mt,{value:"all",children:"All skills"}),le.map(q=>s.jsx(Mt,{value:q,children:q},q))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Filter by Qualification"}),s.jsxs(ns,{value:a||"all",onValueChange:q=>i(q==="all"?"":q),children:[s.jsx(Rr,{"data-testid":"select-qualification-filter",children:s.jsx(vs,{placeholder:"All qualifications"})}),s.jsxs(Ar,{children:[s.jsx(Mt,{value:"all",children:"All qualifications"}),te.map(q=>s.jsx(Mt,{value:q,children:q},q))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Filter by Location"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ni,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(je,{placeholder:"City, State, etc...",value:o,onChange:q=>l(q.target.value),className:"pl-9","data-testid":"input-location-filter"})]})]})]})]})}),s.jsx(Se,{children:ve&&ve.length>0?s.jsx("div",{className:"space-y-3",children:ve.map(q=>s.jsx(a9,{contact:q,onEdit:()=>{C(q),p(!0)},onMessage:()=>{k(q),R(!0)}},q.id))}):s.jsx("div",{className:"text-center py-12",children:_e&&_e.length===0?s.jsxs(s.Fragment,{children:[s.jsx(Sw,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No contacts yet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Add your first crew member to get started"})]}):s.jsx("p",{className:"text-muted-foreground",children:"No contacts match your search"})})})]})}),s.jsx(lg,{value:"team",className:"space-y-4",children:s.jsxs(ye,{children:[s.jsxs(ct,{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Team Members"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Message your team members directly"})]}),s.jsx(Se,{children:W?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):Te&&Te.length>0?s.jsx("div",{className:"space-y-3",children:Te.map(q=>s.jsx(ye,{className:"hover-elevate","data-testid":`card-team-member-${q.id}`,children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx(rr,{className:"h-10 w-10 flex-shrink-0",children:s.jsx(sr,{children:q.username.substring(0,2).toUpperCase()})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"font-semibold truncate","data-testid":`text-member-name-${q.id}`,children:q.username}),q.id===(Q==null?void 0:Q.id)&&s.jsx($e,{variant:"outline",className:"text-xs flex-shrink-0",children:"You"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Lo,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"text-sm text-muted-foreground truncate","data-testid":`text-member-email-${q.id}`,children:q.email})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap self-end sm:self-auto",children:[s.jsxs($e,{variant:q.teamRole==="owner"?"default":q.teamRole==="admin"?"secondary":"outline",className:"gap-1","data-testid":`badge-member-role-${q.id}`,children:[q.teamRole==="owner"&&s.jsx(Ep,{className:"h-3 w-3"}),q.teamRole==="admin"&&s.jsx(Mp,{className:"h-3 w-3"}),q.teamRole==="member"&&s.jsx(fi,{className:"h-3 w-3"}),q.teamRole.charAt(0).toUpperCase()+q.teamRole.slice(1)]}),q.id!==(Q==null?void 0:Q.id)&&s.jsxs(s.Fragment,{children:[s.jsxs(U,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>{O(q),S(!0)},"data-testid":`button-message-${q.id}`,"aria-label":"Send message",children:[s.jsx(Cs,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Message"}),s.jsx("span",{className:"sr-only sm:hidden",children:"Message"})]}),((Q==null?void 0:Q.teamRole)==="owner"||(Q==null?void 0:Q.teamRole)==="admin")&&s.jsxs(U,{variant:"ghost",size:"sm",className:"gap-2",onClick:()=>qe.mutate(q.id),disabled:qe.isPending,"data-testid":`button-password-reminder-${q.id}`,"aria-label":"Send password reminder",children:[s.jsx(e_,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Password Reminder"}),s.jsx("span",{className:"sr-only sm:hidden",children:"Password Reminder"})]})]})]})]})})},q.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Sw,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No team members"}),s.jsx("p",{className:"text-muted-foreground",children:"Your team will appear here"})]})})]})})]})]})}function a9({contact:e,onEdit:t,onMessage:n}){const{toast:r}=St(),[,a]=Wt(),[i,o]=h.useState(!1),[l,c]=h.useState(""),u=(x=>{switch(x){case"free":return{label:"Free",variant:"default",icon:bw,className:"bg-green-600 hover:bg-green-700 text-white border-green-600"};case"on_job":return{label:"On Job",variant:"default",icon:xa,className:"bg-blue-600 hover:bg-blue-700 text-white border-blue-600"};case"off_shift":return{label:"Off Shift",variant:"secondary",icon:va,className:"bg-gray-600 dark:bg-gray-700 hover:bg-gray-700 dark:hover:bg-gray-800 text-white border-gray-600"};default:return{label:"Free",variant:"default",icon:bw,className:"bg-green-600 hover:bg-green-700 text-white border-green-600"}}})(e.status||"free"),f=u.icon,m=tt({mutationFn:async()=>{const x=await fetch(`/api/contacts/${e.id}/current-job`);if(!x.ok)throw new Error("No current job found");return x.json()},onSuccess:x=>{a(`/jobs/${x.id}/schedule`)},onError:()=>{r({title:"No Job Found",description:"This contact is not currently assigned to any job",variant:"destructive"})}}),p=()=>{e.status==="on_job"&&m.mutate()},y=tt({mutationFn:()=>rt("PATCH",`/api/contacts/${e.id}`,{isOptedOut:!e.isOptedOut}),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/contacts"]}),r({title:e.isOptedOut?"Contact Opted In":"Contact Opted Out",description:e.isOptedOut?"Contact will receive messages again":"Contact will not receive future messages"})}}),g=tt({mutationFn:()=>rt("DELETE",`/api/contacts/${e.id}`),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/contacts"]}),r({title:"Contact Deleted",description:`${e.firstName} ${e.lastName} has been removed from your contacts`}),o(!1),c("")},onError:x=>{r({title:"Failed to delete contact",description:x.message,variant:"destructive"})}}),w=kc.find(x=>x.code===e.countryCode)||kc[0],v=e.phone.startsWith("+")?e.phone:`${w.dialCode} ${e.phone}`;return s.jsxs(ye,{className:"hover-elevate","data-testid":`card-contact-${e.id}`,children:[s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1 min-w-0",children:[s.jsxs(rr,{className:"h-12 w-12",children:[e.profilePicture&&s.jsx(Gf,{src:e.profilePicture,alt:`${e.firstName} ${e.lastName}`}),s.jsxs(sr,{children:[e.firstName[0],e.lastName[0]]})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("h3",{className:"font-semibold","data-testid":`text-contact-name-${e.id}`,children:[e.firstName," ",e.lastName]}),s.jsxs($e,{variant:u.variant,className:`gap-1 font-medium ${u.className} ${e.status==="on_job"?"cursor-pointer":""}`,onClick:p,"data-testid":`badge-contact-status-${e.id}`,children:[s.jsx(f,{className:"h-3 w-3"}),u.label]}),e.isOptedOut&&s.jsx($e,{variant:"secondary",className:"text-xs",children:"Opted Out"}),e.hasLogin&&s.jsxs($e,{variant:"outline",className:"text-xs gap-1",children:[s.jsx(e_,{className:"h-3 w-3"}),"Can Login"]})]}),s.jsxs("div",{className:"space-y-1 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(_u,{className:"h-3.5 w-3.5"}),s.jsx("span",{"data-testid":`text-contact-phone-${e.id}`,children:v})]}),e.email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Lo,{className:"h-3.5 w-3.5"}),s.jsx("span",{"data-testid":`text-contact-email-${e.id}`,children:e.email})]}),e.address&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ni,{className:"h-3.5 w-3.5"}),s.jsx("span",{"data-testid":`text-contact-address-${e.id}`,children:e.address})]})]}),e.skills&&e.skills.length>0&&s.jsx("div",{className:"flex gap-2 mt-3 flex-wrap",children:e.skills.map(x=>s.jsx($e,{variant:"outline",className:"text-xs",children:x},x))}),e.qualifications&&e.qualifications.length>0&&s.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:e.qualifications.map(x=>s.jsxs($e,{variant:"secondary",className:"text-xs gap-1",children:[s.jsx(jx,{className:"h-3 w-3"}),x]},x))}),e.tags&&e.tags.length>0&&s.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:e.tags.map(x=>s.jsx($e,{variant:"secondary",className:"text-xs",children:x},x))}),e.blackoutPeriods&&e.blackoutPeriods.length>0&&s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-muted-foreground",children:[s.jsx(nn,{className:"h-3.5 w-3.5"}),s.jsxs("span",{children:[e.blackoutPeriods.length," blackout period(s)"]})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-end sm:items-start",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:n,disabled:e.isOptedOut,title:e.isOptedOut?"Contact has opted out of messages":"Send message","data-testid":`button-message-contact-${e.id}`,children:s.jsx(Cs,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:t,"data-testid":`button-edit-contact-${e.id}`,children:s.jsx(_x,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>o(!0),title:"Delete contact","data-testid":`button-delete-contact-${e.id}`,children:s.jsx(Tf,{className:"h-4 w-4"})}),s.jsx(U,{variant:e.isOptedOut?"outline":"ghost",size:"sm",onClick:()=>y.mutate(),"data-testid":`button-toggle-opt-out-${e.id}`,children:e.isOptedOut?"Opt In":"Opt Out"})]})]})}),s.jsx(on,{open:i,onOpenChange:o,children:s.jsxs(en,{children:[s.jsxs(yn,{children:[s.jsx(wn,{children:"Delete Contact"}),s.jsxs(Pn,{children:["This action cannot be undone. To confirm deletion of ",e.firstName," ",e.lastName,", please type ",s.jsx("strong",{children:"heyteam"})," below."]})]}),s.jsxs("div",{className:"py-4",children:[s.jsx(Ot,{htmlFor:"delete-confirm",children:'Type "heyteam" to confirm'}),s.jsx(je,{id:"delete-confirm",placeholder:"heyteam",value:l,onChange:x=>c(x.target.value),"data-testid":`input-delete-confirm-${e.id}`})]}),s.jsxs(Un,{children:[s.jsx(U,{variant:"outline",onClick:()=>{o(!1),c("")},"data-testid":`button-cancel-delete-${e.id}`,children:"Cancel"}),s.jsx(U,{variant:"destructive",onClick:()=>g.mutate(),disabled:l!=="heyteam"||g.isPending,"aria-disabled":l!=="heyteam"||g.isPending,"data-testid":`button-confirm-delete-${e.id}`,children:g.isPending?"Deleting...":"Delete Contact"})]})]})})]})}function i9({contact:e,onSuccess:t}){const{toast:n}=St(),r=!!e,[a,i]=h.useState(""),[o,l]=h.useState(""),[c,d]=h.useState(""),[u,f]=h.useState(""),[m,p]=h.useState(!1),[y,g]=h.useState((e==null?void 0:e.hasLogin)||!1),[w,v]=h.useState(""),[x,b]=h.useState("");h.useEffect(()=>{e&&g(e.hasLogin||!1)},[e]);const N=ua({resolver:fa(rB),defaultValues:e?{firstName:e.firstName,lastName:e.lastName,countryCode:e.countryCode||"GB",phone:e.phone,email:e.email||"",address:e.address||"",profilePicture:e.profilePicture||"",notes:e.notes||"",skills:e.skills||[],qualifications:e.qualifications||[],blackoutPeriods:e.blackoutPeriods||[],isOptedOut:e.isOptedOut,quietHoursStart:e.quietHoursStart||"22:00",quietHoursEnd:e.quietHoursEnd||"07:00",tags:e.tags||[],status:e.status||"free",hasLogin:e.hasLogin||!1}:{firstName:"",lastName:"",countryCode:"GB",phone:"",email:"",address:"",profilePicture:"",notes:"",skills:[],qualifications:[],blackoutPeriods:[],isOptedOut:!1,quietHoursStart:"22:00",quietHoursEnd:"07:00",tags:[],status:"free",hasLogin:!1}}),C=tt({mutationFn:async k=>(await rt("POST","/api/contacts",k)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/contacts"]}),n({title:"Contact Added",description:"New contact has been added successfully"}),N.reset(),g(!1),v(""),b(""),t()},onError:()=>{n({title:"Error",description:"Failed to add contact",variant:"destructive"})}}),P=tt({mutationFn:async k=>(await rt("PATCH",`/api/contacts/${e==null?void 0:e.id}`,k)).json(),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/contacts"]}),n({title:"Contact Updated",description:"Contact has been updated successfully"}),v(""),b(""),t()},onError:()=>{n({title:"Error",description:"Failed to update contact",variant:"destructive"})}}),S=k=>{const T=(e==null?void 0:e.hasLogin)||!1;if(y&&(y&&!T||!r)&&!w){n({title:"Password Required",description:"Please enter a password when enabling login",variant:"destructive"});return}if(w){if(w!==x){n({title:"Passwords Don't Match",description:"Please make sure both password fields match",variant:"destructive"});return}if(w.length<6){n({title:"Password Too Short",description:"Password must be at least 6 characters",variant:"destructive"});return}}const L={...k,hasLogin:y};y&&w?L.password=w:y||(L.password=null),r?P.mutate(L):C.mutate(L)},E=async k=>{var L;const T=(L=k.target.files)==null?void 0:L[0];if(!T)return;if(!T.type.startsWith("image/")){n({title:"Invalid File",description:"Please upload an image file",variant:"destructive"});return}p(!0);const B=new FormData;B.append("file",T);try{const _=await fetch("/api/contacts/upload-image",{method:"POST",body:B,credentials:"include"});if(!_.ok)throw new Error("Upload failed");const z=await _.json();N.setValue("profilePicture",z.url),n({title:"Image Uploaded",description:"Profile picture has been uploaded successfully"})}catch{n({title:"Upload Failed",description:"Failed to upload profile picture",variant:"destructive"})}finally{p(!1)}},O=()=>{if(a.trim()){const k=N.getValues("skills")||[];k.includes(a.trim())||N.setValue("skills",[...k,a.trim()]),i("")}},j=k=>{const T=N.getValues("skills")||[];N.setValue("skills",T.filter(B=>B!==k))},D=()=>{if(o.trim()){const k=N.getValues("qualifications")||[];k.includes(o.trim())||N.setValue("qualifications",[...k,o.trim()]),l("")}},I=k=>{const T=N.getValues("qualifications")||[];N.setValue("qualifications",T.filter(B=>B!==k))},R=()=>{if(c&&u){const k=N.getValues("blackoutPeriods")||[],T=dt(new Date(c),"dd/MM/yyyy"),B=dt(new Date(u),"dd/MM/yyyy"),L=`${T} to ${B}`;N.setValue("blackoutPeriods",[...k,L]),d(""),f("")}},F=k=>{const T=N.getValues("blackoutPeriods")||[];N.setValue("blackoutPeriods",T.filter(B=>B!==k))};return s.jsxs(s.Fragment,{children:[s.jsxs(yn,{children:[s.jsx(wn,{children:r?"Edit Contact":"Add New Contact"}),s.jsx(Pn,{children:"Fill out the contacts details. You can search for the address, add skills, qualifications, and blackout periods."})]}),s.jsx(ma,{...N,children:s.jsxs("form",{onSubmit:N.handleSubmit(S),className:"space-y-4",children:[s.jsx(ze,{control:N.control,name:"profilePicture",render:({field:k})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Profile Picture"}),s.jsx(Oe,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(rr,{className:"h-20 w-20",children:[k.value&&s.jsx(Gf,{src:k.value,alt:"Profile"}),s.jsx(sr,{children:s.jsx(n_,{className:"h-8 w-8 text-muted-foreground"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(je,{type:"file",accept:"image/*",onChange:E,disabled:m,"data-testid":"input-profile-picture"}),m&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Uploading..."})]})]})}),s.jsx(Ve,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(ze,{control:N.control,name:"firstName",render:({field:k})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"First Name"}),s.jsx(Oe,{children:s.jsx(je,{placeholder:"John",...k,"data-testid":"input-first-name"})}),s.jsx(Ve,{})]})}),s.jsx(ze,{control:N.control,name:"lastName",render:({field:k})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Last Name"}),s.jsx(Oe,{children:s.jsx(je,{placeholder:"Doe",...k,"data-testid":"input-last-name"})}),s.jsx(Ve,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(ze,{control:N.control,name:"countryCode",render:({field:k})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Country"}),s.jsxs(ns,{onValueChange:k.onChange,defaultValue:k.value,children:[s.jsx(Oe,{children:s.jsx(Rr,{"data-testid":"select-country",children:s.jsx(vs,{placeholder:"Select country"})})}),s.jsx(Ar,{children:kc.map(T=>s.jsxs(Mt,{value:T.code,children:[T.name," (",T.dialCode,")"]},T.code))})]}),s.jsx(Ve,{})]})}),s.jsx(ze,{control:N.control,name:"phone",render:({field:k})=>{var T;return s.jsxs(Le,{className:"sm:col-span-2",children:[s.jsx(Fe,{children:"Mobile Number"}),s.jsx(Oe,{children:s.jsx(je,{placeholder:"555-123-4567",...k,"data-testid":"input-phone"})}),s.jsxs(ar,{children:[(T=kc.find(B=>B.code===N.watch("countryCode")))==null?void 0:T.dialCode," will be prefixed"]}),s.jsx(Ve,{})]})}})]}),s.jsx(ze,{control:N.control,name:"email",render:({field:k})=>s.jsxs(Le,{children:[s.jsxs(Fe,{children:["Email ",y?"(Required)":"(Optional)"]}),s.jsx(Oe,{children:s.jsx(je,{type:"email",placeholder:"john@example.com",...k,required:y,"data-testid":"input-email"})}),s.jsx(Ve,{}),y&&s.jsx(ar,{children:"Email is required for login access"})]})}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Iv,{id:"hasLogin",checked:y,onCheckedChange:k=>{g(k),N.setValue("hasLogin",k),k||(v(""),b(""))},"data-testid":"checkbox-enable-login"}),s.jsx(Ot,{htmlFor:"hasLogin",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Enable Login for Contact"})]}),s.jsx(ar,{children:"Allow this contact to log in to view their jobs and schedule"}),y&&s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{htmlFor:"password",children:r?"New Password (leave blank to keep current)":"Password"}),s.jsx(je,{id:"password",type:"password",placeholder:r?"Enter new password or leave blank":"Enter password",value:w,onChange:k=>v(k.target.value),required:!r,"data-testid":"input-password"}),s.jsx(ar,{children:"Password must be at least 6 characters"})]}),(!r||w)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(je,{id:"confirmPassword",type:"password",placeholder:"Confirm password",value:x,onChange:k=>b(k.target.value),required:!r||!!w,"data-testid":"input-confirm-password"})]})]})]}),s.jsx(ze,{control:N.control,name:"address",render:({field:k})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Address (Optional)"}),s.jsx(Oe,{children:s.jsx(qM,{value:k.value||"",onChange:k.onChange,onBlur:k.onBlur,id:"contact-address",placeholder:"Search or choose on map",inputProps:{"data-testid":"input-address"}})}),s.jsx(ar,{children:"Search for an address or pick a location on the map."}),s.jsx(Ve,{})]})}),s.jsx(ze,{control:N.control,name:"status",render:({field:k})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Status"}),s.jsxs(ns,{onValueChange:k.onChange,defaultValue:k.value,children:[s.jsx(Oe,{children:s.jsx(Rr,{"data-testid":"select-status",children:s.jsx(vs,{placeholder:"Select status"})})}),s.jsxs(Ar,{children:[s.jsx(Mt,{value:"free",children:"Free"}),s.jsx(Mt,{value:"on_job",children:"On Job"}),s.jsx(Mt,{value:"off_shift",children:"Off Shift"})]})]}),s.jsx(ar,{children:"Current work status of this contact"}),s.jsx(Ve,{})]})}),s.jsx(ze,{control:N.control,name:"skills",render:()=>{var k;return s.jsxs(Le,{children:[s.jsx(Fe,{children:"Skills"}),s.jsx(Oe,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(je,{placeholder:"Add a skill...",value:a,onChange:T=>i(T.target.value),onKeyPress:T=>{T.key==="Enter"&&(T.preventDefault(),O())},"data-testid":"input-skill"}),s.jsx(U,{type:"button",onClick:O,variant:"outline","data-testid":"button-add-skill",children:"Add"})]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:(k=N.watch("skills"))==null?void 0:k.map(T=>s.jsxs($e,{variant:"outline",className:"gap-1","data-testid":`badge-skill-${T}`,children:[T,s.jsx(Xr,{className:"h-3 w-3 cursor-pointer hover-elevate",onClick:()=>j(T)})]},T))})]})}),s.jsx(ar,{children:'Add skills like "Carpenter", "Electrician", etc.'}),s.jsx(Ve,{})]})}}),s.jsx(ze,{control:N.control,name:"qualifications",render:()=>{var k;return s.jsxs(Le,{children:[s.jsx(Fe,{children:"Qualifications"}),s.jsx(Oe,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(je,{placeholder:"Add a qualification...",value:o,onChange:T=>l(T.target.value),onKeyPress:T=>{T.key==="Enter"&&(T.preventDefault(),D())},"data-testid":"input-qualification"}),s.jsx(U,{type:"button",onClick:D,variant:"outline","data-testid":"button-add-qualification",children:"Add"})]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:(k=N.watch("qualifications"))==null?void 0:k.map(T=>s.jsxs($e,{variant:"secondary",className:"gap-1","data-testid":`badge-qualification-${T}`,children:[s.jsx(jx,{className:"h-3 w-3"}),T,s.jsx(Xr,{className:"h-3 w-3 cursor-pointer hover-elevate",onClick:()=>I(T)})]},T))})]})}),s.jsx(ar,{children:'Add certifications like "First Aid", "Forklift License", etc.'}),s.jsx(Ve,{})]})}}),s.jsx(ze,{control:N.control,name:"blackoutPeriods",render:()=>{var k;return s.jsxs(Le,{children:[s.jsx(Fe,{children:"Blackout Periods"}),s.jsx(Oe,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[s.jsx(je,{type:"date",value:c,onChange:T=>d(T.target.value),"data-testid":"input-blackout-start"}),s.jsx(je,{type:"date",value:u,onChange:T=>f(T.target.value),"data-testid":"input-blackout-end"})]}),s.jsx(U,{type:"button",onClick:R,variant:"outline",size:"sm",disabled:!c||!u,"data-testid":"button-add-blackout",children:"Add Blackout Period"}),s.jsx("div",{className:"space-y-1",children:(k=N.watch("blackoutPeriods"))==null?void 0:k.map((T,B)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded-md text-sm","data-testid":`blackout-period-${B}`,children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"h-3.5 w-3.5"}),T]}),s.jsx(Xr,{className:"h-3.5 w-3.5 cursor-pointer hover-elevate",onClick:()=>F(T)})]},B))})]})}),s.jsx(ar,{children:"Contact won't receive notifications during these dates"}),s.jsx(Ve,{})]})}}),s.jsx(ze,{control:N.control,name:"notes",render:({field:k})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Notes (Optional)"}),s.jsx(Oe,{children:s.jsx(Ps,{placeholder:"Any additional information...",className:"resize-none h-20",...k,"data-testid":"input-notes"})}),s.jsx(Ve,{})]})}),s.jsx(Un,{children:s.jsxs(U,{type:"submit",disabled:C.isPending||P.isPending,"data-testid":"button-submit-contact",children:[(C.isPending||P.isPending)&&s.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full mr-2"}),r?"Update Contact":"Add Contact"]})})]})})]})}function o9({onSuccess:e}){const[t,n]=h.useState(null),[r,a]=h.useState(null),{toast:i}=St(),o=tt({mutationFn:async d=>{const u=await fetch("/api/contacts/import",{method:"POST",body:d,credentials:"include"});if(!u.ok)throw new Error("Failed to import contacts");return u.json()},onSuccess:d=>{a(d),Ee.invalidateQueries({queryKey:["/api/contacts"]}),i({title:"Import Complete",description:`Imported ${d.imported} contacts, skipped ${d.skipped}`}),d.imported>0&&d.errors.length===0&&setTimeout(e,2e3)},onError:()=>{i({title:"Import Failed",description:"Failed to import contacts",variant:"destructive"})}}),l=()=>{if(!t)return;const d=new FormData;d.append("file",t),o.mutate(d)},c=()=>{const d=`firstName,lastName,phone,email
John,Smith,447700900123,john.smith@example.com
Jane,Doe,447700900456,jane.doe@example.com
Mike,Johnson,447700900789,`,u=new Blob([d],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a"),m=URL.createObjectURL(u);f.setAttribute("href",m),f.setAttribute("download","contacts_import_template.csv"),f.style.visibility="hidden",document.body.appendChild(f),f.click(),document.body.removeChild(f),i({title:"Template Downloaded",description:"CSV template has been downloaded. You can open it in Excel."})};return s.jsxs(s.Fragment,{children:[s.jsxs(yn,{children:[s.jsx(wn,{children:"Import Contacts from CSV"}),s.jsx(Pn,{children:"Upload a CSV file that includes first name, last name, phone, and optional email columns to add multiple contacts at once."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a CSV file with columns: firstName, lastName, phone, email (optional)"}),s.jsxs(U,{variant:"link",size:"sm",onClick:c,className:"gap-1","data-testid":"button-download-template",children:[s.jsx(Sx,{className:"h-4 w-4"}),"Download Template"]})]}),s.jsx(je,{type:"file",accept:".csv",onChange:d=>{var u;return n(((u=d.target.files)==null?void 0:u[0])||null)},"data-testid":"input-csv-file"})]}),r&&s.jsx(ye,{children:s.jsxs(Se,{className:"p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Imported:"}),s.jsx("span",{className:"text-sm text-green-600",children:r.imported})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Skipped (duplicates):"}),s.jsx("span",{className:"text-sm text-yellow-600",children:r.skipped})]}),r.errors.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm font-medium text-red-600 mb-2",children:"Errors:"}),s.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:r.errors.map((d,u)=>s.jsxs("p",{className:"text-xs text-red-600",children:["Row ",d.row,": ",d.message]},u))})]})]})})]}),s.jsx(Un,{children:s.jsxs(U,{onClick:l,disabled:!t||o.isPending,"data-testid":"button-import-contacts",children:[o.isPending&&s.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full mr-2"}),"Import Contacts"]})})]})}function l9({onSuccess:e}){const[t,n]=h.useState(null),[r,a]=h.useState(!1),{toast:i}=St(),o="contacts"in navigator&&"ContactsManager"in window,l=d=>{let u=d.replace(/[^\d+]/g,"");return u.startsWith("00")&&(u="+"+u.substring(2)),u.startsWith("+")||(u.startsWith("0")&&(u=u.substring(1)),u="+44"+u),u.startsWith("+440")&&(u="+44"+u.substring(4)),u},c=async()=>{if(!o){i({title:"Not Supported",description:"Contact picker is not supported on this device",variant:"destructive"});return}try{a(!0),n(null);const d=["name","email","tel"],u={multiple:!0},f=await navigator.contacts.select(d,u);if(!f||f.length===0){i({title:"No Contacts Selected",description:"Please select at least one contact to import"}),a(!1);return}const m=f.flatMap(g=>{const w=g.tel||[],v=g.email||[],x=g.name||[],N=(x.length>0?x[0]:"Unknown").split(" "),C=N[0]||"Unknown",P=N.slice(1).join(" ")||"Unknown";return w.map((S,E)=>({firstName:C,lastName:P+(w.length>1?` (${E+1})`:""),phone:l(S),email:v.length>0?v[0]:void 0,countryCode:"GB"}))});if(m.length===0){i({title:"No Valid Contacts",description:"Selected contacts don't have phone numbers",variant:"destructive"}),a(!1);return}const y=await(await rt("POST","/api/contacts/bulk",{contacts:m})).json();n(y),Ee.invalidateQueries({queryKey:["/api/contacts"]}),i({title:"Import Complete",description:`Imported ${y.imported} contacts, skipped ${y.skipped}`}),y.imported>0&&y.errors.length===0&&setTimeout(e,2e3)}catch(d){console.error("Import error:",d),i({title:"Import Failed",description:d.message||"Failed to import contacts from phone",variant:"destructive"})}finally{a(!1)}};return s.jsxs(s.Fragment,{children:[s.jsxs(yn,{children:[s.jsx(wn,{children:"Import Contacts from Phone"}),s.jsx(Pn,{children:"Import contacts directly from your phone's contact list"})]}),s.jsx("div",{className:"space-y-4 py-4",children:o?s.jsxs("div",{className:"space-y-4",children:[s.jsx(ye,{children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"text-primary",children:s.jsx(Rp,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium mb-1",children:"How it works"}),s.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 list-decimal list-inside",children:[s.jsx("li",{children:'Click "Select Contacts" below'}),s.jsx("li",{children:"Choose contacts from your phone's contact list"}),s.jsx("li",{children:"Contacts will be imported with their phone numbers"}),s.jsx("li",{children:"Duplicate phone numbers will be skipped"})]})]})]})})}),t&&s.jsx(ye,{children:s.jsxs(Se,{className:"p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Imported:"}),s.jsx("span",{className:"text-sm text-green-600",children:t.imported})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Skipped (duplicates):"}),s.jsx("span",{className:"text-sm text-yellow-600",children:t.skipped})]}),t.errors.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm font-medium text-red-600 mb-2",children:"Errors:"}),s.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:t.errors.map((d,u)=>s.jsx("p",{className:"text-xs text-red-600",children:d},u))})]})]})})]}):s.jsx(ye,{className:"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"text-yellow-600 dark:text-yellow-400",children:s.jsx(Nx,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-yellow-800 dark:text-yellow-200 mb-1",children:"Not Supported"}),s.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"The Contact Picker API is not supported on this device or browser. This feature works best on:"}),s.jsxs("ul",{className:"text-sm text-yellow-700 dark:text-yellow-300 list-disc list-inside mt-2 space-y-1",children:[s.jsx("li",{children:"Chrome on Android (version 80+)"}),s.jsx("li",{children:"Edge on Android (version 80+)"})]}),s.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-2",children:'Please use the "Import CSV" option on desktop browsers or unsupported devices.'})]})]})})})}),s.jsx(Un,{children:s.jsxs(U,{onClick:c,disabled:!o||r,"data-testid":"button-select-phone-contacts",children:[r&&s.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full mr-2"}),s.jsx(Rp,{className:"h-4 w-4 mr-2"}),r?"Importing...":"Select Contacts"]})})]})}function c9({contacts:e,onSuccess:t}){const[n,r]=h.useState(""),{toast:a}=St(),i=tt({mutationFn:async()=>{const l=e.map(d=>d.id);return(await rt("POST","/api/messages/bulk-sms",{contactIds:l,message:n})).json()},onSuccess:l=>{t(),setTimeout(()=>{a({title:"Messages Sent Successfully",description:`Successfully sent SMS to ${l.sent} contact(s)`})},150)},onError:l=>{var d;let c="Failed to send bulk SMS";try{const u=(d=l.message)==null?void 0:d.split(": ");if(u&&u.length>1){const f=u.slice(1).join(": ");c=JSON.parse(f).message||c}}catch{}a({title:"Error",description:c,variant:"destructive"})}}),o=()=>{if(!n.trim()){a({title:"Message Required",description:"Please enter a message to send",variant:"destructive"});return}i.mutate()};return s.jsxs(s.Fragment,{children:[s.jsxs(yn,{children:[s.jsx(wn,{children:"Send Bulk SMS"}),s.jsxs(Pn,{children:["Send a message to ",e.length," selected contact",e.length!==1?"s":"","."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium block mb-2",children:"Recipients"}),s.jsx("div",{className:"max-h-32 overflow-y-auto border rounded-md p-3 space-y-1",children:e.map(l=>s.jsxs("div",{className:"text-sm",children:[l.firstName," ",l.lastName]},l.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium block mb-2",children:"Message"}),s.jsx(Ps,{placeholder:"Type your message here...",value:n,onChange:l=>r(l.target.value),className:"resize-none h-32","data-testid":"input-bulk-message"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[n.length," characters"]})]})]}),s.jsx(Un,{children:s.jsxs(U,{onClick:o,disabled:!n.trim()||i.isPending,"data-testid":"button-send-bulk-sms",children:[i.isPending&&s.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full mr-2"}),s.jsx(Vl,{className:"h-4 w-4 mr-2"}),"Send to ",e.length," Contact",e.length!==1?"s":""]})})]})}var Lv="Switch",[d9,MH]=fn(Lv),[u9,f9]=d9(Lv),QR=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,p]=h.useState(null),y=Je(t,b=>p(b)),g=h.useRef(!1),w=m?u||!!m.closest("form"):!0,[v=!1,x]=Dr({prop:a,defaultProp:i,onChange:d});return s.jsxs(u9,{scope:n,checked:v,disabled:l,children:[s.jsx(Ne.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":ZR(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:se(e.onClick,b=>{x(N=>!N),w&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),w&&s.jsx(m9,{control:m,bubbles:!g.current,name:r,value:c,checked:v,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});QR.displayName=Lv;var GR="SwitchThumb",YR=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=f9(GR,n);return s.jsx(Ne.span,{"data-state":ZR(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});YR.displayName=GR;var m9=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,i=h.useRef(null),o=em(n),l=If(t);return h.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&f){const m=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(m)}},[o,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ZR(e){return e?"checked":"unchecked"}var JR=QR,h9=YR;const XR=h.forwardRef(({className:e,...t},n)=>s.jsx(JR,{className:K("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(h9,{className:K("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));XR.displayName=JR.displayName;const p9=[{token:"{FirstName}",description:"Contact's first name"},{token:"{LastName}",description:"Contact's last name"},{token:"{JobName}",description:"Job name"},{token:"{Date}",description:"Job date"},{token:"{Time}",description:"Job time"},{token:"{FromDate}",description:"Job start date"},{token:"{ToDate}",description:"Job end date"},{token:"{FromTime}",description:"Job start time"},{token:"{ToTime}",description:"Job end time"},{token:"{Location}",description:"Job location"},{token:"{Notes}",description:"Job notes"}];function g9(){const[e,t]=h.useState(!1);St();const{data:n,isLoading:r}=Ie({queryKey:["/api/templates"]});return r?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold","data-testid":"text-page-title",children:"Message Templates"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Create reusable message templates with dynamic variables"})]}),s.jsxs(on,{open:e,onOpenChange:t,children:[s.jsx(ei,{asChild:!0,children:s.jsxs(U,{className:"gap-2","data-testid":"button-create-template",children:[s.jsx(Fo,{className:"h-4 w-4"}),"Create Template"]})}),s.jsx(en,{className:"max-w-2xl",children:s.jsx(cg,{onSuccess:()=>t(!1)})})]})]}),n&&n.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(a=>s.jsx(x9,{template:a},a.id))}):s.jsx(ye,{children:s.jsxs(Se,{className:"p-12 text-center",children:[s.jsx(Cx,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No templates yet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first message template to speed up communication"}),s.jsxs(on,{open:e,onOpenChange:t,children:[s.jsx(ei,{asChild:!0,children:s.jsxs(U,{className:"gap-2","data-testid":"button-create-first-template",children:[s.jsx(Fo,{className:"h-4 w-4"}),"Create Your First Template"]})}),s.jsx(en,{className:"max-w-2xl",children:s.jsx(cg,{onSuccess:()=>t(!1)})})]})]})})]})}function x9({template:e}){const{toast:t}=St(),[n,r]=h.useState(!1),a=tt({mutationFn:()=>rt("DELETE",`/api/templates/${e.id}`),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/templates"]}),t({title:"Template Deleted",description:"Template has been deleted successfully"})}});return s.jsxs(s.Fragment,{children:[s.jsxs(ye,{className:"hover-elevate","data-testid":`card-template-${e.id}`,children:[s.jsxs(ct,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h3",{className:"font-semibold text-lg","data-testid":`text-template-name-${e.id}`,children:e.name}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>r(!0),"data-testid":`button-edit-template-${e.id}`,children:s.jsx(_x,{className:"h-4 w-4"})}),s.jsx(U,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>a.mutate(),"data-testid":`button-delete-template-${e.id}`,children:s.jsx(Tf,{className:"h-4 w-4"})})]})]}),s.jsx($e,{variant:"secondary",className:"w-fit text-xs",children:e.type})]}),s.jsx(Se,{children:s.jsx("div",{className:"bg-muted/50 p-3 rounded-md",children:s.jsx("p",{className:"text-sm whitespace-pre-wrap","data-testid":`text-template-content-${e.id}`,children:e.content})})})]}),s.jsx(on,{open:n,onOpenChange:r,children:s.jsx(en,{className:"max-w-2xl",children:s.jsx(cg,{template:e,onSuccess:()=>r(!1)})})})]})}function cg({template:e,onSuccess:t}){const{toast:n}=St(),r=!!e,a=ua({resolver:fa(iB),defaultValues:e||{name:"",content:"",type:"standard",includeRosterLink:!1}}),i=tt({mutationFn:d=>rt("POST","/api/templates",d),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/templates"]}),n({title:"Template Created",description:"New template has been created successfully"}),a.reset(),t()},onError:()=>{n({title:"Error",description:"Failed to create template",variant:"destructive"})}}),o=tt({mutationFn:d=>rt("PATCH",`/api/templates/${e==null?void 0:e.id}`,d),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/templates"]}),n({title:"Template Updated",description:"Template has been updated successfully"}),t()},onError:()=>{n({title:"Error",description:"Failed to update template",variant:"destructive"})}}),l=d=>{const u=a.getValues("content");a.setValue("content",u+d)},c=d=>{r?o.mutate(d):i.mutate(d)};return s.jsxs(V_,{children:[s.jsx(yn,{children:s.jsxs(wn,{className:"flex items-center gap-2",children:[r?"Edit Message Template":"Create Message Template",s.jsxs(Pi,{children:[s.jsx(Ei,{asChild:!0,children:s.jsx(Nw,{className:"h-4 w-4 text-primary cursor-help"})}),s.jsx(Oa,{className:"max-w-xs",children:s.jsx("p",{children:"Templates help you send consistent, personalized messages quickly. Use tokens to auto-fill recipient details!"})})]})]})}),s.jsx(ma,{...a,children:s.jsxs("form",{onSubmit:a.handleSubmit(c),className:"space-y-4",children:[s.jsx(ze,{control:a.control,name:"name",render:({field:d})=>s.jsxs(Le,{children:[s.jsxs(Fe,{className:"flex items-center gap-2",children:["Template Name",s.jsxs(Pi,{children:[s.jsx(Ei,{asChild:!0,children:s.jsx(jd,{className:"h-3.5 w-3.5 text-muted-foreground cursor-help"})}),s.jsx(Oa,{className:"max-w-xs",children:s.jsx("p",{children:'Give your template a descriptive name like "Job Invitation" or "Availability Request" so you can easily find it later'})})]})]}),s.jsx(Oe,{children:s.jsx(je,{placeholder:"e.g., Job Invitation",...d,"data-testid":"input-template-name"})}),s.jsx(Ve,{})]})}),s.jsx(ze,{control:a.control,name:"content",render:({field:d})=>s.jsxs(Le,{children:[s.jsxs(Fe,{className:"flex items-center gap-2",children:["Message Content",s.jsxs(Pi,{children:[s.jsx(Ei,{asChild:!0,children:s.jsx(jd,{className:"h-3.5 w-3.5 text-muted-foreground cursor-help"})}),s.jsxs(Oa,{className:"max-w-xs",children:[s.jsx("p",{className:"font-medium mb-1",children:"Pro tip: Click token buttons to insert them"}),s.jsxs("p",{className:"text-xs",children:["Tokens like ","{FirstName}"," will automatically be replaced with actual data when you send the message!"]})]})]})]}),s.jsx(Oe,{children:s.jsx(Ps,{placeholder:"Hi {FirstName}, we have a new job at {Location} on {Date}. Reply Y to confirm or N to decline.",className:"resize-none h-32",...d,"data-testid":"input-template-content"})}),s.jsxs(ar,{className:"flex items-start gap-1.5",children:[s.jsx(Nw,{className:"h-3.5 w-3.5 text-primary mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Click token buttons below to insert them at the cursor position. Tokens will be replaced with real data when sending."})]}),s.jsx(Ve,{})]})}),s.jsx(ze,{control:a.control,name:"includeRosterLink",render:({field:d})=>s.jsxs(Le,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(Fe,{className:"text-base flex items-center gap-2",children:["Include Schedule Link",s.jsxs(Pi,{children:[s.jsx(Ei,{asChild:!0,children:s.jsx(jd,{className:"h-3.5 w-3.5 text-muted-foreground cursor-help"})}),s.jsxs(Oa,{className:"max-w-xs",children:[s.jsx("p",{className:"font-medium mb-1",children:"What's a schedule link?"}),s.jsx("p",{className:"text-xs",children:"A secure URL that shows the recipient their upcoming jobs for the week. Great for reminders and confirmations!"})]})]})]}),s.jsx(ar,{children:"Automatically add a personalized schedule link to show the recipient's weekly schedule"})]}),s.jsx(Oe,{children:s.jsx(XR,{checked:d.value,onCheckedChange:d.onChange,"data-testid":"switch-include-roster-link"})})]})}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:["Available Tokens",s.jsxs(Pi,{children:[s.jsx(Ei,{asChild:!0,children:s.jsx(jd,{className:"h-3.5 w-3.5 text-muted-foreground cursor-help"})}),s.jsxs(Oa,{className:"max-w-sm",children:[s.jsx("p",{className:"font-medium mb-2",children:"Token Magic "}),s.jsx("p",{className:"text-xs mb-2",children:"Click any token to insert it into your message. When you send, they'll be replaced with:"}),s.jsxs("ul",{className:"text-xs space-y-1",children:[s.jsxs("li",{children:[" ","{FirstName}","  John"]}),s.jsxs("li",{children:[" ","{Location}","  Central Office"]}),s.jsxs("li",{children:[" ","{Date}","  15/11/2025"]}),s.jsxs("li",{children:[" ","{Time}","  09:00"]})]})]})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:p9.map(({token:d,description:u})=>s.jsxs(Pi,{children:[s.jsx(Ei,{asChild:!0,children:s.jsx(U,{type:"button",variant:"outline",size:"sm",onClick:()=>l(d),className:"text-xs","data-testid":`button-insert-${d}`,children:d})}),s.jsx(Oa,{children:s.jsx("p",{className:"text-xs",children:u})})]},d))})]}),s.jsx(Un,{children:s.jsxs(U,{type:"submit",disabled:i.isPending||o.isPending,"data-testid":"button-submit-template",children:[(i.isPending||o.isPending)&&s.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full mr-2"}),r?"Update Template":"Create Template"]})})]})})]})}function v9(){const[e,t]=h.useState(new Date),{data:n,isLoading:r}=Ie({queryKey:["/api/jobs"]}),a=lE(e),i=iE(e),o=pi(a),l=cE(i),c=oE({start:o,end:l}),d=u=>(n==null?void 0:n.filter(f=>{const m=new Date(f.startTime);return zu(m,u)}))||[];return r?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold","data-testid":"text-page-title",children:"Calendar"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"View all jobs by date and track confirmations"})]})}),s.jsx(ye,{children:s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-semibold","data-testid":"text-current-month",children:dt(e,"MMMM yyyy")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"icon",onClick:()=>t(mE(e,1)),"data-testid":"button-prev-month",children:s.jsx(Jk,{className:"h-4 w-4"})}),s.jsx(U,{variant:"outline",onClick:()=>t(new Date),"data-testid":"button-today",children:"Today"}),s.jsx(U,{variant:"outline",size:"icon",onClick:()=>t(jv(e,1)),"data-testid":"button-next-month",children:s.jsx(Ef,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-px bg-border rounded-lg overflow-hidden",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(u=>s.jsx("div",{className:"bg-muted p-3 text-center text-sm font-medium",children:u},u)),c.map((u,f)=>{const m=d(u),p=fE(u,e),y=zu(u,new Date);return s.jsxs("div",{className:`bg-card min-h-24 p-2 ${p?"":"opacity-50"}`,"data-testid":`calendar-day-${dt(u,"yyyy-MM-dd")}`,children:[s.jsx("div",{className:`text-sm mb-2 ${y?"font-semibold text-primary":""}`,children:dt(u,"d")}),s.jsxs("div",{className:"space-y-1",children:[m.slice(0,2).map(g=>s.jsx(Ye,{href:`/jobs/${g.id}/schedule`,children:s.jsx("a",{"data-testid":`job-link-${g.id}`,children:s.jsxs("div",{className:"bg-primary/10 border-l-2 border-primary px-2 py-1 rounded-sm hover-elevate cursor-pointer",children:[s.jsx("div",{className:"text-xs font-medium truncate",children:g.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:dt(new Date(g.startTime),"h:mm a")})]})})},g.id)),m.length>2&&s.jsxs("div",{className:"text-xs text-muted-foreground px-2",children:["+",m.length-2," more"]})]})]},f)})]})]})}),n&&n.length===0&&s.jsx(ye,{children:s.jsxs(Se,{className:"p-12 text-center",children:[s.jsx(nn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No jobs scheduled"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Create jobs to see them on the calendar"}),s.jsx(Ye,{href:"/jobs/new",children:s.jsx("a",{"data-testid":"link-create-job",children:s.jsx(U,{children:"Create Job"})})})]})})]})}var Fv="Radio",[y9,eA]=fn(Fv),[w9,b9]=y9(Fv),tA=h.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[f,m]=h.useState(null),p=Je(t,w=>m(w)),y=h.useRef(!1),g=f?d||!!f.closest("form"):!0;return s.jsxs(w9,{scope:n,checked:a,disabled:o,children:[s.jsx(Ne.button,{type:"button",role:"radio","aria-checked":a,"data-state":sA(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:p,onClick:se(e.onClick,w=>{a||c==null||c(),g&&(y.current=w.isPropagationStopped(),y.current||w.stopPropagation())})}),g&&s.jsx(j9,{control:f,bubbles:!y.current,name:r,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});tA.displayName=Fv;var nA="RadioIndicator",rA=h.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...a}=e,i=b9(nA,n);return s.jsx(nr,{present:r||i.checked,children:s.jsx(Ne.span,{"data-state":sA(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});rA.displayName=nA;var j9=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,i=h.useRef(null),o=em(n),l=If(t);return h.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&f){const m=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(m)}},[o,n,r]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function sA(e){return e?"checked":"unchecked"}var N9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$v="RadioGroup",[S9,RH]=fn($v,[tl,eA]),aA=tl(),iA=eA(),[C9,k9]=S9($v),oA=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:f,...m}=e,p=aA(n),y=Hc(d),[g,w]=Dr({prop:i,defaultProp:a,onChange:f});return s.jsx(C9,{scope:n,name:r,required:o,disabled:l,value:g,onValueChange:w,children:s.jsx(tv,{asChild:!0,...p,orientation:c,dir:y,loop:u,children:s.jsx(Ne.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...m,ref:t})})})});oA.displayName=$v;var lA="RadioGroupItem",cA=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...a}=e,i=k9(lA,n),o=i.disabled||r,l=aA(n),c=iA(n),d=h.useRef(null),u=Je(t,d),f=i.value===a.value,m=h.useRef(!1);return h.useEffect(()=>{const p=g=>{N9.includes(g.key)&&(m.current=!0)},y=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",y)}},[]),s.jsx(nv,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(tA,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:se(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:se(a.onFocus,()=>{var p;m.current&&((p=d.current)==null||p.click())})})})});cA.displayName=lA;var _9="RadioGroupIndicator",dA=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,a=iA(n);return s.jsx(rA,{...a,...r,ref:t})});dA.displayName=_9;var uA=oA,fA=cA,P9=dA;const mA=h.forwardRef(({className:e,...t},n)=>s.jsx(uA,{className:K("grid gap-2",e),...t,ref:n}));mA.displayName=uA.displayName;const hA=h.forwardRef(({className:e,...t},n)=>s.jsx(fA,{ref:n,className:K("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(P9,{className:"flex items-center justify-center",children:s.jsx(Xk,{className:"h-2.5 w-2.5 fill-current text-current"})})}));hA.displayName=fA.displayName;const Mb=[{value:"too_expensive",label:"Too expensive"},{value:"not_using",label:"Not using the service enough"},{value:"missing_features",label:"Missing features I need"},{value:"poor_support",label:"Poor customer support"},{value:"technical_issues",label:"Technical issues"},{value:"switching_competitor",label:"Switching to a competitor"},{value:"business_closure",label:"Business closure/downsizing"},{value:"other",label:"Other"}];function E9({open:e,onOpenChange:t,onConfirm:n}){const{toast:r}=St(),[a,i]=h.useState(""),[o,l]=h.useState("");h.useState(!1);const c=tt({mutationFn:async({reason:f,comments:m})=>(await rt("POST","/api/subscription/cancel-with-reason",{reason:f,comments:m})).json(),onSuccess:f=>{r({title:"Subscription Canceled",description:f.message}),Ee.invalidateQueries({queryKey:["/api/subscription"]}),t(!1),n(),i(""),l("")},onError:f=>{r({title:"Error",description:f.message||"Failed to cancel subscription",variant:"destructive"})}}),d=()=>{var p;if(!a){r({title:"Reason Required",description:"Please select a reason for cancellation",variant:"destructive"});return}const f=((p=Mb.find(y=>y.value===a))==null?void 0:p.label)||a,m=o?`${f}: ${o}`:f;c.mutate({reason:m,comments:o})},u=()=>{i(""),l(""),t(!1)};return s.jsx(on,{open:e,onOpenChange:t,children:s.jsxs(en,{className:"max-w-md",children:[s.jsxs(yn,{children:[s.jsx(wn,{children:"Cancel Subscription"}),s.jsx(Pn,{children:"We're sorry to see you go! Please help us improve by telling us why you're canceling."})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ot,{className:"text-sm font-medium",children:"Why are you canceling? *"}),s.jsx(mA,{value:a,onValueChange:i,children:Mb.map(f=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hA,{value:f.value,id:f.value}),s.jsx(Ot,{htmlFor:f.value,className:"text-sm font-normal cursor-pointer",children:f.label})]},f.value))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{htmlFor:"comments",className:"text-sm font-medium",children:"Additional comments (optional)"}),s.jsx(Ps,{id:"comments",placeholder:"Tell us more about your experience or what we could do better...",value:o,onChange:f=>l(f.target.value),rows:3})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(U,{variant:"outline",onClick:u,disabled:c.isPending,className:"flex-1",children:"Keep Subscription"}),s.jsx(U,{variant:"destructive",onClick:d,disabled:c.isPending||!a,className:"flex-1",children:c.isPending?"Canceling...":"Cancel Subscription"})]})]})})}const yl={GBP:"",USD:"$",EUR:""},T9={Starter:oc,Team:Si,Business:Zk};function M9(){const{toast:e}=St(),[t,n]=h.useState("GBP"),[r,a]=h.useState(!1),[i,o]=h.useState(!1),{data:l}=Ie({queryKey:["/api/auth/me"]}),{data:c,isLoading:d}=Ie({queryKey:["/api/subscription"]}),{data:u=[],isLoading:f}=Ie({queryKey:["/api/subscription-plans"]}),{data:m}=Ie({queryKey:["/api/credits"],refetchOnMount:"always",refetchOnWindowFocus:!0}),{data:p=[],isLoading:y}=Ie({queryKey:["/api/sms-bundles"],enabled:r}),g=tt({mutationFn:async({planId:j,currency:D})=>(await rt("POST","/api/create-checkout-session",{planId:j,currency:D})).json(),onSuccess:j=>{window.location.href=j.url},onError:j=>{e({title:"Error",description:j.message||"Failed to create checkout session",variant:"destructive"})}}),w=tt({mutationFn:async({bundleId:j,currency:D})=>(await rt("POST","/api/create-bundle-checkout-session",{bundleId:j,currency:D})).json(),onSuccess:j=>{window.location.href=j.url},onError:j=>{e({title:"Error",description:j.message||"Failed to create checkout session",variant:"destructive"})}}),v=tt({mutationFn:async()=>(await rt("POST","/api/stripe/create-portal-session",{})).json(),onSuccess:j=>{window.location.href=j.url},onError:j=>{e({title:"Error",description:j.message||"Failed to open Stripe portal",variant:"destructive"})}}),x=()=>{o(!1)},b=j=>{switch(t){case"USD":return j.priceUSD;case"EUR":return j.priceEUR;default:return j.priceGBP}},N=j=>{const D=j.featureBullets?j.featureBullets.split(`
`).map(R=>R.trim()).map(R=>R===""?"__SPACER__":R):[];if(D.length>0)return D;const I=[`${j.monthlyCredits.toLocaleString()} messages per month`,`${j.supportLevel} support`];return j.customTemplates&&I.push("Custom message templates"),j.autoFollowUp&&I.push("Auto follow-up messages"),j.multiManager&&I.push("Multi-manager access"),j.aiFeatures&&I.push("AI-powered insights"),j.dedicatedNumber&&I.push("Dedicated phone number"),I},C=(j,D)=>j==="__SPACER__"?s.jsx("div",{className:"h-2","aria-hidden":!0},D):j.endsWith(":")?s.jsx("div",{className:"pt-2 text-sm font-semibold text-foreground",children:j},D):s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Ss,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:j})]},D),P=j=>{g.mutate({planId:j,currency:t})};if(h.useEffect(()=>{l!=null&&l.currency&&n(l.currency)},[l==null?void 0:l.currency]),h.useEffect(()=>{const D=new URLSearchParams(window.location.search).get("session_id");D&&((async()=>{try{const F=await(await rt("POST","/api/stripe/process-session",{sessionId:D})).json(),k=F.purchaseType==="bundle";e({title:k?"SMS Bundle Purchased!":"Subscription Activated!",description:`${F.creditsGranted||0} credits have been added to your account.`}),Ee.invalidateQueries({queryKey:["/api/subscription"]}),Ee.invalidateQueries({queryKey:["/api/credits"]}),Ee.invalidateQueries({queryKey:["/api/auth/me"]})}catch(R){console.error("Error processing checkout session:",R),e({title:"Processing Payment",description:R.message||"Your payment was successful. Credits are being processed.",variant:"default"}),Ee.invalidateQueries({queryKey:["/api/subscription"]}),Ee.invalidateQueries({queryKey:["/api/credits"]}),Ee.invalidateQueries({queryKey:["/api/auth/me"]})}})(),window.history.replaceState({},"","/billing"))},[e]),d||f)return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})});const S=u.find(j=>j.id===(c==null?void 0:c.planId)),E=S&&m?Math.round((S.monthlyCredits-m.available)/S.monthlyCredits*100):0,O=S?N(S):[];return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold","data-testid":"text-page-title",children:"Billing & Subscription"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your plan and SMS credits"})]}),c&&S&&s.jsxs(ye,{"data-testid":"card-current-subscription",children:[s.jsx(ct,{children:s.jsx("h2",{className:"text-lg font-semibold",children:"Current Plan"})}),s.jsxs(Se,{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h3",{className:"text-2xl font-semibold","data-testid":"text-current-plan",children:S.name}),s.jsx($e,{variant:c.status==="active"?"default":"secondary","data-testid":"badge-subscription-status",children:c.status})]}),s.jsxs("div",{className:"text-lg text-muted-foreground mt-1",children:[yl[c.currency||"GBP"],((c.currency==="USD"?S.priceUSD:c.currency==="EUR"?S.priceEUR:S.priceGBP)/100).toFixed(0),"/month"]}),c.currentPeriodEnd&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Renews on ",dt(new Date(c.currentPeriodEnd),"MMMM d, yyyy")]}),S.targetAudience&&s.jsxs("div",{className:"mt-4 space-y-1 text-sm",children:[s.jsx("p",{className:"text-xs uppercase font-semibold tracking-wide text-muted-foreground",children:"Target"}),s.jsx("p",{children:S.targetAudience})]}),S.useCase&&s.jsxs("div",{className:"mt-3 space-y-1 text-sm",children:[s.jsx("p",{className:"text-xs uppercase font-semibold tracking-wide text-muted-foreground",children:"Use Case"}),s.jsx("p",{className:"text-muted-foreground",children:S.useCase})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{variant:"outline","data-testid":"button-manage-stripe",onClick:()=>v.mutate(),disabled:v.isPending,children:[s.jsx(Pp,{className:"h-4 w-4 mr-2"}),v.isPending?"Loading...":"Manage in Stripe"]}),c.status==="active"&&s.jsx(U,{variant:"destructive",onClick:()=>o(!0),children:"Cancel Subscription"})]})]}),m&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"SMS Credits"}),s.jsxs("span",{className:"text-sm text-muted-foreground","data-testid":"text-credits-remaining",children:[m.available," / ",S.monthlyCredits," remaining"]})]}),s.jsx(Yf,{value:100-E,className:"h-3","data-testid":"progress-credit-usage"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[E,"% used this month"]})]}),O.length>0&&s.jsxs("div",{className:"space-y-2 pt-2",children:[s.jsx("p",{className:"text-xs uppercase font-semibold tracking-wide text-muted-foreground",children:"Plan Features"}),s.jsx("div",{className:"space-y-2",children:O.map((j,D)=>C(j,`current-${D}`))})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-semibold",children:"Available Plans"}),s.jsx("div",{className:"inline-flex items-center gap-2 p-1 bg-muted rounded-lg","data-testid":"group-currency-selector",children:["GBP","USD","EUR"].map(j=>s.jsxs(U,{variant:t===j?"default":"ghost",size:"sm",onClick:()=>n(j),className:`toggle-elevate ${t===j?"toggle-elevated":""}`,"data-testid":`button-currency-${j.toLowerCase()}`,children:[yl[j]," ",j]},j))})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:u.map(j=>{const D=j.id===(c==null?void 0:c.planId),I=T9[j.name]||oc;return s.jsxs(ye,{className:D?"border-primary":"","data-testid":`card-plan-${j.name.toLowerCase()}`,children:[s.jsx(ct,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(I,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"text-xl font-semibold","data-testid":`text-plan-name-${j.name.toLowerCase()}`,children:j.name})]}),s.jsxs("div",{className:"text-3xl font-bold","data-testid":`text-price-${j.name.toLowerCase()}`,children:[yl[t],(b(j)/100).toFixed(0)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"per month"})]}),D&&s.jsx($e,{variant:"default","data-testid":"badge-current-plan",children:"Current"})]})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[j.targetAudience&&s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsx("p",{className:"text-xs uppercase font-semibold tracking-wide text-muted-foreground",children:"Target"}),s.jsx("p",{children:j.targetAudience})]}),j.useCase&&s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsx("p",{className:"text-xs uppercase font-semibold tracking-wide text-muted-foreground",children:"Use Case"}),s.jsx("p",{className:"text-muted-foreground",children:j.useCase})]}),s.jsx("div",{className:"space-y-2","data-testid":`text-feature-${j.name.toLowerCase()}-group`,children:N(j).map((R,F)=>C(R,`${j.id}-${F}`))})]}),s.jsx(U,{className:`w-full ${D?"":"bg-[#14b8a6] hover:bg-[#0d9488] text-white border-transparent"} ${g.isPending?"opacity-70":""}`,variant:"default",disabled:D||g.isPending,onClick:()=>P(j.id),"data-testid":`button-select-${j.name.toLowerCase()}`,children:D?s.jsxs(s.Fragment,{children:[s.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Active"]}):g.isPending?"Loading...":"Select Plan"})]})]},j.id)})})]}),s.jsxs(ye,{"data-testid":"card-credits-panel",children:[s.jsx(ct,{children:s.jsx("h3",{className:"text-lg font-semibold",children:"SMS Credits"})}),s.jsxs(Se,{className:"space-y-6",children:[m&&s.jsxs("div",{className:"flex items-center justify-between p-6 bg-muted/50 rounded-lg border",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Available Credits"}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("span",{className:"text-4xl font-bold","data-testid":"text-available-credits",children:m.available.toLocaleString()}),s.jsx("span",{className:"text-lg text-muted-foreground",children:"SMS"})]}),S&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["of ",S.monthlyCredits.toLocaleString()," monthly credits"]})]}),s.jsx("div",{className:"text-right",children:s.jsx(oc,{className:"w-12 h-12 text-primary/20"})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Need More Credits?"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Running low on SMS credits? Purchase additional SMS bundles at discounted rates or upgrade your plan for more monthly credits."}),s.jsxs(U,{variant:"outline",onClick:()=>a(!0),"data-testid":"button-view-bundles",children:[s.jsx(NL,{className:"h-4 w-4 mr-2"}),"View SMS Bundles"]})]})]})]}),s.jsx(on,{open:r,onOpenChange:a,children:s.jsxs(en,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(yn,{children:[s.jsx(wn,{children:"SMS Bundles"}),s.jsx(Pn,{children:"Purchase additional SMS credits at discounted rates"})]}),y?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})}):p.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No SMS bundles available at this time."}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:p.map(j=>{const D=t==="USD"?j.priceUSD:t==="EUR"?j.priceEUR:j.priceGBP;return s.jsxs(ye,{"data-testid":`card-bundle-${j.id}`,children:[s.jsx(ct,{children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold",children:j.name}),j.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.description})]})})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:"text-3xl font-bold",children:[yl[t],(D/100).toFixed(0)]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["for ",j.credits.toLocaleString()," credits"]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[yl[t],(D/100/j.credits*1e3).toFixed(2)," per 1,000 messages"]}),s.jsx(U,{className:"w-full",onClick:()=>w.mutate({bundleId:j.id,currency:t}),disabled:w.isPending,"data-testid":`button-purchase-bundle-${j.id}`,children:w.isPending?"Loading...":"Purchase Bundle"})]})]},j.id)})})]})}),s.jsx(E9,{open:i,onOpenChange:o,onConfirm:x})]})}const pA=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:K("w-full caption-bottom text-sm",e),...t})}));pA.displayName="Table";const gA=h.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:K("[&_tr]:border-b",e),...t}));gA.displayName="TableHeader";const xA=h.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:K("[&_tr:last-child]:border-0",e),...t}));xA.displayName="TableBody";const R9=h.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:K("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));R9.displayName="TableFooter";const dg=h.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:K("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));dg.displayName="TableRow";const El=h.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:K("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));El.displayName="TableHead";const Tl=h.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:K("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Tl.displayName="TableCell";const A9=h.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:K("mt-4 text-sm text-muted-foreground",e),...t}));A9.displayName="TableCaption";function I9(){const{toast:e}=St(),[,t]=Wt(),n=xt.isNativePlatform(),[r,a]=h.useState(!1),[i,o]=h.useState({firstName:"",lastName:"",email:"",teamRole:"member"}),[l,c]=h.useState(!1),[d,u]=h.useState(null),[f,m]=h.useState({firstName:"",lastName:"",email:""}),{data:p}=Ie({queryKey:["/api/auth/me"]}),{data:y}=Ie({queryKey:["/api/organization"],enabled:!!p}),{data:g,isLoading:w}=Ie({queryKey:["/api/organization/members"],enabled:!!p}),v=tt({mutationFn:async j=>await rt("POST","/api/organization/invite",j),onSuccess:j=>{Ee.invalidateQueries({queryKey:["/api/organization/members"]}),a(!1),o({firstName:"",lastName:"",email:"",teamRole:"member"}),e({title:"Team member invited",description:`An invitation email with login credentials has been sent to ${i.email}`})},onError:j=>{e({title:"Failed to invite member",description:j.message,variant:"destructive"})}}),x=tt({mutationFn:async({userId:j,teamRole:D})=>await rt("PATCH",`/api/organization/members/${j}/role`,{teamRole:D}),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/organization/members"]}),e({title:"Team role updated"})},onError:j=>{e({title:"Failed to update role",description:j.message,variant:"destructive"})}}),b=tt({mutationFn:async j=>await rt("DELETE",`/api/organization/members/${j}`),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/organization/members"]}),e({title:"Team member removed"})},onError:j=>{e({title:"Failed to remove member",description:j.message,variant:"destructive"})}}),N=tt({mutationFn:async({userId:j,data:D})=>await rt("PATCH",`/api/organization/members/${j}`,D),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/organization/members"]}),c(!1),u(null),e({title:"Team member updated"})},onError:j=>{e({title:"Failed to update member",description:j.message,variant:"destructive"})}}),C=j=>{switch(j){case"owner":return s.jsx(Ep,{className:"h-4 w-4 text-primary"});case"admin":return s.jsx(Mp,{className:"h-4 w-4 text-primary"});default:return s.jsx(fi,{className:"h-4 w-4 text-muted-foreground"})}},P=j=>{const D=j==="owner"?"default":j==="admin"?"secondary":"outline";return s.jsxs($e,{variant:D,className:"gap-1","data-testid":`badge-role-${j}`,children:[C(j),j.charAt(0).toUpperCase()+j.slice(1)]})},S=()=>p!=null&&p.firstName&&(p!=null&&p.lastName)?`${p.firstName[0]}${p.lastName[0]}`.toUpperCase():p!=null&&p.username?p.username.substring(0,2).toUpperCase():p!=null&&p.email?p.email.substring(0,2).toUpperCase():"U",E=()=>p!=null&&p.firstName&&(p!=null&&p.lastName)?`${p.firstName} ${p.lastName}`:(p==null?void 0:p.username)||(p==null?void 0:p.email)||"User",O=tt({mutationFn:async()=>{if(xt.isNativePlatform()){const j="https://portal.heyteam.ai",D=ic();return await fetch(`${j}/api/mobile/auth/logout`,{method:"POST",headers:{"Content-Type":"application/json",...D?{"X-User-ID":D}:{}},credentials:"include"})}return await rt("POST","/api/auth/logout")},onSuccess:()=>{mx(),Qr(),Ee.setQueryData(["/api/auth/me"],null),Ee.clear(),e({title:"Logged out successfully"}),setTimeout(()=>{t("/auth")},100)},onError:()=>{e({title:"Logout failed",variant:"destructive"})}});return s.jsxs("div",{className:`min-h-screen bg-background ${n?"p-4":"container mx-auto py-8 max-w-6xl"} space-y-4`,children:[s.jsxs("div",{children:[s.jsx("h1",{className:`${n?"text-2xl":"text-3xl"} font-bold`,"data-testid":"text-page-title",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your account and team"})]}),s.jsxs(ye,{children:[s.jsxs(ct,{children:[s.jsx(ln,{children:"Profile"}),s.jsx(ja,{children:"Your account information"})]}),s.jsx(Se,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(rr,{className:"h-16 w-16",children:s.jsx(sr,{className:"text-lg bg-primary text-primary-foreground",children:S()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold",children:E()}),(p==null?void 0:p.email)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[s.jsx(Lo,{className:"h-4 w-4"}),s.jsx("span",{children:p.email})]}),(y==null?void 0:y.name)&&s.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:s.jsx("span",{children:y.name})})]})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:`${n?"text-xl":"text-2xl"} font-bold`,children:"Team Management"}),s.jsx("p",{className:"text-muted-foreground mt-1","data-testid":"text-organization-name",children:y==null?void 0:y.name})]}),((p==null?void 0:p.teamRole)==="admin"||(p==null?void 0:p.teamRole)==="owner")&&s.jsxs(on,{open:r,onOpenChange:a,children:[s.jsx(ei,{asChild:!0,children:s.jsxs(U,{className:"gap-2","data-testid":"button-invite-member",children:[s.jsx(kL,{className:"h-4 w-4"}),"Invite Member"]})}),s.jsxs(en,{"data-testid":"dialog-invite-member",children:[s.jsxs(yn,{children:[s.jsx(wn,{children:"Invite Team Member"}),s.jsx(Pn,{children:"Add a new member to your team. They'll receive login credentials."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{htmlFor:"firstName",children:"First Name"}),s.jsx(je,{id:"firstName","data-testid":"input-first-name",value:i.firstName,onChange:j=>o({...i,firstName:j.target.value}),placeholder:"John"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{htmlFor:"lastName",children:"Last Name"}),s.jsx(je,{id:"lastName","data-testid":"input-last-name",value:i.lastName,onChange:j=>o({...i,lastName:j.target.value}),placeholder:"Doe"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{htmlFor:"email",children:"Email"}),s.jsx(je,{id:"email",type:"email","data-testid":"input-email",value:i.email,onChange:j=>o({...i,email:j.target.value}),placeholder:"john@example.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{htmlFor:"role",children:"Role"}),s.jsxs(ns,{value:i.teamRole,onValueChange:j=>o({...i,teamRole:j}),children:[s.jsx(Rr,{id:"role","data-testid":"select-role",children:s.jsx(vs,{})}),s.jsxs(Ar,{children:[s.jsx(Mt,{value:"member",children:"Member"}),s.jsx(Mt,{value:"admin",children:"Admin"}),(p==null?void 0:p.teamRole)==="owner"&&s.jsx(Mt,{value:"owner",children:"Owner"})]})]})]})]}),s.jsx(Un,{children:s.jsx(U,{onClick:()=>v.mutate(i),disabled:v.isPending||!i.firstName||!i.lastName||!i.email,"data-testid":"button-send-invite",children:v.isPending?"Inviting...":"Send Invite"})})]})]})]}),s.jsxs(ye,{children:[s.jsxs(ct,{children:[s.jsx(ln,{children:"Team Members"}),s.jsx(ja,{children:"Manage your team members and their roles"})]}),s.jsx(Se,{children:w?s.jsx("div",{className:"text-center py-8 text-muted-foreground","data-testid":"text-loading",children:"Loading team members..."}):s.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:s.jsx("div",{className:"inline-block min-w-full align-middle",children:s.jsxs(pA,{className:"min-w-[640px]",children:[s.jsx(gA,{children:s.jsxs(dg,{children:[s.jsx(El,{children:"Name"}),s.jsx(El,{children:"Email"}),s.jsx(El,{children:"Role"}),s.jsx(El,{className:"text-right",children:"Actions"})]})}),s.jsx(xA,{children:g==null?void 0:g.map(j=>s.jsxs(dg,{"data-testid":`row-member-${j.id}`,children:[s.jsxs(Tl,{className:"font-medium","data-testid":`text-name-${j.id}`,children:[j.firstName&&j.lastName?`${j.firstName} ${j.lastName}`:j.username,j.id===(p==null?void 0:p.id)&&s.jsx($e,{variant:"outline",className:"ml-2",children:"You"})]}),s.jsx(Tl,{"data-testid":`text-email-${j.id}`,children:j.email}),s.jsx(Tl,{children:((p==null?void 0:p.teamRole)==="admin"||(p==null?void 0:p.teamRole)==="owner")&&j.id!==(p==null?void 0:p.id)?s.jsxs(ns,{value:j.teamRole,onValueChange:D=>x.mutate({userId:j.id,teamRole:D}),disabled:j.teamRole==="owner"&&(p==null?void 0:p.teamRole)!=="owner",children:[s.jsx(Rr,{className:"w-36","data-testid":`select-role-${j.id}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[C(j.teamRole),s.jsx("span",{children:j.teamRole.charAt(0).toUpperCase()+j.teamRole.slice(1)})]})}),s.jsxs(Ar,{children:[s.jsx(Mt,{value:"member",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fi,{className:"h-4 w-4"}),"Member"]})}),s.jsx(Mt,{value:"admin",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mp,{className:"h-4 w-4"}),"Admin"]})}),(p==null?void 0:p.teamRole)==="owner"&&s.jsx(Mt,{value:"owner",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ep,{className:"h-4 w-4"}),"Owner"]})})]})]}):P(j.teamRole)}),s.jsx(Tl,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[((p==null?void 0:p.teamRole)==="admin"||(p==null?void 0:p.teamRole)==="owner")&&j.id!==(p==null?void 0:p.id)&&s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{u(j),m({firstName:j.firstName||"",lastName:j.lastName||"",email:j.email}),c(!0)},"data-testid":`button-edit-${j.id}`,children:s.jsx(_x,{className:"h-4 w-4"})}),((p==null?void 0:p.teamRole)==="admin"||(p==null?void 0:p.teamRole)==="owner")&&j.id!==(p==null?void 0:p.id)&&j.teamRole!=="owner"&&s.jsx(U,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>{confirm(`Remove ${j.username} from the team?`)&&b.mutate(j.id)},"data-testid":`button-remove-${j.id}`,children:s.jsx(Tf,{className:"h-4 w-4"})})]})})]},j.id))})]})})})})]}),s.jsx(on,{open:l,onOpenChange:c,children:s.jsxs(en,{"data-testid":"dialog-edit-member",children:[s.jsxs(yn,{children:[s.jsx(wn,{children:"Edit Team Member"}),s.jsx(Pn,{children:"Update the name or email for this team member"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{htmlFor:"edit-firstName",children:"First Name"}),s.jsx(je,{id:"edit-firstName","data-testid":"input-edit-first-name",value:f.firstName,onChange:j=>m({...f,firstName:j.target.value}),placeholder:"John"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{htmlFor:"edit-lastName",children:"Last Name"}),s.jsx(je,{id:"edit-lastName","data-testid":"input-edit-last-name",value:f.lastName,onChange:j=>m({...f,lastName:j.target.value}),placeholder:"Doe"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{htmlFor:"edit-email",children:"Email"}),s.jsx(je,{id:"edit-email",type:"email","data-testid":"input-edit-email",value:f.email,onChange:j=>m({...f,email:j.target.value}),placeholder:"john@example.com"})]})]}),s.jsxs(Un,{children:[s.jsx(U,{variant:"outline",onClick:()=>{c(!1),u(null)},children:"Cancel"}),s.jsx(U,{onClick:()=>N.mutate({userId:d==null?void 0:d.id,data:f}),disabled:N.isPending||!f.firstName||!f.lastName||!f.email,"data-testid":"button-save-member",children:N.isPending?"Saving...":"Save Changes"})]})]})}),s.jsx(ye,{children:s.jsx(Se,{className:"pt-6",children:s.jsxs(U,{variant:"destructive",className:"w-full",onClick:()=>O.mutate(),disabled:O.isPending,children:[s.jsx(Oo,{className:"h-4 w-4 mr-2"}),O.isPending?"Logging out...":"Logout"]})})})]})}const D9=Yo("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),vA=h.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:K(D9({variant:t}),e),...n}));vA.displayName="Alert";const O9=h.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:K("mb-1 font-medium leading-none tracking-tight",e),...t}));O9.displayName="AlertTitle";const yA=h.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:K("text-sm [&_p]:leading-relaxed",e),...t}));yA.displayName="AlertDescription";const Rb="heyteam_last_email",L9=ke.object({email:ke.string().email("Valid email is required"),password:ke.string().min(1,"Password is required")}),F9=ke.object({username:ke.string().min(2,"Company name must be at least 2 characters"),firstName:ke.string().min(1,"First name is required"),lastName:ke.string().min(1,"Last name is required"),email:ke.string().email("Valid email is required"),countryCode:ke.string().min(1,"Country is required"),mobileNumber:ke.string().min(5,"Mobile number is required"),password:ke.string().min(6,"Password must be at least 6 characters"),confirmPassword:ke.string().min(1,"Please confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),$9=ke.object({email:ke.string().email("Valid email is required")});function z9(){const[,e]=Wt(),{toast:t}=St(),[n,r]=h.useState("login"),[a,i]=h.useState(!1),[o,l]=h.useState(!1),[c,d]=h.useState(!1),[u,f]=h.useState(!1),[m,p]=h.useState(null),[y,g]=h.useState(null),[w,v]=h.useState(!1),x=typeof window<"u"&&localStorage.getItem(Rb)||"";h.useEffect(()=>{const k=new URLSearchParams(window.location.search),T=k.get("ref")||k.get("referralCode");T&&(p(T),r("register"))},[]);const b=ua({resolver:fa(L9),defaultValues:{email:x,password:""}}),N=ua({resolver:fa(F9),defaultValues:{username:"",firstName:"",lastName:"",email:"",countryCode:"GB",mobileNumber:"",password:"",confirmPassword:""}}),C=ua({resolver:fa($9),defaultValues:{email:""}}),P=()=>typeof navigator>"u"?!1:/android|iphone|ipad|ipod|windows phone/i.test(navigator.userAgent.toLowerCase()),S=()=>{var L;if(typeof window>"u")return!1;const k=typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)"):null,T=k==null?void 0:k.matches,B=(L=window.navigator)==null?void 0:L.standalone;return!!(T||B)};h.useEffect(()=>{if(typeof window>"u")return;const k=T=>{T.preventDefault(),g(T),n==="login"&&P()&&!S()&&v(!0)};return window.addEventListener("beforeinstallprompt",k),()=>{window.removeEventListener("beforeinstallprompt",k)}},[n]),h.useEffect(()=>{n==="login"&&P()&&!S()?v(!0):n!=="login"&&v(!1)},[n]),h.useEffect(()=>{if(typeof window>"u")return;if(S()){v(!1);return}const k=typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)"):null;if(!k)return;const T=B=>{B.matches&&v(!1)};return k.addEventListener?k.addEventListener("change",T):k.addListener(T),()=>{k.removeEventListener?k.removeEventListener("change",T):k.removeListener(T)}},[]);const E=async()=>{if(y)try{y.prompt();const k=await y.userChoice;(k==null?void 0:k.outcome)==="accepted"&&v(!1)}catch(k){console.error("PWA install prompt failed",k)}finally{g(null)}},O=tt({mutationFn:async k=>{const B=xt.isNativePlatform()?"https://portal.heyteam.ai":"";if(xt.isNativePlatform())try{const z=`${B}/api/mobile/auth/login`,Y=await fetch(z,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(k)});if(Y.ok){const ae=await Y.json();if(console.log("[Auth] Mobile login response:",ae),ae.type==="contact"){const Me=ae.contactId||ae.id;Me?(console.log("[Auth] Storing contactId:",Me),y4(Me)):console.error("[Auth] No contactId found in response:",ae)}else if(ae.type==="user"){const Me=ae.userId||ae.id;Me?(console.log("[Auth] Storing userId:",Me),v4(Me)):console.error("[Auth] No userId found in response:",ae)}return ae}else{const ae=await Y.text();throw console.log("[Auth] Mobile login failed:",Y.status,ae),new Error(ae||"Mobile login failed")}}catch(z){throw console.error("[Auth] Mobile login error:",z),z}const L=B?`${B}/api/auth/login`:"/api/auth/login",_=await fetch(L,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(k)});if(!_.ok){const z=await _.text();throw new Error(z||"Login failed")}return await _.json()},onSuccess:(k,T)=>{if(typeof window<"u"&&localStorage.setItem(Rb,T.email),console.log("[Auth] Login success, data:",k),t({title:"Login successful"}),k.type==="contact"){const B=Oc();if(console.log("[Auth] Contact login - stored contactId:",B),!B){console.error("[Auth] ERROR: contactId was not stored! Data:",k),t({title:"Login Error",description:"Failed to save session. Please try again.",variant:"destructive"});return}Ee.invalidateQueries({queryKey:["/api/mobile/auth/me"]}),setTimeout(()=>{e("/contact/dashboard")},100)}else Ee.invalidateQueries({queryKey:["/api/auth/me"]}),e("/jobs")},onError:k=>{let T="Invalid credentials";try{const L=(k.message||"").split(": ");if(L.length>1){const _=L.slice(1).join(": ");T=JSON.parse(_).message||T}}catch{}t({title:"Login failed",description:T,variant:"destructive"})}}),j=tt({mutationFn:async k=>{const T=m?{...k,referralCode:m}:k;return await rt("POST","/api/auth/register",T)},onSuccess:()=>{t({title:"Registration successful"}),Ee.invalidateQueries({queryKey:["/api/auth/me"]}),e("/jobs?tour=signup")},onError:k=>{let T="Could not create account";try{const L=(k.message||"").split(": ");if(L.length>1){const _=L.slice(1).join(": ");T=JSON.parse(_).message||T}}catch{}t({title:"Registration failed",description:T,variant:"destructive"})}}),D=tt({mutationFn:async k=>await rt("POST","/api/auth/forgot-password",k),onSuccess:()=>{t({title:"Check your email",description:"If the email exists, a reset link will be sent"}),i(!1),C.reset()},onError:k=>{let T="Could not process request";try{const L=(k.message||"").split(": ");if(L.length>1){const _=L.slice(1).join(": ");T=JSON.parse(_).message||T}}catch{}t({title:"Request failed",description:T,variant:"destructive"})}}),I=k=>{O.mutate(k)},R=k=>{j.mutate(k)},F=k=>{D.mutate(k)};return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"grid lg:grid-cols-2 w-full min-h-screen",children:[s.jsx("div",{className:"hidden lg:flex items-center justify-center bg-gradient-to-br from-[#14b8a6] to-[#0d9488] p-12",children:s.jsxs("div",{className:"max-w-lg text-white space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("img",{src:Ua,alt:"HeyTeam",className:"w-48 brightness-0 invert"}),s.jsxs("h1",{className:"text-4xl font-bold leading-tight",children:["One click to go",s.jsx("br",{}),"all digital."]})]}),s.jsx("div",{className:"space-y-4 text-base",children:["Fill jobs fast without spending hours on phone calls or WhatsApp messages.","Keep your team organised with automatic rota updates and instant SMS replies.","See everything in one place  jobs, availability, and confirmations on your dashboard."].map(k=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ss,{className:"mt-1 h-5 w-5 text-white"}),s.jsx("span",{children:k})]},k))})]})}),s.jsx("div",{className:"flex items-center justify-center p-6 sm:p-12",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"lg:hidden mb-8",children:s.jsx("img",{src:Ua,alt:"HeyTeam",className:"w-40 mx-auto"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-3xl font-bold",children:"Reset Password"}),s.jsx("p",{className:"text-muted-foreground",children:"Enter your email address and we'll send you a reset link"})]}),s.jsx(ma,{...C,children:s.jsxs("form",{onSubmit:C.handleSubmit(F),className:"space-y-5",children:[s.jsx(ze,{control:C.control,name:"email",render:({field:k})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Email Address"}),s.jsx(Oe,{children:s.jsx(je,{...k,type:"email",placeholder:"your@email.com",className:"h-11","data-testid":"input-forgot-email"})}),s.jsx(Ve,{})]})}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx(U,{type:"button",variant:"outline",onClick:()=>i(!1),className:"flex-1 h-11","data-testid":"button-back-to-login",children:"Back to Login"}),s.jsx(U,{type:"submit",className:"flex-1 h-11",disabled:D.isPending,"data-testid":"button-send-reset",children:D.isPending?"Sending...":"Send Reset Link"})]})]})})]})})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"grid lg:grid-cols-2 w-full min-h-screen",children:[s.jsx("div",{className:"hidden lg:flex items-center justify-center bg-gradient-to-br from-[#14b8a6] to-[#0d9488] p-12",children:s.jsxs("div",{className:"max-w-lg text-white space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("img",{src:Ua,alt:"HeyTeam",className:"w-48 brightness-0 invert"}),s.jsxs("h1",{className:"text-4xl font-bold leading-tight",children:["Stop calling around.",s.jsx("br",{}),"Just HeyTeam it."]})]}),s.jsx("div",{className:"space-y-4 text-base",children:["Fill jobs fast without spending hours on phone calls or WhatsApp messages.","Keep your team organised with automatic rota updates and instant SMS replies.","See everything in one place  jobs, availability, and confirmations on your dashboard."].map(k=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ss,{className:"mt-1 h-5 w-5 text-white"}),s.jsx("span",{children:k})]},k))})]})}),s.jsx("div",{className:"flex items-center justify-center p-6 sm:p-12",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"lg:hidden mb-8",children:s.jsx("img",{src:Ua,alt:"HeyTeam",className:"w-40 mx-auto"})}),n==="login"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-3xl font-bold","data-testid":"heading-login",children:"Sign in"}),s.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Please enter your details"})]}),w&&s.jsxs("div",{className:"relative rounded-xl border border-border bg-muted p-4 text-sm text-foreground transition-colors",children:[s.jsx("button",{type:"button",onClick:()=>v(!1),className:"absolute right-3 top-3 text-muted-foreground transition hover:text-foreground","aria-label":"Dismiss PWA install banner",children:s.jsx(Xr,{className:"h-4 w-4"})}),s.jsxs("div",{className:"pr-6 space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-semibold",children:"Install HeyTeam on your phone"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Add HeyTeam to your home screen for faster access and instant notifications."})]}),s.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"iOS:"})," Tap the ",s.jsx("span",{className:"font-semibold",children:"Share"})," button in Safari, then choose ",s.jsx("span",{className:"font-semibold",children:"Add to Home Screen"}),"."]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Android:"})," Tap the browser menu (",s.jsx("span",{"aria-hidden":!0,children:""}),") and select ",s.jsx("span",{className:"font-semibold",children:"Install app"})," or ",s.jsx("span",{className:"font-semibold",children:"Add to Home screen"}),"."]})]}),y&&s.jsx(U,{type:"button",size:"sm",variant:"outline",onClick:E,className:"text-xs","data-testid":"button-install-pwa",children:"Install now"})]})]}),s.jsx(ma,{...b,children:s.jsxs("form",{onSubmit:b.handleSubmit(I),className:"space-y-5",children:[s.jsx(ze,{control:b.control,name:"email",render:({field:k})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Email Address"}),s.jsx(Oe,{children:s.jsx(je,{...k,type:"email",placeholder:"your@email.com",className:"h-11","data-testid":"input-login-email"})}),s.jsx(Ve,{})]})}),s.jsx(ze,{control:b.control,name:"password",render:({field:k})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Oe,{children:s.jsx(je,{...k,type:o?"text":"password",placeholder:"Enter your password",className:"h-11 pr-10","data-testid":"input-login-password"})}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground hover:text-foreground focus:outline-none",onClick:()=>l(!o),"aria-label":"Toggle password visibility","data-testid":"button-toggle-password",children:o?s.jsx($m,{className:"h-5 w-5"}):s.jsx(zm,{className:"h-5 w-5"})})]}),s.jsx(Ve,{})]})}),s.jsx("div",{className:"flex items-center justify-end",children:s.jsx(U,{type:"button",variant:"ghost",onClick:()=>i(!0),className:"text-sm h-auto p-0 text-primary","data-testid":"button-forgot-password",children:"Forgot password?"})}),s.jsx(U,{type:"submit",className:"w-full h-11 text-base font-semibold",disabled:O.isPending,"data-testid":"button-login",children:O.isPending?"Signing in...":"Sign In"})]})}),s.jsxs("div",{className:"text-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),s.jsx(U,{type:"button",variant:"ghost",onClick:()=>r("register"),className:"h-auto p-0 text-primary font-semibold","data-testid":"link-to-register",children:"Sign up"})]})]}),n==="register"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-3xl font-bold","data-testid":"heading-register",children:"Sign up"}),s.jsx("p",{className:"text-muted-foreground",children:"Create your account to get started"})]}),m&&s.jsx(vA,{className:"bg-primary/10 border-primary/20","data-testid":"alert-referral",children:s.jsx(yA,{className:"text-sm",children:" You're signing up with a partner referral code"})}),s.jsx(ma,{...N,children:s.jsxs("form",{onSubmit:N.handleSubmit(R),className:"space-y-5",children:[s.jsx(ze,{control:N.control,name:"username",render:({field:k})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Company Name"}),s.jsx(Oe,{children:s.jsx(je,{...k,placeholder:"Your Company",className:"h-11","data-testid":"input-register-username"})}),s.jsx(Ve,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ze,{control:N.control,name:"firstName",render:({field:k})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"First Name"}),s.jsx(Oe,{children:s.jsx(je,{...k,placeholder:"John",className:"h-11","data-testid":"input-register-firstname"})}),s.jsx(Ve,{})]})}),s.jsx(ze,{control:N.control,name:"lastName",render:({field:k})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Last Name"}),s.jsx(Oe,{children:s.jsx(je,{...k,placeholder:"Doe",className:"h-11","data-testid":"input-register-lastname"})}),s.jsx(Ve,{})]})})]}),s.jsx(ze,{control:N.control,name:"email",render:({field:k})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Email Address"}),s.jsx(Oe,{children:s.jsx(je,{...k,type:"email",placeholder:"your@email.com",className:"h-11","data-testid":"input-register-email"})}),s.jsx(Ve,{})]})}),s.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[s.jsx(ze,{control:N.control,name:"countryCode",render:({field:k})=>s.jsxs(Le,{className:"col-span-2",children:[s.jsx(Fe,{children:"Country"}),s.jsxs(ns,{onValueChange:k.onChange,defaultValue:k.value,children:[s.jsx(Oe,{children:s.jsx(Rr,{className:"h-11","data-testid":"select-country-code",children:s.jsx(vs,{placeholder:"Select"})})}),s.jsx(Ar,{children:kc.map(T=>s.jsx(Mt,{value:T.code,children:T.dialCode},T.code))})]}),s.jsx(Ve,{})]})}),s.jsx(ze,{control:N.control,name:"mobileNumber",render:({field:k})=>s.jsxs(Le,{className:"col-span-3",children:[s.jsx(Fe,{children:"Mobile No"}),s.jsx(Oe,{children:s.jsx(je,{...k,type:"tel",placeholder:"Mobile number",className:"h-11","data-testid":"input-register-mobile"})}),s.jsx(Ve,{})]})})]}),s.jsx(ze,{control:N.control,name:"password",render:({field:k})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Oe,{children:s.jsx(je,{...k,type:c?"text":"password",placeholder:"Create a password",className:"h-11 pr-10","data-testid":"input-register-password"})}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground hover:text-foreground focus:outline-none",onClick:()=>d(!c),"aria-label":"Toggle password visibility","data-testid":"button-toggle-register-password",children:c?s.jsx($m,{className:"h-5 w-5"}):s.jsx(zm,{className:"h-5 w-5"})})]}),s.jsx(Ve,{})]})}),s.jsx(ze,{control:N.control,name:"confirmPassword",render:({field:k})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Oe,{children:s.jsx(je,{...k,type:u?"text":"password",placeholder:"Confirm your password",className:"h-11 pr-10","data-testid":"input-register-confirm"})}),s.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground hover:text-foreground focus:outline-none",onClick:()=>f(!u),"aria-label":"Toggle password visibility","data-testid":"button-toggle-confirm-password",children:u?s.jsx($m,{className:"h-5 w-5"}):s.jsx(zm,{className:"h-5 w-5"})})]}),s.jsx(Ve,{})]})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["By signing up, you agree to our"," ",s.jsx("a",{href:"https://heyteam.ai/termsandconditions",className:"text-primary",children:"Terms of Service"})," and"," ",s.jsx("a",{href:"https://heyteam.ai/privacypolicy",className:"text-primary",children:"Privacy Policy"})]}),s.jsx(U,{type:"submit",className:"w-full h-11 text-base font-semibold",disabled:j.isPending,"data-testid":"button-register",children:j.isPending?"Creating account...":"Get Started"})]})}),s.jsxs("div",{className:"text-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Already a member? "}),s.jsx(U,{type:"button",variant:"ghost",onClick:()=>r("login"),className:"h-auto p-0 text-primary font-semibold","data-testid":"link-to-login",children:"Sign in"})]})]})]})})]})})}const V9=ke.object({password:ke.string().min(6,"Password must be at least 6 characters"),confirmPassword:ke.string().min(1,"Please confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function U9(){const[,e]=Wt(),t=EO(),{toast:n}=St(),r=new URLSearchParams(t).get("token"),a=ua({resolver:fa(V9),defaultValues:{password:"",confirmPassword:""}}),i=tt({mutationFn:async l=>await rt("POST","/api/auth/reset-password",{token:r,password:l.password}),onSuccess:()=>{n({title:"Password reset successful",description:"You can now login with your new password"}),e("/auth")},onError:l=>{n({title:"Reset failed",description:l.message||"Invalid or expired token",variant:"destructive"})}}),o=l=>{if(!r){n({title:"Invalid reset link",description:"No reset token found",variant:"destructive"});return}i.mutate(l)};return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:s.jsxs(ye,{className:"w-full max-w-md",children:[s.jsxs(ct,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Si,{className:"h-6 w-6 text-primary"}),s.jsx(ln,{children:"Reset Your Password"})]}),s.jsx(ja,{children:"Enter your new password below"})]}),s.jsx(Se,{children:s.jsx(ma,{...a,children:s.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-4",children:[s.jsx(ze,{control:a.control,name:"password",render:({field:l})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"New Password"}),s.jsx(Oe,{children:s.jsx(je,{...l,type:"password",placeholder:"Enter new password","data-testid":"input-new-password"})}),s.jsx(Ve,{})]})}),s.jsx(ze,{control:a.control,name:"confirmPassword",render:({field:l})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Confirm New Password"}),s.jsx(Oe,{children:s.jsx(je,{...l,type:"password",placeholder:"Confirm new password","data-testid":"input-confirm-password"})}),s.jsx(Ve,{})]})}),s.jsx(U,{type:"submit",className:"w-full",disabled:i.isPending,"data-testid":"button-reset-password",children:i.isPending?"Resetting...":"Reset Password"})]})})})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:s.jsxs(ye,{className:"w-full max-w-md",children:[s.jsxs(ct,{children:[s.jsx(ln,{children:"Invalid Reset Link"}),s.jsx(ja,{children:"The password reset link is invalid or missing."})]}),s.jsx(Se,{children:s.jsx(U,{onClick:()=>e("/auth"),className:"w-full","data-testid":"button-back-to-auth",children:"Back to Login"})})]})})}const Ab={GBP:"",USD:"$",EUR:""},B9={Starter:oc,Team:Si,Business:Zk},Ib={Starter:"bg-primary/10 text-primary border-primary/20",Team:"bg-blue-500/10 text-blue-600 border-blue-500/20",Business:"bg-purple-500/10 text-purple-600 border-purple-500/20"};function H9(){const[e,t]=h.useState("GBP"),{data:n}=Ie({queryKey:["/api/auth/me"]}),{data:r=[],isLoading:a}=Ie({queryKey:["/api/subscription-plans"]}),i=l=>{switch(e){case"USD":return l.priceUsd;case"EUR":return l.priceEur;default:return l.priceGbp}},o=l=>{const c=[`${l.messagesPerMonth.toLocaleString()} messages per month`,`${l.calendarIntegrations} calendar integration${l.calendarIntegrations>1?"s":""}`,`${l.supportLevel} support`];return l.customTemplates&&c.push("Custom message templates"),l.autoFollowUp&&c.push("Auto follow-up messages"),l.multiManager&&c.push("Multi-manager access"),l.aiFeatures&&c.push("AI-powered insights"),l.dedicatedNumber&&c.push("Dedicated phone number"),c};return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading pricing..."})}):s.jsx("div",{className:"min-h-screen bg-background py-12 px-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-semibold text-foreground mb-4","data-testid":"text-pricing-title",children:"Choose the right plan for your team"}),s.jsx("p",{className:"text-lg text-muted-foreground mb-8","data-testid":"text-pricing-subtitle",children:"Streamline workforce coordination with SMS/Email messaging, availability tracking, and calendar sync"}),s.jsx("div",{className:"inline-flex items-center gap-2 p-1 bg-muted rounded-lg","data-testid":"group-currency-selector",children:["GBP","USD","EUR"].map(l=>s.jsxs(U,{variant:e===l?"default":"ghost",size:"sm",onClick:()=>t(l),className:`toggle-elevate ${e===l?"toggle-elevated":""}`,"data-testid":`button-currency-${l.toLowerCase()}`,children:[Ab[l]," ",l]},l))})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map(l=>{const c=B9[l.name]||oc,d=l.name==="Team";return s.jsxs(ye,{className:`relative p-6 flex flex-col ${d?"border-primary shadow-lg":""}`,"data-testid":`card-plan-${l.name.toLowerCase()}`,children:[d&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:s.jsx($e,{className:"bg-primary text-primary-foreground","data-testid":"badge-popular",children:"Most Popular"})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:`p-2 rounded-lg ${Ib[l.name]||Ib.Starter}`,children:s.jsx(c,{className:"w-5 h-5"})}),s.jsx("h2",{className:"text-2xl font-semibold text-foreground","data-testid":`text-plan-name-${l.name.toLowerCase()}`,children:l.name})]}),s.jsxs("div",{className:"flex items-baseline gap-1 mb-4",children:[s.jsxs("span",{className:"text-4xl font-semibold text-foreground","data-testid":`text-price-${l.name.toLowerCase()}`,children:[Ab[e],i(l)]}),s.jsx("span",{className:"text-muted-foreground",children:"/month"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Perfect for ",l.name==="Starter"?"small teams getting started":l.name==="Team"?"growing teams":"large organizations"]})]}),s.jsx("ul",{className:"space-y-3 mb-8 flex-1",children:o(l).map((u,f)=>s.jsxs("li",{className:"flex items-start gap-2","data-testid":`text-feature-${l.name.toLowerCase()}-${f}`,children:[s.jsx(Ss,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm text-foreground",children:u})]},f))}),n?s.jsx(Ye,{href:"/billing",children:s.jsxs(U,{variant:d?"default":"outline",className:"w-full","data-testid":`button-select-${l.name.toLowerCase()}`,children:["Select ",l.name]})}):s.jsx(Ye,{href:"/auth",children:s.jsx(U,{variant:d?"default":"outline",className:"w-full","data-testid":`button-get-started-${l.name.toLowerCase()}`,children:"Get Started"})})]},l.id)})}),s.jsxs("div",{className:"mt-16 text-center",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Need more messages?"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Add SMS bundles to your subscription for additional messaging credits at discounted rates"}),n?s.jsx(Ye,{href:"/billing",children:s.jsx(U,{variant:"outline","data-testid":"button-view-bundles",children:"View SMS Bundles"})}):s.jsx(Ye,{href:"/auth",children:s.jsx(U,{variant:"outline","data-testid":"button-signup-bundles",children:"Sign Up to View Bundles"})})]})]})})}function q9(){var f,m;const[,e]=Sf("/schedule/:token"),t=e==null?void 0:e.token,{data:n,isLoading:r,error:a}=Ie({queryKey:["/api/roster",t],enabled:!!t});if(r)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})});if(a||!n)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:s.jsx(ye,{className:"max-w-md w-full",children:s.jsxs(Se,{className:"p-8 text-center",children:[s.jsx(Nx,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Invalid Schedule Link"}),s.jsx("p",{className:"text-muted-foreground",children:"This schedule link is invalid or has expired. Please contact your manager for a new link."})]})})});const{contact:i,jobs:o}=n,l=[...o].sort((p,y)=>{const g=new Date(p.startTime).getTime(),w=new Date(y.startTime).getTime();return g-w}),c=new Date,d=l.filter(p=>new Date(p.startTime)>=c),u=l.filter(p=>new Date(p.startTime)<c);return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted p-4 md:p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx(ye,{"data-testid":"card-roster-header",children:s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"h-12 w-12 rounded-full bg-primary flex items-center justify-center text-primary-foreground font-semibold text-lg",children:[((f=i.firstName)==null?void 0:f[0])||"?",((m=i.lastName)==null?void 0:m[0])||""]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-semibold","data-testid":"text-contact-name",children:[i.firstName," ",i.lastName]}),s.jsx("p",{className:"text-muted-foreground",children:"Your Job Schedule"})]})]})})}),d.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3 px-1",children:"Upcoming Jobs"}),s.jsx("div",{className:"space-y-3",children:d.map(p=>s.jsx(Db,{job:p},p.id))})]}),u.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3 px-1",children:"Past Jobs"}),s.jsx("div",{className:"space-y-3",children:u.map(p=>s.jsx(Db,{job:p,isPast:!0},p.id))})]}),o.length===0&&s.jsx(ye,{children:s.jsxs(Se,{className:"p-12 text-center",children:[s.jsx(nn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Jobs Assigned"}),s.jsx("p",{className:"text-muted-foreground",children:"You don't have any jobs assigned at the moment. Check back later!"})]})})]})})}function Db({job:e,isPast:t=!1}){const n=new Date(e.startTime),r=new Date(e.endTime),a=dt(n,"EEEE, MMMM d, yyyy"),i=`${dt(n,"h:mm a")} - ${dt(r,"h:mm a")}`;return s.jsx(ye,{className:t?"opacity-60":"hover-elevate","data-testid":`card-job-${e.id}`,children:s.jsx(Se,{className:"p-6",children:s.jsx("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:s.jsxs("div",{className:"space-y-3 flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h3",{className:"text-lg font-semibold","data-testid":`text-job-name-${e.id}`,children:e.name}),t&&s.jsx($e,{variant:"secondary",className:"text-xs",children:"Past"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(nn,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{"data-testid":`text-job-date-${e.id}`,children:a})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(va,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{"data-testid":`text-job-time-${e.id}`,children:i})]}),e.location&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Ni,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{"data-testid":`text-job-location-${e.id}`,children:e.location})]})]}),e.notes&&s.jsx("p",{className:"text-sm text-muted-foreground pt-2 border-t","data-testid":`text-job-notes-${e.id}`,children:e.notes})]})})})})}function W9(){const[e,t]=h.useState(""),[n,r]=h.useState(""),[a,i]=h.useState(""),{data:o=[],isLoading:l}=Ie({queryKey:["/api/messages/history"]}),c=o.filter(f=>{const m=f.contactName.toLowerCase().includes(e.toLowerCase()),p=f.content.toLowerCase().includes(n.toLowerCase());let y=!0;return a&&(y=dt(new Date(f.createdAt),"yyyy-MM-dd")===a),m&&p&&y}),d=()=>{t(""),r(""),i("")},u=e||n||a;return l?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading message history..."})}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-page-title",children:"Message History"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"View all sent and received messages"})]}),s.jsxs(ye,{children:[s.jsxs(ct,{children:[s.jsxs(ln,{className:"flex items-center gap-2",children:[s.jsx(Px,{className:"h-5 w-5"}),"Filter Messages"]}),s.jsx(ja,{children:"Search by contact name, message content, or date"})]}),s.jsxs(Se,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{htmlFor:"search-name",children:"Contact Name"}),s.jsx(je,{id:"search-name","data-testid":"input-search-name",placeholder:"Search by name...",value:e,onChange:f=>t(f.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{htmlFor:"search-content",children:"Message Content"}),s.jsx(je,{id:"search-content","data-testid":"input-search-content",placeholder:"Search message text...",value:n,onChange:f=>r(f.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ot,{htmlFor:"search-date",children:"Date"}),s.jsx(je,{id:"search-date","data-testid":"input-search-date",type:"date",value:a,onChange:f=>i(f.target.value)})]})]}),u&&s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Found ",c.length," of ",o.length," messages"]}),s.jsxs(U,{variant:"ghost",size:"sm","data-testid":"button-clear-filters",onClick:d,children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]})]}),s.jsxs(ye,{children:[s.jsx(ct,{children:s.jsxs(ln,{children:["Messages (",c.length,")"]})}),s.jsx(Se,{children:c.length===0?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:u?"No messages match your filters":"No messages yet"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full","data-testid":"table-messages",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-3 font-medium",children:"Date & Time"}),s.jsx("th",{className:"text-left p-3 font-medium",children:"Contact"}),s.jsx("th",{className:"text-left p-3 font-medium",children:"Direction"}),s.jsx("th",{className:"text-left p-3 font-medium",children:"Job"}),s.jsx("th",{className:"text-left p-3 font-medium",children:"Message"}),s.jsx("th",{className:"text-left p-3 font-medium",children:"Status"})]})}),s.jsx("tbody",{children:c.map(f=>s.jsxs("tr",{className:"border-b hover-elevate","data-testid":`row-message-${f.id}`,children:[s.jsx("td",{className:"p-3 text-sm","data-testid":`text-date-${f.id}`,children:dt(new Date(f.createdAt),"MMM dd, yyyy HH:mm")}),s.jsx("td",{className:"p-3","data-testid":`text-contact-${f.id}`,children:f.contactName}),s.jsx("td",{className:"p-3",children:s.jsx($e,{variant:f.direction==="outbound"?"default":"secondary","data-testid":`badge-direction-${f.id}`,children:f.direction==="outbound"?"Sent":"Received"})}),s.jsx("td",{className:"p-3 text-sm text-muted-foreground","data-testid":`text-job-${f.id}`,children:f.jobName||"-"}),s.jsx("td",{className:"p-3 max-w-md","data-testid":`text-content-${f.id}`,children:s.jsx("div",{className:"truncate text-sm",children:f.content})}),s.jsx("td",{className:"p-3",children:s.jsx($e,{variant:f.status==="sent"?"default":f.status==="failed"?"destructive":"secondary","data-testid":`badge-status-${f.id}`,children:f.status})})]},f.id))})]})})})]})]})}const K9=ke.object({firstName:ke.string().min(1,"First name is required"),lastName:ke.string().min(1,"Last name is required"),email:ke.string().email("Invalid email address"),mobileNumber:ke.string().optional(),countryCode:ke.string().optional()});function Q9(){const{toast:e}=St(),{data:t,isLoading:n}=Ie({queryKey:["/api/auth/me"]}),r=ua({resolver:fa(K9),values:{firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",email:(t==null?void 0:t.email)||"",mobileNumber:(t==null?void 0:t.mobileNumber)||"",countryCode:(t==null?void 0:t.countryCode)||"US"}}),a=tt({mutationFn:async o=>await rt("PATCH","/api/auth/profile",o),onSuccess:()=>{Ee.invalidateQueries({queryKey:["/api/auth/me"]}),e({title:"Profile updated",description:"Your profile has been updated successfully."})},onError:o=>{e({title:"Update failed",description:o.message,variant:"destructive"})}}),i=o=>{a.mutate(o)};return n?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading..."})}):s.jsxs("div",{className:"container mx-auto p-6 max-w-2xl space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-page-title",children:"Profile Settings"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your personal information"})]}),s.jsxs(ye,{children:[s.jsxs(ct,{children:[s.jsxs(ln,{className:"flex items-center gap-2",children:[s.jsx(fi,{className:"h-5 w-5"}),"Personal Information"]}),s.jsx(ja,{children:"Update your profile details"})]}),s.jsx(Se,{children:s.jsx(ma,{...r,children:s.jsxs("form",{onSubmit:r.handleSubmit(i),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ze,{control:r.control,name:"firstName",render:({field:o})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"First Name"}),s.jsx(Oe,{children:s.jsx(je,{...o,"data-testid":"input-first-name",placeholder:"Enter first name"})}),s.jsx(Ve,{})]})}),s.jsx(ze,{control:r.control,name:"lastName",render:({field:o})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Last Name"}),s.jsx(Oe,{children:s.jsx(je,{...o,"data-testid":"input-last-name",placeholder:"Enter last name"})}),s.jsx(Ve,{})]})})]}),s.jsx(ze,{control:r.control,name:"email",render:({field:o})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Email Address"}),s.jsx(Oe,{children:s.jsx(je,{...o,type:"email","data-testid":"input-email",placeholder:"Enter email"})}),s.jsx(Ve,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ze,{control:r.control,name:"countryCode",render:({field:o})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Country Code"}),s.jsx(Oe,{children:s.jsx(je,{...o,"data-testid":"input-country-code",placeholder:"US"})}),s.jsx(Ve,{})]})}),s.jsx(ze,{control:r.control,name:"mobileNumber",render:({field:o})=>s.jsxs(Le,{children:[s.jsx(Fe,{children:"Mobile Number"}),s.jsx(Oe,{children:s.jsx(je,{...o,"data-testid":"input-mobile",placeholder:"Enter mobile number"})}),s.jsx(Ve,{})]})})]}),s.jsx("div",{className:"flex justify-end gap-2 pt-4",children:s.jsx(U,{type:"submit","data-testid":"button-save-profile",disabled:a.isPending,children:a.isPending?"Saving...":"Save Changes"})})]})})})]})]})}function wA(){return s.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:s.jsx(ye,{className:"max-w-md",children:s.jsxs(Se,{className:"p-12 text-center",children:[s.jsx(Nx,{className:"h-16 w-16 text-destructive mx-auto mb-6"}),s.jsx("h1",{className:"text-3xl font-semibold mb-3",children:"Page Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"The page you're looking for doesn't exist or has been moved."}),s.jsx(Ye,{href:"/",children:s.jsx("a",{"data-testid":"link-home",children:s.jsxs(U,{className:"gap-2",children:[s.jsx(kx,{className:"h-4 w-4"}),"Back to Dashboard"]})})})]})})})}ke.object({email:ke.string().email("Valid email is required"),password:ke.string().min(1,"Password is required")});ke.object({currentPassword:ke.string().min(1,"Current password is required"),newPassword:ke.string().min(8,"New password must be at least 8 characters"),confirmPassword:ke.string().min(1,"Please confirm the new password")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});var G9="Separator",Ob="horizontal",Y9=["horizontal","vertical"],bA=h.forwardRef((e,t)=>{const{decorative:n,orientation:r=Ob,...a}=e,i=Z9(r)?r:Ob,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Ne.div,{"data-orientation":i,...l,...a,ref:t})});bA.displayName=G9;function Z9(e){return Y9.includes(e)}var jA=bA;const J9=h.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>s.jsx(jA,{ref:a,decorative:n,orientation:t,className:K("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));J9.displayName=jA.displayName;const Lb=[{path:"/contact/dashboard",label:"Dashboard",icon:xa},{path:"/contact/jobs",label:"My Jobs",icon:xa},{path:"/contact/invitations",label:"Invitations",icon:ku},{path:"/contact/messages",label:"Messages",icon:Cs},{path:"/contact/schedule",label:"Schedule",icon:nn}];function X9(){const[e,t]=Wt(),{toast:n}=St(),[r,a]=h.useState(!1);if(xt.isNativePlatform())return null;const{data:o}=Ie({queryKey:["/api/mobile/auth/me"],queryFn:Er,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:5*60*1e3}),l=tt({mutationFn:async()=>await px("POST","/api/mobile/auth/logout",{}),onSuccess:()=>{Qr(),Ee.setQueryData(["/api/mobile/auth/me"],null),Ee.clear(),n({title:"Logged out successfully"}),setTimeout(()=>{t("/auth")},100)},onError:()=>{n({title:"Logout failed",variant:"destructive"})}}),c=()=>o!=null&&o.firstName&&(o!=null&&o.lastName)?`${o.firstName[0]}${o.lastName[0]}`.toUpperCase():o!=null&&o.email?o.email.substring(0,2).toUpperCase():"C",d=()=>o!=null&&o.firstName&&(o!=null&&o.lastName)?`${o.firstName} ${o.lastName}`:(o==null?void 0:o.email)||"Contact";return s.jsx("header",{className:"sticky top-0 z-50 border-b bg-card",children:s.jsx("div",{className:"mx-auto max-w-screen-2xl px-3 sm:px-6 py-2 sm:py-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-6",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-8",children:[s.jsx(Ye,{href:"/contact/dashboard",children:s.jsx("div",{className:"flex items-center gap-2 sm:gap-3 hover-elevate px-1 sm:px-2 py-1 rounded-md cursor-pointer",children:s.jsx("img",{src:Ua,alt:"HeyTeam",className:"w-20 sm:w-28"})})}),s.jsx("nav",{className:"hidden md:flex items-center gap-1",children:Lb.map(u=>{const f=u.icon,m=e===u.path;return s.jsx(Ye,{href:u.path,children:s.jsxs(U,{variant:"ghost",className:`gap-2 ${m?"bg-accent":""}`,children:[s.jsx(f,{className:"h-4 w-4"}),u.label]})},u.path)})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ev,{open:r,onOpenChange:a,children:[s.jsx(v2,{asChild:!0,children:s.jsx(U,{variant:"ghost",size:"icon",className:"md:hidden",children:s.jsx(t_,{className:"h-5 w-5"})})}),s.jsxs(Bf,{side:"left",className:"w-[280px]",children:[s.jsx(Hf,{children:s.jsx(qf,{children:"Menu"})}),s.jsxs("div",{className:"flex flex-col gap-2 mt-6",children:[Lb.map(u=>{const f=u.icon,m=e===u.path;return s.jsx(Ye,{href:u.path,children:s.jsxs(U,{variant:m?"secondary":"ghost",className:"w-full justify-start gap-3",onClick:()=>a(!1),children:[s.jsx(f,{className:"h-4 w-4"}),u.label]})},u.path)}),s.jsx("div",{className:"border-t my-2"}),s.jsx("div",{className:"text-xs font-medium text-muted-foreground px-2 py-1",children:"Account"}),s.jsxs(U,{variant:"ghost",className:"w-full justify-start gap-3",onClick:()=>{a(!1),l.mutate()},disabled:l.isPending,children:[s.jsx(Oo,{className:"h-4 w-4"}),"Logout"]})]})]})]}),s.jsx("div",{className:"hidden md:flex items-center gap-2",children:s.jsxs(Up,{children:[s.jsx(Bp,{asChild:!0,children:s.jsxs(U,{variant:"ghost",size:"sm",className:"gap-2",children:[s.jsx(rr,{className:"h-6 w-6",children:s.jsx(sr,{className:"text-xs",children:c()})}),s.jsx("span",{className:"hidden lg:inline",children:d()}),s.jsx(ui,{className:"h-3 w-3"})]})}),s.jsxs(Du,{align:"end",className:"w-56",children:[s.jsx(Ou,{children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:d()}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:o==null?void 0:o.email})]})}),s.jsx(Gi,{}),s.jsxs(Us,{onClick:()=>l.mutate(),disabled:l.isPending,children:[s.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}),s.jsx(H_,{})]})]})})})}function eH(){const[e]=Wt();if(!xt.isNativePlatform())return null;const{data:n}=Ie({queryKey:["/api/mobile/auth/me"],queryFn:Er,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:5*60*1e3}),r=()=>n!=null&&n.firstName&&(n!=null&&n.lastName)?`${n.firstName[0]}${n.lastName[0]}`.toUpperCase():n!=null&&n.email?n.email.substring(0,2).toUpperCase():"C",a=()=>e==="/contact/dashboard"?"Dashboard":e==="/contact/jobs"?"My Jobs":e==="/contact/invitations"?"Invitations":e==="/contact/messages"?"Messages":e==="/contact/schedule"?"Schedule":e==="/contact/settings"?"Settings":"HeyTeam";return s.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 border-b bg-card h-8 flex items-center px-2",style:{marginTop:0,paddingTop:0,top:0},children:s.jsxs("div",{className:"flex items-center justify-between w-full h-full",style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx(Ye,{href:"/contact/dashboard",children:s.jsx("img",{src:Ua,alt:"HeyTeam",className:"h-5 w-auto"})}),s.jsx("h1",{className:"text-base font-semibold truncate ml-2",children:a()})]}),s.jsx(Ye,{href:"/contact/settings",children:s.jsx(U,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-full p-0",children:s.jsx(rr,{className:"h-7 w-7",children:s.jsx(sr,{className:"text-[10px] bg-primary text-primary-foreground",children:r()})})})})]})})}const tH=[{path:"/contact/dashboard",label:"Dashboard",icon:kx},{path:"/contact/jobs",label:"Jobs",icon:xa},{path:"/contact/invitations",label:"Invitations",icon:ku},{path:"/contact/messages",label:"Messages",icon:Cs},{path:"/contact/schedule",label:"Schedule",icon:nn}];function nH(){var r;const[e]=Wt(),{data:t}=Ie({queryKey:["/api/contact/invitations"],queryFn:Er,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!0,staleTime:1*60*1e3}),n=((r=t==null?void 0:t.invitations)==null?void 0:r.length)||0;return s.jsx("nav",{className:K("ios-tap"),style:{position:"fixed",bottom:0,left:0,right:0,width:"100%",zIndex:9999,paddingTop:"10px",paddingBottom:"env(safe-area-inset-bottom, 0px)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",backgroundColor:"hsl(var(--background) / 0.95)",borderTop:"1px solid hsl(var(--border))",boxShadow:"0 -2px 10px rgba(0, 0, 0, 0.05)"},children:s.jsx("div",{className:"flex items-center justify-around h-8",children:tH.map(a=>{const i=a.icon,o=e===a.path||e.startsWith(a.path+"/"),l=a.path==="/contact/invitations"&&n>0;return s.jsx(Ye,{href:a.path,className:K("flex flex-col items-center justify-center","flex-1 h-full","transition-colors duration-200","active:bg-accent/50","min-w-0","ios-tap ios-no-select","relative"),children:s.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[s.jsx(i,{className:K("h-5 w-5 transition-colors duration-200",o?"text-primary":"text-muted-foreground")}),l&&s.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-destructive text-[10px] text-destructive-foreground flex items-center justify-center font-bold",children:n>9?"9+":n}),s.jsx("span",{className:K("text-[10px] font-medium transition-colors duration-200","leading-tight mt-0.5",o?"text-primary":"text-muted-foreground"),children:a.label}),o&&s.jsx("div",{className:"absolute -top-0.5 left-1/2 -translate-x-1/2 w-1 h-1 rounded-full bg-primary"})]})},a.path)})})})}const rH=()=>{const[e,t]=h.useState(0),[n,r]=h.useState(!1),[a,i]=h.useState(!1),[o,l]=h.useState(!1),[c,d]=h.useState(!0),[u,f]=h.useState(!1),[m,p]=h.useState(!1),[y,g]=h.useState(""),[w,v]=h.useState(!1),[x,b]=h.useState(!1),N={teamName:"CTRLC+V",members:["Muhammad Azfar","Muhammad Sohail Hafeez","Ibrahim Sheikh"],projectName:"RealTime Video Chat Translation",description:"A video calling platform enhanced with AI-powered real-time captions and multilingual translation. The system converts speech to live text during the call and instantly translates it into a user-selected language, enabling seamless communication between people who speak different languages.",prize:"15,000 PKR",category:"Best AI Implementation",repoLink:"https://github.com/mibrahimm1/code_connect",demoLink:"https://code-connect-rose.vercel.app/",logoEmoji:""};h.useEffect(()=>{if(a){p(!0),setTimeout(()=>{g(N.teamName)},2500),setTimeout(()=>{v(!0)},7e3),setTimeout(()=>{b(!0)},9e3),setTimeout(()=>{l(!0)},9500);const E=setTimeout(()=>l(!1),14500);return()=>clearTimeout(E)}},[a,N.teamName]);const C=()=>{r(!0)},P=()=>{r(!1),e>=100&&i(!0),t(0)};h.useEffect(()=>{let E;return n&&!a&&(E=setInterval(()=>{t(O=>O>=100?(r(!1),i(!0),100):O+2)},20)),()=>{E&&clearInterval(E)}},[n,a]);const S=()=>{const E=Array.from({length:80},(O,j)=>({id:j,left:Math.random()*100,delay:Math.random()*.5,duration:2+Math.random()*2,color:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"][Math.floor(Math.random()*5)]}));return s.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:[E.map(O=>s.jsx("div",{className:"absolute w-2 h-2 md:w-3 md:h-3 opacity-0 rounded-sm",style:{left:`${O.left}%`,top:"-10%",backgroundColor:O.color,animation:`confettiFall ${O.duration}s ease-out ${O.delay}s forwards`,transform:"rotate(0deg)"}},O.id)),s.jsx("style",{children:`
          @keyframes confettiFall {
            0% { 
              top: -10%; 
              opacity: 1;
              transform: rotate(0deg) translateY(0);
            }
            100% { 
              top: 110%; 
              opacity: 0;
              transform: rotate(${Math.random()*720}deg) translateY(20px);
            }
          }
        `})]})};return a?s.jsxs("div",{className:"min-h-screen bg-slate-900 py-12 px-4 relative overflow-hidden",children:[o&&s.jsx(S,{}),s.jsx("div",{className:"absolute inset-0 opacity-5",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)",backgroundSize:"50px 50px"}})}),m&&!x&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/95 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"relative w-full max-w-3xl",children:[s.jsxs("div",{className:"text-center mb-12 animate-fadeIn",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:" Can you guess the winner?"}),s.jsx("p",{className:"text-xl text-slate-300 mb-6",children:"Based on this hint..."}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mb-8",children:[s.jsx("div",{className:"bg-slate-700 text-slate-300 px-4 py-2 rounded-lg font-semibold",children:"brain.cpp"}),s.jsx("div",{className:"bg-slate-700 text-slate-300 px-4 py-2 rounded-lg font-semibold",children:"boys"}),s.jsx("div",{className:"bg-slate-700 text-slate-300 px-4 py-2 rounded-lg font-semibold",children:"Bug Hunters"}),s.jsx("div",{className:"bg-slate-700 text-slate-300 px-4 py-2 rounded-lg font-semibold",children:"MMA"}),s.jsx("div",{className:"bg-slate-700 text-slate-300 px-4 py-2 rounded-lg font-semibold",children:"CTRL C + V"})]})]}),s.jsxs("div",{className:"bg-white rounded-3xl p-8 md:p-12 shadow-2xl relative overflow-visible",children:[s.jsx("div",{className:"text-gray-600 text-xl md:text-2xl mb-6 leading-relaxed",children:"The winning team is known for their legendary coding skills..."}),s.jsxs("div",{className:"relative inline-block my-4",children:[s.jsx("div",{className:`text-4xl md:text-6xl font-black transition-all duration-700 ${y?"bg-blue-400 text-white":"text-slate-800"} px-3 py-2 rounded-lg font-mono`,children:"Winner"}),y&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute -left-3 top-0 animate-fadeIn",style:{animationDelay:"0.3s"},children:[s.jsx("div",{className:"w-1 h-full bg-blue-500"}),s.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full -ml-2 shadow-lg"})]}),s.jsxs("div",{className:"absolute -right-3 bottom-0 animate-fadeIn",style:{animationDelay:"0.3s"},children:[s.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full -mr-2 shadow-lg"}),s.jsx("div",{className:"w-1 h-full bg-blue-500"})]}),s.jsxs("div",{className:"absolute -top-24 left-1/2 -translate-x-1/2 animate-popIn",style:{animationDelay:"0.5s"},children:[s.jsx("div",{className:"bg-slate-800 rounded-2xl shadow-2xl overflow-hidden",children:s.jsx("button",{className:"px-10 py-5 text-white text-lg font-semibold hover:bg-slate-700 transition-colors",children:"Copy"})}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-slate-800 rotate-45"})]})]})]}),s.jsx("div",{className:"text-gray-600 text-xl md:text-2xl mt-6 leading-relaxed",children:"...they always find the perfect solution! "})]}),y&&s.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 animate-slideDown z-10",style:{animationDelay:"1.5s"},children:s.jsxs("div",{className:"bg-slate-800 text-white px-8 py-4 rounded-full shadow-2xl flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("span",{className:"font-semibold text-lg",children:"Copied"})]})}),y&&s.jsx("div",{className:"mt-8 animate-fadeIn",style:{animationDelay:"2.5s"},children:s.jsxs("div",{className:"bg-slate-100 rounded-3xl p-8 md:p-12 shadow-2xl relative",children:[s.jsx("div",{className:"text-gray-500 text-xl md:text-2xl mb-6 font-semibold",children:" Winner Name:"}),s.jsxs("div",{className:"relative",children:[w?s.jsx("div",{className:"text-4xl md:text-5xl font-black text-slate-800 animate-fadeIn",children:N.teamName}):s.jsx("div",{className:"text-4xl md:text-5xl font-black text-slate-400",children:s.jsx("span",{className:"animate-blink",children:"|"})}),s.jsxs("div",{className:"absolute -top-24 left-4 animate-popIn",style:{animationDelay:"3.5s",display:w?"none":"block"},children:[s.jsx("div",{className:"bg-slate-800 rounded-2xl shadow-2xl overflow-hidden",children:s.jsx("button",{className:"px-10 py-5 text-white text-lg font-semibold hover:bg-slate-700 transition-colors",children:"Paste"})}),s.jsx("div",{className:"absolute -bottom-2 left-10 w-4 h-4 bg-slate-800 rotate-45"})]})]})]})})]})}),s.jsxs("div",{className:`max-w-5xl mx-auto relative z-10 transition-all duration-1000 ${x?"opacity-100 scale-100":"opacity-0 scale-95"}`,role:"region","aria-live":"polite","aria-label":"Winner announcement",children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl overflow-hidden",children:[s.jsx("div",{className:"relative bg-blue-600 p-12 text-center",children:s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"relative bg-white rounded-full p-6 shadow-xl",children:s.jsx("div",{className:"text-6xl animate-bounce",style:{animationDuration:"2s"},children:N.logoEmoji})})}),s.jsx("div",{className:"inline-block px-5 py-2 bg-white/20 backdrop-blur-sm rounded-lg mb-4 border border-white/30",children:s.jsxs("span",{className:"text-white font-semibold text-sm tracking-wide uppercase flex items-center gap-2",children:[s.jsx(jx,{className:"w-4 h-4"}),N.category]})}),s.jsx("h1",{className:"text-5xl md:text-7xl font-black text-white mb-3 tracking-tight font-mono",children:N.teamName}),s.jsx("p",{className:"text-2xl md:text-3xl text-blue-100 font-semibold",children:N.projectName})]})}),s.jsx("div",{className:"bg-emerald-500 py-8 px-8 text-center relative",children:s.jsxs("div",{className:"relative z-10",children:[s.jsx("p",{className:"text-emerald-100 text-sm font-semibold mb-2 uppercase tracking-wider",children:"Grand Prize"}),s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx(yL,{className:"w-10 h-10 text-white"}),s.jsx("span",{className:"text-5xl md:text-6xl font-black text-white",children:N.prize})]})]})}),s.jsxs("div",{className:"p-8 space-y-6 bg-slate-50",children:[s.jsxs("button",{onClick:()=>d(!c),className:"w-full flex items-center justify-between bg-white hover:bg-slate-50 transition-all duration-300 rounded-xl p-5 group border-2 border-slate-200 hover:border-blue-400","aria-expanded":c,"aria-controls":"team-members",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Si,{className:"w-6 h-6 text-blue-600"})}),s.jsx("span",{className:"text-2xl font-bold text-slate-800",children:"Team Members"}),s.jsx("span",{className:"text-sm text-slate-500 bg-slate-200 px-3 py-1 rounded-full font-semibold",children:N.members.length})]}),c?s.jsx(_p,{className:"w-6 h-6 text-blue-600"}):s.jsx(ui,{className:"w-6 h-6 text-blue-600"})]}),c&&s.jsx("div",{id:"team-members",className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N.members.map((E,O)=>s.jsx("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-5 hover:border-blue-400 hover:shadow-md transition-all duration-300 animate-fadeIn",style:{animationDelay:`${O*.1}s`},children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white font-black text-xl shadow-md",children:E[0]}),s.jsx("span",{className:"text-slate-800 font-semibold text-lg",children:E})]})},O))}),s.jsxs("button",{onClick:()=>f(!u),className:"w-full flex items-center justify-between bg-white hover:bg-slate-50 transition-all duration-300 rounded-xl p-5 group border-2 border-slate-200 hover:border-blue-400","aria-expanded":u,"aria-controls":"project-details",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center",children:s.jsx(gL,{className:"w-6 h-6 text-amber-600"})}),s.jsx("span",{className:"text-2xl font-bold text-slate-800",children:"Project Details"})]}),u?s.jsx(_p,{className:"w-6 h-6 text-blue-600"}):s.jsx(ui,{className:"w-6 h-6 text-blue-600"})]}),u&&s.jsxs("div",{id:"project-details",className:"space-y-4 animate-fadeIn",children:[s.jsx("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-6",children:s.jsx("p",{className:"text-slate-700 leading-relaxed text-lg",children:N.description})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("a",{href:N.repoLink,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-3 bg-slate-800 hover:bg-slate-700 text-white font-bold py-5 px-6 rounded-xl transition-all duration-300 hover:shadow-lg group","aria-label":"View GitHub repository",children:[s.jsx(wL,{className:"w-6 h-6"}),s.jsx("span",{className:"text-lg",children:"View Code"}),s.jsx(jw,{className:"w-5 h-5"})]}),s.jsxs("a",{href:N.demoLink,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-3 bg-blue-600 hover:bg-blue-700 text-white font-bold py-5 px-6 rounded-xl transition-all duration-300 hover:shadow-lg group","aria-label":"View live demo",children:[s.jsx(jw,{className:"w-6 h-6"}),s.jsx("span",{className:"text-lg",children:"Live Demo"})]})]})]})]}),s.jsxs("div",{className:"bg-slate-100 px-8 py-6 text-center border-t-2 border-slate-200",children:[s.jsx("p",{className:"text-slate-800 text-xl font-bold mb-2",children:" Congratulations to the Champions! "}),s.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Code Connect Hackathon  NUST SEECS  2025"})]})]})}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("button",{onClick:()=>{i(!1),t(0),p(!1),g(""),v(!1),b(!1)},className:"px-8 py-4 bg-slate-800 hover:bg-slate-700 text-white font-semibold rounded-xl transition-all duration-300 hover:shadow-lg","aria-label":"Reset to reveal screen",children:" Reset Announcement"})})]}),s.jsx("style",{children:`
        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(50px) scale(0.95);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
        
        .animate-slideUp {
          animation: slideUp 1s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fadeIn {
          animation: fadeIn 1s ease-out forwards;
          opacity: 0;
        }

        @keyframes popIn {
          from {
            opacity: 0;
            transform: scale(0.8) translateY(-10px);
          }
          to {
            opacity: 1;
            transform: scale(1) translateY(0);
          }
        }
        
        .animate-popIn {
          animation: popIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
          opacity: 0;
        }

        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .animate-slideDown {
          animation: slideDown 0.4s ease-out forwards;
          opacity: 0;
        }

        @keyframes blink {
          0%, 50% { opacity: 1; }
          51%, 100% { opacity: 0; }
        }
        
        .animate-blink {
          animation: blink 1s infinite;
        }
      `})]}):s.jsxs("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 opacity-5",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)",backgroundSize:"50px 50px"}})}),s.jsxs("div",{className:"text-center space-y-12 z-10 max-w-2xl",children:[s.jsxs("div",{className:"space-y-4 animate-fadeIn",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[s.jsx(Um,{className:"w-8 h-8 text-blue-400"}),s.jsx(Um,{className:"w-10 h-10 text-blue-500"}),s.jsx(Um,{className:"w-8 h-8 text-blue-400"})]}),s.jsx("h1",{className:"text-6xl md:text-8xl font-black text-white mb-4 tracking-tight",children:"CODE CONNECT"}),s.jsx("div",{className:"inline-block bg-blue-500 text-white px-6 py-2 text-sm font-semibold tracking-wider uppercase",children:"Hackathon Winner 2025"})]}),s.jsx("p",{className:"text-lg text-slate-300 animate-fadeIn font-medium",style:{animationDelay:"0.3s"},children:"Press and hold the trophy to reveal the champion"}),s.jsx("div",{className:"relative inline-block animate-fadeIn",style:{animationDelay:"0.5s"},children:s.jsxs("button",{onMouseDown:C,onMouseUp:P,onMouseLeave:P,onTouchStart:C,onTouchEnd:P,className:"relative group","aria-label":"Press and hold to reveal winner","aria-live":"polite","aria-pressed":n,children:[s.jsxs("div",{className:"relative w-64 h-64 md:w-80 md:h-80",children:[s.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90",children:[s.jsx("circle",{cx:"50%",cy:"50%",r:"45%",fill:"none",stroke:"rgba(148, 163, 184, 0.2)",strokeWidth:"6"}),s.jsx("circle",{cx:"50%",cy:"50%",r:"45%",fill:"none",stroke:"#3B82F6",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:`${2*Math.PI*45} ${2*Math.PI*45}`,strokeDashoffset:2*Math.PI*45*(1-e/100),style:{transition:"stroke-dashoffset 0.1s linear"}})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:`transition-all duration-300 ${n?"scale-110":"scale-100"}`,children:s.jsx("div",{className:"relative",children:s.jsx(CL,{className:`w-32 h-32 md:w-40 md:h-40 transition-all duration-300 ${n?"text-amber-400":"text-slate-600"}`,style:{fill:n?`rgba(251, 191, 36, ${e/100})`:"none",filter:n?"drop-shadow(0 0 20px rgba(251, 191, 36, 0.5))":"none"}})})})}),n&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("span",{className:"text-4xl md:text-5xl font-black text-white",children:[Math.round(e),"%"]})})]}),s.jsx("div",{className:"mt-8",children:s.jsx("div",{className:`inline-block px-6 py-3 rounded-lg transition-all duration-300 ${n?"bg-blue-500 text-white":"bg-slate-800 text-slate-400 border border-slate-700"}`,children:s.jsx("p",{className:"text-sm font-semibold",children:n?"Keep holding...":"Press & Hold"})})})]})})]}),s.jsx("style",{children:`
          @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
          }
          .animate-fadeIn {
            animation: fadeIn 1s ease-out forwards;
            opacity: 0;
          }
        `})]})};function sH(){var c,d,u,f;const e=xt.isNativePlatform(),{data:t}=Ie({queryKey:["/api/mobile/auth/me"],queryFn:Er,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:5*60*1e3}),{data:n}=Ie({queryKey:["/api/contact/schedule"],queryFn:Er,enabled:!!t,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!0,staleTime:1*60*1e3}),{data:r}=Ie({queryKey:["/api/contact/invitations"],queryFn:Er,enabled:!!t,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!0,staleTime:1*60*1e3}),a=((c=n==null?void 0:n.upcoming)==null?void 0:c.length)||0,i=((d=n==null?void 0:n.past)==null?void 0:d.length)||0,o=((u=r==null?void 0:r.invitations)==null?void 0:u.length)||0,l=(f=n==null?void 0:n.upcoming)==null?void 0:f[0];return s.jsxs("div",{className:K("space-y-6",e&&"space-y-3"),children:[!e&&s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold",children:"Dashboard"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["Welcome back, ",t==null?void 0:t.firstName,"! Here's an overview of your jobs and invitations."]})]}),e&&s.jsxs("div",{children:[s.jsxs("h1",{className:"text-xl font-semibold",children:["Welcome back, ",t==null?void 0:t.firstName,"!"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Here's an overview of your jobs and invitations."})]}),s.jsxs("div",{className:K("grid gap-4",e?"grid-cols-3":"grid-cols-1 md:grid-cols-3"),children:[s.jsxs(ye,{children:[s.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ln,{className:"text-sm font-medium",children:"Upcoming Jobs"}),s.jsx(xa,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Se,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Jobs scheduled ahead"})]})]}),s.jsxs(ye,{children:[s.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ln,{className:"text-sm font-medium",children:"Pending Invitations"}),s.jsx(ku,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Se,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Require your response"})]})]}),s.jsxs(ye,{children:[s.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ln,{className:"text-sm font-medium",children:"Past Jobs"}),s.jsx(va,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Se,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed jobs"})]})]})]}),l&&s.jsxs(ye,{children:[s.jsx(ct,{children:s.jsx(ln,{children:"Next Job"})}),s.jsx(Se,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:l.name}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(nn,{className:"h-4 w-4"}),s.jsx("span",{children:dt(new Date(l.startTime),"EEEE, MMMM d, yyyy")})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(va,{className:"h-4 w-4"}),s.jsxs("span",{children:[dt(new Date(l.startTime),"h:mm a")," - ",dt(new Date(l.endTime),"h:mm a")]})]}),l.location&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Ni,{className:"h-4 w-4"}),s.jsx("span",{children:l.location})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx($e,{variant:l.availabilityStatus==="confirmed"?"default":"secondary",children:l.availabilityStatus==="confirmed"?"Confirmed":l.availabilityStatus==="declined"?"Declined":l.availabilityStatus==="maybe"?"Maybe":"Pending"})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ye,{className:"hover-elevate cursor-pointer",children:s.jsxs(Ye,{href:"/contact/invitations",children:[s.jsx(ct,{children:s.jsxs(ln,{className:"flex items-center gap-2",children:[s.jsx(ku,{className:"h-5 w-5"}),"Invitations"]})}),s.jsx(Se,{children:o>0?s.jsxs("p",{className:"text-muted-foreground",children:["You have ",o," pending invitation",o!==1?"s":""," waiting for your response."]}):s.jsx("p",{className:"text-muted-foreground",children:"No pending invitations at the moment."})})]})}),s.jsx(ye,{className:"hover-elevate cursor-pointer",children:s.jsxs(Ye,{href:"/contact/schedule",children:[s.jsx(ct,{children:s.jsxs(ln,{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"h-5 w-5"}),"View Schedule"]})}),s.jsx(Se,{children:s.jsx("p",{className:"text-muted-foreground",children:"View your complete schedule with all upcoming and past jobs."})})]})})]}),r&&r.invitations.length>0&&s.jsxs(ye,{children:[s.jsxs(ct,{className:"flex flex-row items-center justify-between",children:[s.jsx(ln,{children:"Recent Invitations"}),s.jsx(Ye,{href:"/contact/invitations",children:s.jsx(U,{variant:"ghost",size:"sm",children:"View All"})})]}),s.jsx(Se,{children:s.jsx("div",{className:"space-y-3",children:r.invitations.slice(0,3).map(m=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:m.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:dt(new Date(m.startTime),"MMM d, yyyy h:mm a")})]}),s.jsx($e,{variant:"outline",children:"Pending"})]},m.id))})})]})]})}function aH(){const e=xt.isNativePlatform(),{data:t,isLoading:n}=Ie({queryKey:["/api/contact/schedule"],queryFn:Er,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!0,staleTime:1*60*1e3});if(n)return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})});const r=(t==null?void 0:t.upcoming)||[],a=(t==null?void 0:t.past)||[];return s.jsxs("div",{className:K("space-y-6",e&&"space-y-3"),children:[!e&&s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold",children:"My Jobs"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"View all your upcoming and past job assignments"})]}),e&&s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold",children:"My Jobs"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"View all your job assignments"})]}),r.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Upcoming Jobs"}),s.jsx("div",{className:"space-y-3",children:r.map(i=>s.jsx(Fb,{job:i},i.id))})]}),a.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Past Jobs"}),s.jsx("div",{className:"space-y-3",children:a.map(i=>s.jsx(Fb,{job:i,isPast:!0},i.id))})]}),r.length===0&&a.length===0&&s.jsx(ye,{children:s.jsxs(Se,{className:"p-12 text-center",children:[s.jsx(nn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Jobs Yet"}),s.jsx("p",{className:"text-muted-foreground",children:"You don't have any job assignments at the moment. Check back later!"})]})})]})}function Fb({job:e,isPast:t=!1}){const n=new Date(e.startTime),r=new Date(e.endTime),a=dt(n,"EEEE, MMMM d, yyyy"),i=`${dt(n,"h:mm a")} - ${dt(r,"h:mm a")}`,o=l=>{switch(l){case"confirmed":return s.jsx($e,{className:"bg-green-600",children:"Confirmed"});case"declined":return s.jsx($e,{variant:"destructive",children:"Declined"});case"maybe":return s.jsx($e,{variant:"secondary",children:"Maybe"});default:return s.jsx($e,{variant:"outline",children:"Pending"})}};return s.jsx(ye,{className:t?"opacity-60":"hover-elevate",children:s.jsx(Se,{className:"p-6",children:s.jsx("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:s.jsxs("div",{className:"space-y-3 flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e.name}),o(e.availabilityStatus)]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(nn,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{children:a})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(va,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{children:i})]}),e.location&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Ni,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{children:e.location})]})]}),e.notes&&s.jsx("p",{className:"text-sm text-muted-foreground pt-2 border-t",children:e.notes})]})})})})}function iH(){const{toast:e}=St(),t=xt.isNativePlatform(),{data:n,isLoading:r,refetch:a}=Ie({queryKey:["/api/contact/invitations"],queryFn:Er,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!0,staleTime:1*60*1e3}),i=tt({mutationFn:async({availabilityId:c,status:d})=>await(await px("PATCH",`/api/contact/availability/${c}`,{status:d})).json(),onSuccess:()=>{e({title:"Response saved successfully"}),Ee.invalidateQueries({queryKey:["/api/contact/invitations"]}),Ee.invalidateQueries({queryKey:["/api/contact/schedule"]}),Ee.invalidateQueries({queryKey:["/api/contact/jobs"]}),a()},onError:c=>{e({title:"Failed to update response",description:c.message||"Please try again",variant:"destructive"})}});if(r)return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})});const o=(n==null?void 0:n.invitations)||[],l=(c,d)=>{if(!c.availabilityId){e({title:"Error",description:"Invalid invitation data",variant:"destructive"});return}i.mutate({availabilityId:c.availabilityId,status:d})};return s.jsxs("div",{className:K("space-y-6",t&&"space-y-3"),children:[!t&&s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold",children:"Job Invitations"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Respond to job invitations by accepting, declining, or marking as maybe"})]}),t&&s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Job Invitations"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Respond to job invitations"})]}),o.length===0?s.jsx(ye,{children:s.jsxs(Se,{className:"p-12 text-center",children:[s.jsx(nn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Pending Invitations"}),s.jsx("p",{className:"text-muted-foreground",children:"You don't have any pending job invitations at the moment."})]})}):s.jsx("div",{className:"space-y-4",children:o.map(c=>s.jsx(oH,{invitation:c,onResponse:l,isUpdating:i.isPending},c.id))})]})}function oH({invitation:e,onResponse:t,isUpdating:n}){const r=new Date(e.startTime),a=new Date(e.endTime),i=dt(r,"EEEE, MMMM d, yyyy"),o=`${dt(r,"h:mm a")} - ${dt(a,"h:mm a")}`,l=()=>{switch(e.availabilityStatus){case"confirmed":return s.jsx($e,{className:"bg-green-600",children:"Accepted"});case"declined":return s.jsx($e,{variant:"destructive",children:"Declined"});case"maybe":return s.jsx($e,{variant:"secondary",children:"Maybe"});default:return s.jsx($e,{variant:"outline",children:"Pending Response"})}},c=e.availabilityStatus!=="no_reply";return s.jsx(ye,{className:"hover-elevate",children:s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e.name}),l()]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(nn,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{children:i})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(va,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{children:o})]}),e.location&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Ni,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{children:e.location})]})]}),e.notes&&s.jsx("p",{className:"text-sm text-muted-foreground pt-2 border-t",children:e.notes})]})}),!c&&s.jsxs("div",{className:"flex flex-col gap-2 pt-4 border-t",children:[s.jsxs(U,{onClick:()=>t(e,"confirmed"),disabled:n,className:"flex-1",variant:"default",children:[s.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Accept"]}),s.jsx(U,{onClick:()=>t(e,"maybe"),disabled:n,className:"flex-1",variant:"secondary",children:"Maybe"}),s.jsxs(U,{onClick:()=>t(e,"declined"),disabled:n,className:"flex-1",variant:"destructive",children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Decline"]})]}),c&&s.jsx("div",{className:"pt-4 border-t",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"You have already responded to this invitation."})})]})})})}function lH(){const e=xt.isNativePlatform(),{data:t,isLoading:n}=Ie({queryKey:["/api/contact/messages"],queryFn:Er,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!0,staleTime:1*60*1e3});if(n)return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})});const r=t?[...t].sort((a,i)=>new Date(i.createdAt).getTime()-new Date(a.createdAt).getTime()):[];return s.jsxs("div",{className:K("space-y-6",e&&"space-y-3"),children:[!e&&s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold",children:"Messages"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"View all messages sent to you about your jobs"})]}),e&&s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Messages"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"View messages about your jobs"})]}),r.length===0?s.jsx(ye,{children:s.jsxs(Se,{className:"p-12 text-center",children:[s.jsx(Cs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Messages"}),s.jsx("p",{className:"text-muted-foreground",children:"You don't have any messages at the moment."})]})}):s.jsx("div",{className:"space-y-4",children:r.map(a=>s.jsx(cH,{message:a},a.id))})]})}function cH({message:e}){const t=e.direction==="outbound";return s.jsx(ye,{className:t?"ml-0":"mr-0",children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"}),s.jsx($e,{variant:t?"secondary":"default",children:t?"You":"From Manager"}),e.jobName&&s.jsxs($e,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(xa,{className:"h-3 w-3"}),e.jobName]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(va,{className:"h-3 w-3"}),s.jsx("span",{children:dt(new Date(e.createdAt),"MMM d, yyyy h:mm a")})]})]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.content})]})})})}function dH(){const[e,t]=h.useState(new Date),n=xt.isNativePlatform(),{data:r,isLoading:a}=Ie({queryKey:["/api/contact/schedule"],queryFn:Er,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!0,staleTime:1*60*1e3}),i=[...(r==null?void 0:r.upcoming)||[],...(r==null?void 0:r.past)||[]],o=lE(e),l=iE(e),c=pi(o),d=cE(l),u=oE({start:c,end:d}),f=m=>i.filter(p=>{const y=new Date(p.startTime);return zu(y,m)})||[];return a?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):s.jsxs("div",{className:K("space-y-6",n&&"space-y-3"),children:[!n&&s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold",children:"Schedule"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"View your jobs on a calendar"})]}),n&&s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Schedule"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"View your jobs on a calendar"})]}),s.jsx(ye,{children:s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-semibold",children:dt(e,"MMMM yyyy")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(U,{variant:"outline",size:"icon",onClick:()=>t(mE(e,1)),children:s.jsx(Jk,{className:"h-4 w-4"})}),s.jsx(U,{variant:"outline",onClick:()=>t(new Date),children:"Today"}),s.jsx(U,{variant:"outline",size:"icon",onClick:()=>t(jv(e,1)),children:s.jsx(Ef,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-px bg-border rounded-lg overflow-hidden",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(m=>s.jsx("div",{className:"bg-muted p-3 text-center text-sm font-medium",children:m},m)),u.map((m,p)=>{const y=f(m),g=fE(m,e),w=zu(m,new Date);return s.jsxs("div",{className:`bg-card min-h-24 p-2 ${g?"":"opacity-50"}`,children:[s.jsx("div",{className:`text-sm mb-2 ${w?"font-semibold text-primary":""}`,children:dt(m,"d")}),s.jsxs("div",{className:"space-y-1",children:[y.slice(0,2).map(v=>s.jsxs("div",{className:"bg-primary/10 border-l-2 border-primary px-2 py-1 rounded-sm",children:[s.jsx("div",{className:"text-xs font-medium truncate",children:v.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:dt(new Date(v.startTime),"h:mm a")}),s.jsx($e,{variant:v.availabilityStatus==="confirmed"?"default":"secondary",className:"text-xs mt-1",children:v.availabilityStatus==="confirmed"?"Confirmed":v.availabilityStatus==="declined"?"Declined":v.availabilityStatus==="maybe"?"Maybe":"Pending"})]},v.id)),y.length>2&&s.jsxs("div",{className:"text-xs text-muted-foreground px-2",children:["+",y.length-2," more"]})]})]},p)})]})]})}),i.length===0&&s.jsx(ye,{children:s.jsxs(Se,{className:"p-12 text-center",children:[s.jsx(nn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No jobs scheduled"}),s.jsx("p",{className:"text-muted-foreground",children:"You don't have any jobs scheduled for this month."})]})})]})}function uH(){const[,e]=Wt(),{toast:t}=St(),n=xt.isNativePlatform(),{data:r}=Ie({queryKey:["/api/mobile/auth/me"],queryFn:Er,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:5*60*1e3}),a=tt({mutationFn:async()=>await px("POST","/api/mobile/auth/logout",{}),onSuccess:()=>{Qr(),Ee.setQueryData(["/api/mobile/auth/me"],null),Ee.clear(),t({title:"Logged out successfully"}),setTimeout(()=>{e("/auth")},100)},onError:()=>{t({title:"Logout failed",variant:"destructive"})}}),i=()=>r!=null&&r.firstName&&(r!=null&&r.lastName)?`${r.firstName[0]}${r.lastName[0]}`.toUpperCase():r!=null&&r.email?r.email.substring(0,2).toUpperCase():"C",o=()=>r!=null&&r.firstName&&(r!=null&&r.lastName)?`${r.firstName} ${r.lastName}`:(r==null?void 0:r.email)||"Contact";return s.jsxs("div",{className:`min-h-screen bg-background ${n?"p-4":"container mx-auto p-6 max-w-2xl"} space-y-4`,children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your account and preferences"})]}),s.jsxs(ye,{children:[s.jsxs(ct,{children:[s.jsx(ln,{children:"Profile"}),s.jsx(ja,{children:"Your contact information"})]}),s.jsx(Se,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(rr,{className:"h-16 w-16",children:s.jsx(sr,{className:"text-lg bg-primary text-primary-foreground",children:i()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold",children:o()}),(r==null?void 0:r.email)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[s.jsx(Lo,{className:"h-4 w-4"}),s.jsx("span",{children:r.email})]}),(r==null?void 0:r.phone)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[s.jsx(_u,{className:"h-4 w-4"}),s.jsxs("span",{children:[r.countryCode," ",r.phone]})]})]})]})})]}),s.jsxs(ye,{children:[s.jsx(ct,{children:s.jsx(ln,{children:"Account Information"})}),s.jsxs(Se,{className:"space-y-4",children:[(r==null?void 0:r.firstName)&&(r==null?void 0:r.lastName)&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(fi,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Name"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.firstName," ",r.lastName]})]})]}),(r==null?void 0:r.email)&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Lo,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r.email})]})]}),(r==null?void 0:r.phone)&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(_u,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Phone"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.countryCode," ",r.phone]})]})]})]})]}),s.jsx(ye,{children:s.jsx(Se,{className:"pt-6",children:s.jsxs(U,{variant:"destructive",className:"w-full",onClick:()=>a.mutate(),disabled:a.isPending,children:[s.jsx(Oo,{className:"h-4 w-4 mr-2"}),a.isPending?"Logging out...":"Logout"]})})})]})}function fH(){return s.jsxs(rk,{children:[s.jsx(gt,{path:"/winner",component:rH}),s.jsx(gt,{path:"/auth",component:z9}),s.jsx(gt,{path:"/reset-password",component:U9}),s.jsx(gt,{path:"/pricing",component:H9}),s.jsx(gt,{path:"/schedule/:token",component:q9}),s.jsx(gt,{path:"/jobs/new",component:Eb}),s.jsx(gt,{path:"/jobs/:id/edit",component:Eb}),s.jsx(gt,{path:"/jobs/:id/schedule",component:HB}),s.jsx(gt,{path:"/jobs/:id/send",component:XB}),s.jsx(gt,{path:"/jobs",component:xV}),s.jsx(gt,{path:"/contacts",component:s9}),s.jsx(gt,{path:"/templates",component:g9}),s.jsx(gt,{path:"/calendar",component:v9}),s.jsx(gt,{path:"/billing",component:M9}),s.jsx(gt,{path:"/messages",component:W9}),s.jsx(gt,{path:"/profile",component:Q9}),s.jsx(gt,{path:"/team",component:I9}),s.jsx(gt,{path:"/",children:()=>s.jsx(Xa,{to:"/jobs"})}),s.jsx(gt,{component:wA})]})}function $b(){const[e]=Wt(),t=xt.isNativePlatform(),{data:n,isLoading:r}=Ie({queryKey:["/api/auth/me"],queryFn:t?hx:void 0,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:5*60*1e3}),a=e==="/auth"||e.startsWith("/reset-password")||e==="/pricing"||e.startsWith("/schedule/");return r&&!a?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading..."})}):!n&&!a?s.jsx(Xa,{to:"/auth"}):n&&e==="/auth"?s.jsx(Xa,{to:"/jobs"}):s.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[!a&&t&&s.jsx(v6,{}),!a&&!t&&s.jsx(x6,{}),s.jsx("main",{className:K("flex-1 w-full",a?"":t?"overflow-y-auto overflow-x-hidden mobile-container":"mx-auto max-w-screen-2xl px-6 py-8"),style:t&&!a?{paddingTop:"calc(2rem + 2rem + env(safe-area-inset-top, 0px))",paddingBottom:"calc(2rem + env(safe-area-inset-bottom, 0px))",paddingLeft:"calc(0.75rem + env(safe-area-inset-left, 0px))",paddingRight:"calc(0.75rem + env(safe-area-inset-right, 0px))"}:void 0,children:s.jsxs("div",{className:K(t&&!a?"w-full max-w-full overflow-x-hidden":""),children:[!a&&!t&&s.jsx(b6,{}),s.jsx(fH,{})]})}),!a&&t&&s.jsx(w6,{})]})}function mH(){return s.jsxs(rk,{children:[s.jsx(gt,{path:"/contact/dashboard",component:sH}),s.jsx(gt,{path:"/contact/jobs",component:aH}),s.jsx(gt,{path:"/contact/invitations",component:iH}),s.jsx(gt,{path:"/contact/messages",component:lH}),s.jsx(gt,{path:"/contact/schedule",component:dH}),s.jsx(gt,{path:"/contact/settings",component:uH}),s.jsx(gt,{path:"/contact",children:()=>s.jsx(Xa,{to:"/contact/dashboard"})}),s.jsx(gt,{component:wA})]})}function hH(){Wt();const e=Oc(),t=xt.isNativePlatform(),n=!1,{data:r,isLoading:a,error:i}=Ie({queryKey:["/api/mobile/auth/me"],queryFn:async()=>{if(!e)throw Qr(),new Error("UNAUTHORIZED");const c=`${xt.isNativePlatform()?"https://portal.heyteam.ai":""}/api/mobile/auth/me`,d=await fetch(c,{headers:{"X-Contact-ID":e},credentials:"include"});if(d.status===401)throw Qr(),new Error("UNAUTHORIZED");if(!d.ok)throw new Error("Failed to fetch contact");const u=await d.json();if(u.type!=="contact")throw Qr(),new Error("UNAUTHORIZED");return u},retry:!1,enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:5*60*1e3,gcTime:10*60*1e3});if(!e)return s.jsx(Xa,{to:"/auth"});if(i){const o=i instanceof Error?i.message:String(i);if(o==="UNAUTHORIZED"||o.includes("401"))return Qr(),Ee.removeQueries({queryKey:["/api/mobile/auth/me"]}),s.jsx(Xa,{to:"/auth"})}return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading..."})}):!r&&!a?(Qr(),Ee.removeQueries({queryKey:["/api/mobile/auth/me"]}),s.jsx(Xa,{to:"/auth"})):s.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[t&&s.jsx(eH,{}),!t&&s.jsx(X9,{}),s.jsx("main",{className:K("flex-1 w-full",t?"overflow-y-auto overflow-x-hidden mobile-container":"mx-auto max-w-screen-2xl px-6 py-8"),style:t&&!n?{paddingTop:"calc(2rem + 2rem + env(safe-area-inset-top, 0px))",paddingBottom:"calc(2rem + env(safe-area-inset-bottom, 0px))",paddingLeft:"calc(0.75rem + env(safe-area-inset-left, 0px))",paddingRight:"calc(0.75rem + env(safe-area-inset-right, 0px))"}:void 0,children:s.jsx("div",{className:K(t&&!n?"w-full max-w-full overflow-x-hidden":""),children:s.jsx(mH,{})})}),t&&s.jsx(nH,{})]})}function pH(){const[e]=Wt(),t=e==="/auth"||e.startsWith("/reset-password")||e==="/pricing"||e.startsWith("/schedule/");return e.startsWith("/contact")&&e!=="/auth"?s.jsx(hH,{}):t?s.jsx($b,{}):s.jsx($b,{})}function gH(){return s.jsx(ZO,{client:Ee,children:s.jsx(D$,{defaultTheme:"light",children:s.jsxs(V_,{children:[s.jsx(pH,{}),s.jsx(lF,{})]})})})}WC(document.getElementById("root")).render(s.jsx(gH,{}));
